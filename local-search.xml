<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆå…«ï¼‰ï¼šç®—æ³• &amp; æ•°æ®ç»“æ„ &amp; JSæ€ç»´é¢˜</title>
    <link href="/2024/03/16/front-end-interview-preparation-8/"/>
    <url>/2024/03/16/front-end-interview-preparation-8/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h1><p>æ•°æ®ç»“æ„çš„å­˜å‚¨æ–¹å¼åªæœ‰ä¸¤ç§ï¼šæ•°ç»„ï¼ˆé¡ºåºå­˜å‚¨ï¼‰å’Œé“¾è¡¨ï¼ˆé“¾å¼å­˜å‚¨ï¼‰ã€‚æ•£åˆ—è¡¨ã€æ ˆã€é˜Ÿåˆ—ã€å †ã€æ ‘ã€å›¾ç­‰ç­‰å„ç§æ•°æ®ç»“æ„éƒ½æ˜¯åœ¨é“¾è¡¨æˆ–è€…æ•°ç»„ä¸Šçš„ç‰¹æ®Šæ“ä½œã€‚Redis æä¾›åˆ—è¡¨ã€å­—ç¬¦ä¸²ã€é›†åˆç­‰ç­‰å‡ ç§å¸¸ç”¨æ•°æ®ç»“æ„ï¼Œä½†æ˜¯å¯¹äºæ¯ç§æ•°æ®ç»“æ„ï¼Œåº•å±‚çš„å­˜å‚¨æ–¹å¼éƒ½è‡³å°‘æœ‰ä¸¤ç§ï¼Œä»¥ä¾¿äºæ ¹æ®å­˜å‚¨æ•°æ®çš„å®é™…æƒ…å†µä½¿ç”¨åˆé€‚çš„å­˜å‚¨æ–¹å¼ã€‚</p><p>æ•°ç»„ï¼šç´§å‡‘è¿ç»­å­˜å‚¨ã€‚</p><ul><li>ä¼˜ç‚¹ï¼š1. éšæœºè®¿é—®ï¼ŒæŸ¥è¯¢å¿« 2. æ›´èŠ‚çº¦å­˜å‚¨ç©ºé—´</li><li>ç¼ºç‚¹ï¼š1. æ•°ç»„æ‰©å®¹éº»çƒ¦ 2. æ’å…¥å’Œåˆ é™¤æ“ä½œéº»çƒ¦</li></ul><p>é“¾è¡¨ï¼šå…ƒç´ ä¸è¿ç»­ï¼Œè€Œæ˜¯é æŒ‡é’ˆæŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ çš„ä½ç½®</p><ul><li>ä¼˜ç‚¹ï¼š1ï¼Œæ•°ç»„æ‰©å®¹ç®€å• 2. æ’å…¥å’Œåˆ é™¤æ“ä½œç®€å•</li><li>ç¼ºç‚¹ï¼š1. ä¸èƒ½éšæœºè®¿é—®ï¼ŒæŸ¥è¯¢æ…¢ 2. æ¶ˆè€—ç›¸å¯¹æ›´å¤šçš„å‚¨å­˜ç©ºé—´ï¼Œè¦å­˜å‚¨å‰é©±&#x2F;åé©±æŒ‡é’ˆã€‚</li></ul><h2 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h2><p>ä¸€ä¸ªå¯¹è±¡å­˜å‚¨è¿™ä¸ªæœ¬èº«çš„å€¼å’Œä¸‹ä¸€ä¸ªå…ƒç´ çš„åœ°å€:</p><p><img src="/img/front-end-interview-preparation/DSA-linkedlist.jpg" alt="é“¾è¡¨"></p><figure class="highlight javascript"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></div></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">ListNode</span>(<span class="hljs-params">val, next</span>)&#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">val</span> = val === <span class="hljs-literal">undefined</span> ? <span class="hljs-number">0</span> : val;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">next</span> = next === <span class="hljs-literal">undefined</span> ? <span class="hljs-literal">null</span> : next;<br>&#125;<br></code></pre></td></tr></table></figure><p>é“¾è¡¨åœ¨å¼€å‘ä¸­ä¹Ÿæ˜¯ç»å¸¸ç”¨åˆ°çš„æ•°æ®ç»“æ„ï¼ŒReact16 çš„ Fiber Node è¿æ¥èµ·æ¥å½¢æˆçš„ Fiber Tree, å°±æ˜¯ä¸ªå•é“¾è¡¨ç»“æ„ã€‚</p><ul><li>åŸºæœ¬é—®é¢˜ï¼šæ‰“å°ã€åˆ é™¤ã€åè½¬é“¾è¡¨</li><li>ç¯ç±»é—®é¢˜ï¼šå•æŒ‡é’ˆæ˜¯å¦å­˜åœ¨å¾ªç¯ç»“æ„</li><li>å¿«æ…¢æŒ‡é’ˆ<ul><li>è¾“å‡ºé“¾è¡¨ä¸­å€’æ•°ç¬¬kä¸ªç»“ç‚¹</li><li>ä¸¤ä¸ªé“¾è¡¨çš„å…¬å…±èŠ‚ç‚¹</li></ul></li><li>å“‘èŠ‚ç‚¹ï¼ˆdummyï¼‰</li><li>åŒå‘é“¾è¡¨ï¼ˆè¿˜æœ‰ prev å­—æ®µï¼‰</li></ul><h3 id="æ‰“å°é“¾è¡¨"><a href="#æ‰“å°é“¾è¡¨" class="headerlink" title="æ‰“å°é“¾è¡¨"></a>æ‰“å°é“¾è¡¨</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">printHeadToTail</span>(<span class="hljs-params">head</span>)<br>&#123;<br>    <span class="hljs-keyword">const</span> array = [];<br>    <span class="hljs-keyword">while</span>(head)&#123;<br>        array.<span class="hljs-title function_">push</span>(head.<span class="hljs-property">val</span>);<br>        head = head.<span class="hljs-property">next</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> array;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åè½¬é“¾è¡¨"><a href="#åè½¬é“¾è¡¨" class="headerlink" title="åè½¬é“¾è¡¨"></a>åè½¬é“¾è¡¨</h3><p><a href="https://leetcode.com/problems/reverse-linked-list/">leetcode #206</a></p><p>è¿­ä»£ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> reverseList = <span class="hljs-keyword">function</span>(<span class="hljs-params">head</span>) &#123;<br>    <span class="hljs-keyword">let</span> prev = <span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">let</span> curr = head;<br>    <span class="hljs-keyword">while</span>(curr !== <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-comment">// 1. è®°å½•ä¸‹ä¸€ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">const</span> next = curr.<span class="hljs-property">next</span>;<br>        <span class="hljs-comment">// 2. åè½¬é“¾è¡¨æŒ‡é’ˆ</span><br>        curr.<span class="hljs-property">next</span> = prev;<br>        <span class="hljs-comment">// 3. æŒ‡é’ˆå‘å‰èµ°</span><br>        prev = curr;<br>        curr = next;<br>    &#125;<br>    <span class="hljs-keyword">return</span> prev;<br>&#125;;<br></code></pre></td></tr></table></figure><p>é€’å½’ï¼š</p><p><img src="/img/front-end-interview-preparation/DSA-reverse-linkedList.png" alt="åè½¬é“¾è¡¨ï¼ˆé€’å½’åšæ³•ï¼‰"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> reverseList = <span class="hljs-keyword">function</span>(<span class="hljs-params">head</span>) &#123;<br>    <span class="hljs-keyword">if</span> (head == <span class="hljs-literal">null</span> || head.<span class="hljs-property">next</span> == <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-keyword">return</span> head;<br>    &#125;<br>    <span class="hljs-comment">// 1. é€’å½’è®°å½•ä¸‹å°¾èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">const</span> newHead = <span class="hljs-title function_">reverseList</span>(head.<span class="hljs-property">next</span>);<br>    <span class="hljs-comment">// 2. åè½¬é“¾è¡¨æŒ‡é’ˆ</span><br>    head.<span class="hljs-property">next</span>.<span class="hljs-property">next</span> = head;<br>    head.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;<br>    <span class="hljs-comment">// 3. è¿”å›å°¾èŠ‚ç‚¹</span><br>    <span class="hljs-keyword">return</span> newHead;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="åˆå¹¶é“¾è¡¨"><a href="#åˆå¹¶é“¾è¡¨" class="headerlink" title="åˆå¹¶é“¾è¡¨"></a>åˆå¹¶é“¾è¡¨</h3><p><a href="https://leetcode.com/problems/merge-two-sorted-lists/description/">leetcode #21</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// è¿­ä»£</span><br><span class="hljs-keyword">var</span> mergeTwoLists = <span class="hljs-keyword">function</span> (<span class="hljs-params">l1, l2</span>) &#123;<br>    <span class="hljs-keyword">let</span> p1 = list1;<br>    <span class="hljs-keyword">let</span> p2 = list2;<br>    <span class="hljs-keyword">const</span> dummy = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ListNode</span>(<span class="hljs-literal">null</span>);<br>    p = dummy;<br><br>    <span class="hljs-keyword">while</span>(p1 &amp;&amp; p2) &#123;<br>        <span class="hljs-keyword">if</span>(p1.<span class="hljs-property">val</span> &gt;= p2.<span class="hljs-property">val</span>) &#123;<br>            p.<span class="hljs-property">next</span> = p2;<br>            p2 = p2.<span class="hljs-property">next</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            p.<span class="hljs-property">next</span> = p1;<br>            p1 = p1.<span class="hljs-property">next</span>;<br>        &#125;<br>        p = p.<span class="hljs-property">next</span>;<br>        p.<span class="hljs-property">next</span> = <span class="hljs-literal">null</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (p2) &#123;<br>        p.<span class="hljs-property">next</span> = p2;<br>    &#125;<br>    <span class="hljs-keyword">if</span> (p1) &#123;<br>        p.<span class="hljs-property">next</span> = p1;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> dummy.<span class="hljs-property">next</span>;<br>&#125;;<br><br><span class="hljs-comment">// é€’å½’</span><br><span class="hljs-keyword">var</span> mergeTwoLists = <span class="hljs-keyword">function</span>(<span class="hljs-params">l1, l2</span>) &#123;<br>  <span class="hljs-keyword">if</span> (l1 === <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> l2;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l2 === <span class="hljs-literal">null</span>) &#123;<br>      <span class="hljs-keyword">return</span> l1;<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (l1.<span class="hljs-property">val</span> &lt; l2.<span class="hljs-property">val</span>) &#123;<br>      l1.<span class="hljs-property">next</span> = <span class="hljs-title function_">mergeTwoLists</span>(l1.<span class="hljs-property">next</span>, l2);<br>      <span class="hljs-keyword">return</span> l1;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>      l2.<span class="hljs-property">next</span> = <span class="hljs-title function_">mergeTwoLists</span>(l1, l2.<span class="hljs-property">next</span>);<br>      <span class="hljs-keyword">return</span> l2;<br>  &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å¿«æ…¢æŒ‡é’ˆ"><a href="#å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆ"></a>å¿«æ…¢æŒ‡é’ˆ</h3><p><a href="https://leetcode.com/problems/linked-list-cycle/description/">leetcode #141</a></p><p>åˆ¤æ–­é“¾è¡¨æ˜¯å¦åŒ…å«ç¯å±äºç»å…¸é—®é¢˜äº†ï¼Œè§£å†³æ–¹æ¡ˆä¹Ÿæ˜¯ç”¨å¿«æ…¢æŒ‡é’ˆï¼š</p><p>æ¯å½“æ…¢æŒ‡é’ˆ slow å‰è¿›ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆ fast å°±å‰è¿›ä¸¤æ­¥ã€‚</p><p>å¦‚æœ fast æœ€ç»ˆé‡åˆ°ç©ºæŒ‡é’ˆï¼Œè¯´æ˜é“¾è¡¨ä¸­æ²¡æœ‰ç¯ï¼›å¦‚æœ fast æœ€ç»ˆå’Œ slow ç›¸é‡ï¼Œé‚£è‚¯å®šæ˜¯ fast è¶…è¿‡äº† slow ä¸€åœˆï¼Œè¯´æ˜é“¾è¡¨ä¸­å«æœ‰ç¯ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> hasCycle = <span class="hljs-keyword">function</span> (<span class="hljs-params">head</span>) &#123;<br>    <span class="hljs-keyword">var</span> slow = head, fast = head;<br>    <span class="hljs-keyword">while</span> (fast != <span class="hljs-literal">null</span> &amp;&amp; fast.<span class="hljs-property">next</span> != <span class="hljs-literal">null</span>) &#123;<br>        slow = slow.<span class="hljs-property">next</span>;<br>        fast = fast.<span class="hljs-property">next</span>.<span class="hljs-property">next</span>;<br>        <span class="hljs-keyword">if</span> (slow == fast) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤"><a href="#ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤" class="headerlink" title="ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤"></a>ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤</h3><p>ä¸¤ä¸ªé“¾è¡¨æ˜¯å¦ç›¸äº¤: æ‹¼æ¥ä¸¤ä¸ªé“¾è¡¨</p><p><a href="https://leetcode.com/problems/intersection-of-two-linked-lists/description/">leetcode #160</a></p><p><img src="/img/front-end-interview-preparation/DSA-linkedlist-intersection.png" alt="ä¾‹å­"></p><p><img src="/img/front-end-interview-preparation/DSA-linkedlist-intersection-solution.png" alt="è§£æ³•"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> getIntersectionNode = <span class="hljs-keyword">function</span>(<span class="hljs-params">headA, headB</span>) &#123;<br>    <span class="hljs-keyword">var</span> p1 = headA, p2 = headB;<br>    <span class="hljs-keyword">while</span> (p1 != p2) &#123;<br>        <span class="hljs-keyword">if</span> (p1 == <span class="hljs-literal">null</span>) p1 = headB;<br>        <span class="hljs-keyword">else</span>            p1 = p1.<span class="hljs-property">next</span>;<br>        <span class="hljs-keyword">if</span> (p2 == <span class="hljs-literal">null</span>) p2 = headA;<br>        <span class="hljs-keyword">else</span>            p2 = p2.<span class="hljs-property">next</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> p1;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>æ•°ç»„æ˜¯æˆ‘ä»¬åœ¨å¼€å‘ä¸­æœ€å¸¸è§åˆ°çš„æ•°æ®ç»“æ„äº†ï¼Œç”¨äºæŒ‰é¡ºåºå­˜å‚¨å…ƒç´ çš„é›†åˆã€‚ä½†æ˜¯å…ƒç´ å¯ä»¥éšæœºå­˜å–ï¼Œå› ä¸ºæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½å¯ä»¥é€šè¿‡æ•°ç»„ç´¢å¼•æ¥è¯†åˆ«ã€‚æ’å…¥å’Œåˆ é™¤æ—¶è¦ç§»åŠ¨åç»­å…ƒç´ ï¼Œè¿˜è¦è€ƒè™‘æ‰©å®¹é—®é¢˜ï¼Œæ’å…¥æ…¢ã€‚</p><p>åŒæŒ‡é’ˆæŠ€å·§</p><ul><li>å¿«æ…¢æŒ‡é’ˆï¼šä¸¤ä¸ªæŒ‡é’ˆåŒå‘è€Œè¡Œï¼Œä¸€å¿«ä¸€æ…¢<ul><li>åˆ é™¤æœ‰åºæ•°ç»„é‡å¤é¡¹ #26</li></ul></li><li>å·¦å³æŒ‡é’ˆï¼šä¸¤ä¸ªæŒ‡é’ˆç›¸å‘è€Œè¡Œæˆ–è€…ç›¸èƒŒè€Œè¡Œï¼ˆä»ä¸­é—´å‘ä¸¤ç«¯æ‰©æ•£ï¼‰<ul><li>æŒ‡é’ˆç›¸å‘ï¼šå›æ–‡ä¸²åˆ¤æ–­</li><li>ç›¸èƒŒè€Œè¡Œï¼šæœ€é•¿å›æ–‡ä¸² #5</li></ul></li></ul><p>Næ•°ä¹‹å’Œ</p><ul><li>ä¸¤æ•°ä¹‹å’Œ #1</li><li>ä¸‰æ•°ä¹‹å’Œ</li><li>Næ•°ä¹‹å’Œ</li></ul><p>è¾…åŠ©æ•°ç»„æŠ€å·§</p><ul><li>å‰ç¼€å’Œæ•°ç»„ï¼šé€‚ç”¨äºåŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹æ—¶ï¼Œé¢‘ç¹æŸ¥è¯¢æŸä¸ªåŒºé—´çš„ç´¯åŠ å’Œ #303 #304</li><li>å·®åˆ†æ•°ç»„ï¼šé€‚ç”¨äºé¢‘ç¹å¯¹åŸå§‹æ•°ç»„çš„æŸä¸ªåŒºé—´å…ƒç´ è¿›è¡Œå¢å‡ #370 #1094</li></ul><h3 id="å¿«æ…¢æŒ‡é’ˆæŠ€å·§"><a href="#å¿«æ…¢æŒ‡é’ˆæŠ€å·§" class="headerlink" title="å¿«æ…¢æŒ‡é’ˆæŠ€å·§"></a>å¿«æ…¢æŒ‡é’ˆæŠ€å·§</h3><p>åˆ é™¤æœ‰åºæ•°ç»„é‡å¤é¡¹</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> removeDuplicates = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">if</span> (nums.<span class="hljs-property">length</span> &lt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> nums.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">let</span> slow = <span class="hljs-number">0</span>, fast = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (fast &lt; nums.<span class="hljs-property">length</span>) &#123;<br>        <span class="hljs-keyword">if</span> (nums[fast] !== nums[slow]) &#123;<br>            slow++;<br>            nums[slow] = nums[fast];<br>        &#125;<br>        fast++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> slow + <span class="hljs-number">1</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å·¦å³æŒ‡é’ˆæŠ€å·§"><a href="#å·¦å³æŒ‡é’ˆæŠ€å·§" class="headerlink" title="å·¦å³æŒ‡é’ˆæŠ€å·§"></a>å·¦å³æŒ‡é’ˆæŠ€å·§</h3><p>æœ€é•¿å›æ–‡å­ä¸²</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> longestPalindrome = <span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) &#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getPalindrome</span> = (<span class="hljs-params">left, right</span>) =&gt; &#123;<br>        <span class="hljs-keyword">while</span> (left &gt;= <span class="hljs-number">0</span> &amp;&amp; right &lt; s.<span class="hljs-property">length</span> &amp;&amp; s[left] == s[right]) &#123;<br>            left--;<br>            right++;<br>        &#125;<br>        <span class="hljs-keyword">return</span> s.<span class="hljs-title function_">substring</span>(left + <span class="hljs-number">1</span>, right);<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> result = <span class="hljs-string">&#x27;&#x27;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; s.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">const</span> s1 = <span class="hljs-title function_">getPalindrome</span>(i, i);<br>        <span class="hljs-keyword">const</span> s2 = <span class="hljs-title function_">getPalindrome</span>(i, i+<span class="hljs-number">1</span>);<br>        result = s1.<span class="hljs-property">length</span> &gt; result.<span class="hljs-property">length</span> ? s1 : result;<br>        result = s2.<span class="hljs-property">length</span> &gt; result.<span class="hljs-property">length</span> ? s2 : result;<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ä¸¤æ•°ä¹‹å’Œ"><a href="#ä¸¤æ•°ä¹‹å’Œ" class="headerlink" title="ä¸¤æ•°ä¹‹å’Œ"></a>ä¸¤æ•°ä¹‹å’Œ</h3><p>æ±‚æŒ‡é’ˆï¼šOne-Pass Hash Table</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> twoSum = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums, target</span>) &#123;<br>    <span class="hljs-keyword">const</span> map = &#123;&#125;;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; nums.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">if</span> (map[target - nums[i]] !== <span class="hljs-literal">undefined</span>) &#123;<br>            <span class="hljs-keyword">return</span> [map[target - nums[i]], i];<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            map[nums[i]] = i;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> [];<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ±‚æ•°å­—ï¼šå…ˆæ’åºï¼ŒååŒæŒ‡é’ˆ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> twoSum = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums, target</span>) &#123;<br>    nums.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b);<br>    <span class="hljs-keyword">let</span> p1 = <span class="hljs-number">0</span>, p2 = nums.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (p1 &lt; p2) &#123;<br>        <span class="hljs-keyword">let</span> sum = nums[p1] + nums[p2];<br>        <span class="hljs-keyword">if</span> (sum &lt; target) &#123;<br>            p1++;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sum &gt; target) &#123;<br>            p2--;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (sum === target) &#123;<br>            <span class="hljs-keyword">return</span> [nums[p1], nums[p2]];<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> [];<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å‰ç¼€å’Œæ•°ç»„"><a href="#å‰ç¼€å’Œæ•°ç»„" class="headerlink" title="å‰ç¼€å’Œæ•°ç»„"></a>å‰ç¼€å’Œæ•°ç»„</h3><p>å‰ç¼€å’Œæ•°ç»„é€‚ç”¨äºåŸå§‹æ•°ç»„ä¸ä¼šè¢«ä¿®æ”¹æ—¶ï¼Œé¢‘ç¹<strong>æŸ¥è¯¢æŸä¸ªåŒºé—´çš„ç´¯åŠ å’Œ</strong></p><p>#303. Range Sum Query - Immutable</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">NumArray</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">nums</span> = nums;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">preSum</span> = nums.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">1</span> ? [nums[<span class="hljs-number">0</span>]] : [];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; nums.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">preSum</span>[i] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">preSum</span>[i - <span class="hljs-number">1</span>] + nums[i];<br>    &#125;<br>&#125;;<br><br><span class="hljs-title class_">NumArray</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sumRange</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">left, right</span>) &#123;<br>    <span class="hljs-keyword">const</span> leftSum = left &gt;= <span class="hljs-number">1</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">preSum</span>[left - <span class="hljs-number">1</span>] : <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">preSum</span>[right] - leftSum;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å·®åˆ†æ•°ç»„"><a href="#å·®åˆ†æ•°ç»„" class="headerlink" title="å·®åˆ†æ•°ç»„"></a>å·®åˆ†æ•°ç»„</h3><p>å·®åˆ†æ•°ç»„é€‚ç”¨äºé¢‘ç¹å¯¹åŸå§‹æ•°ç»„çš„<strong>æŸä¸ªåŒºé—´å…ƒç´ è¿›è¡Œå¢å‡</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> <span class="hljs-title class_">Difference</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-comment">// å·®åˆ†æ•°ç»„</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span> = [];<br><br>    <span class="hljs-comment">/* è¾“å…¥ä¸€ä¸ªåˆå§‹æ•°ç»„ï¼ŒåŒºé—´æ“ä½œå°†åœ¨è¿™ä¸ªæ•°ç»„ä¸Šè¿›è¡Œ */</span><br>    <span class="hljs-keyword">if</span> (nums.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(nums.<span class="hljs-property">length</span>);<br>        <span class="hljs-comment">// æ ¹æ®åˆå§‹æ•°ç»„æ„é€ å·®åˆ†æ•°ç»„</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>[<span class="hljs-number">0</span>] = nums[<span class="hljs-number">0</span>];<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; nums.<span class="hljs-property">length</span>; i++) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>[i] = nums[i] - nums[i - <span class="hljs-number">1</span>];<br>        &#125;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">/* ç»™é—­åŒºé—´ [i, j] å¢åŠ  valï¼ˆå¯ä»¥æ˜¯è´Ÿæ•°ï¼‰*/</span><br><span class="hljs-title class_">Difference</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">increment</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">i, j, val</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>[i] += val;<br>    <span class="hljs-keyword">if</span> (j + <span class="hljs-number">1</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>.<span class="hljs-property">length</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>[j + <span class="hljs-number">1</span>] -= val;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">/* è¿”å›ç»“æœæ•°ç»„ */</span><br><span class="hljs-title class_">Difference</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">result</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>.<span class="hljs-property">length</span>);<br>    <span class="hljs-comment">// æ ¹æ®å·®åˆ†æ•°ç»„æ„é€ ç»“æœæ•°ç»„</span><br>    res[<span class="hljs-number">0</span>] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>[<span class="hljs-number">0</span>];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>.<span class="hljs-property">length</span>; i++) &#123;<br>        res[i] = res[i - <span class="hljs-number">1</span>] + <span class="hljs-variable language_">this</span>.<span class="hljs-property">diff</span>[i];<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="äºŒå‰æ ‘"><a href="#äºŒå‰æ ‘" class="headerlink" title="äºŒå‰æ ‘"></a>äºŒå‰æ ‘</h2><p>åŸºç¡€é¢˜ï¼š</p><ul><li>å‰&#x2F;ä¸­&#x2F;ååºéå†ï¼ˆé€’å½’&#x2F;è¿­ä»£ï¼‰#94<ul><li>å˜å½¢ï¼šäºŒå‰æœç´¢æ ‘çš„ç¬¬ k ä¸ªèŠ‚ç‚¹ #230</li></ul></li><li>å±‚æ¬¡éå† #102<ul><li>å˜å½¢ï¼š #107 #116</li></ul></li><li>é€’å½’&#x2F;éå†æ€è·¯<ul><li>äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦ #104</li><li>å¯¹ç§°äºŒå‰æ ‘ #101</li></ul></li><li>æ„é€ <ul><li>ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ #105</li></ul></li><li>äºŒå‰æœç´¢æ ‘<ul><li>éªŒè¯äºŒå‰æœç´¢æ ‘ #98</li></ul></li></ul><p>æ ‘æ˜¯ç”¨æ¥æ¨¡æ‹Ÿå…·æœ‰æ ‘çŠ¶ç»“æ„æ€§è´¨çš„æ•°æ®é›†åˆã€‚æ ¹æ®å®ƒçš„ç‰¹æ€§å¯ä»¥åˆ†ä¸ºéå¸¸å¤šçš„ç§ç±»ï¼Œå¯¹äºæˆ‘ä»¬æ¥è®²ï¼ŒæŒæ¡äºŒå‰æ ‘è¿™ç§ç»“æ„å°±è¶³å¤Ÿäº†ï¼Œå®ƒä¹Ÿæ˜¯æ ‘æœ€ç®€å•ã€åº”ç”¨æœ€å¹¿æ³›çš„ç§ç±»ã€‚äºŒå‰æ ‘æ˜¯ä¸€ç§å…¸å‹çš„æ ‘æ ‘çŠ¶ç»“æ„ã€‚å¦‚å®ƒåå­—æ‰€æè¿°çš„é‚£æ ·ï¼ŒäºŒå‰æ ‘æ˜¯æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šæœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç»“æ„ï¼Œé€šå¸¸å­æ ‘è¢«ç§°ä½œâ€œå·¦å­æ ‘â€å’Œâ€œå³å­æ ‘â€ã€‚</p><p><img src="/img/front-end-interview-preparation/DSA-binarytree.png" alt="binary tree"></p><p>äºŒå‰æ ‘è§£é¢˜çš„æ€ç»´æ¨¡å¼åˆ†ä¸¤ç±»ï¼š</p><ol><li>æ˜¯å¦å¯ä»¥é€šè¿‡éå†ä¸€éäºŒå‰æ ‘å¾—åˆ°ç­”æ¡ˆï¼Ÿå¦‚æœå¯ä»¥ï¼Œç”¨ä¸€ä¸ª traverse å‡½æ•°é…åˆå¤–éƒ¨å˜é‡æ¥å®ç°ï¼Œè¿™å«ã€Œéå†ã€çš„æ€ç»´æ¨¡å¼ã€‚</li><li>æ˜¯å¦å¯ä»¥å®šä¹‰ä¸€ä¸ªé€’å½’å‡½æ•°ï¼Œé€šè¿‡å­é—®é¢˜ï¼ˆå­æ ‘ï¼‰çš„ç­”æ¡ˆæ¨å¯¼å‡ºåŸé—®é¢˜çš„ç­”æ¡ˆï¼Ÿå¦‚æœå¯ä»¥ï¼Œå†™å‡ºè¿™ä¸ªé€’å½’å‡½æ•°çš„å®šä¹‰ï¼Œå¹¶å……åˆ†åˆ©ç”¨è¿™ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œè¿™å«ã€Œåˆ†è§£é—®é¢˜ã€çš„æ€ç»´æ¨¡å¼ã€‚</li></ol><p>æ— è®ºä½¿ç”¨å“ªç§æ€ç»´æ¨¡å¼ï¼Œä½ éƒ½éœ€è¦æ€è€ƒï¼šå¦‚æœå•ç‹¬æŠ½å‡ºä¸€ä¸ªäºŒå‰æ ‘èŠ‚ç‚¹ï¼Œå®ƒéœ€è¦åšä»€ä¹ˆäº‹æƒ…ï¼Ÿéœ€è¦åœ¨ä»€ä¹ˆæ—¶å€™ï¼ˆå‰&#x2F;ä¸­&#x2F;ååºä½ç½®ï¼‰åšï¼Ÿå…¶ä»–çš„èŠ‚ç‚¹ä¸ç”¨ä½ æ“å¿ƒï¼Œé€’å½’å‡½æ•°ä¼šå¸®ä½ åœ¨æ‰€æœ‰èŠ‚ç‚¹ä¸Šæ‰§è¡Œç›¸åŒçš„æ“ä½œã€‚</p><h3 id="1-äºŒå‰æ ‘çš„éå†"><a href="#1-äºŒå‰æ ‘çš„éå†" class="headerlink" title="1.äºŒå‰æ ‘çš„éå†"></a>1.äºŒå‰æ ‘çš„éå†</h3><p>äºŒå‰æ ‘çš„éå†åˆ†æˆä¸‰ç§ï¼ŒæŒ‰ç…§æ ¹èŠ‚ç‚¹çš„è®¿é—®å…ˆååˆ†ä¸ºï¼š</p><ul><li>å…ˆåºéå†ï¼ˆpreorderï¼‰ï¼šå…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œç„¶åè®¿é—®å·¦å­æ ‘ï¼Œ æœ€åè®¿é—®å³å­æ ‘ã€‚</li><li>ä¸­åºéå†ï¼ˆinorderï¼‰ï¼šå…ˆè®¿é—®å·¦å­æ ‘ï¼Œç„¶åè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œ æœ€åè®¿é—®å³å­æ ‘ã€‚</li><li>ååºéå†ï¼ˆpostorderï¼‰ï¼šå…ˆè®¿é—®å·¦å­æ ‘ï¼Œç„¶åè®¿é—®å³å­æ ‘ï¼Œ æœ€åè®¿é—®æ ¹èŠ‚ç‚¹ã€‚<br>å‰&#x2F;ä¸­&#x2F;åæŒ‡çš„æ˜¯æ ¹å…ƒç´ çš„ä½ç½®ã€‚</li></ul><p>ä»¥ä¸­åºéå†ä¸ºä¾‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// é€’å½’</span><br><span class="hljs-keyword">var</span> inorderTraversal = <span class="hljs-keyword">function</span> (<span class="hljs-params">root, array = []</span>) &#123;<br>  <span class="hljs-keyword">if</span> (root) &#123;<br>    <span class="hljs-title function_">inorderTraversal</span>(root.<span class="hljs-property">left</span>, array);<br>    array.<span class="hljs-title function_">push</span>(root.<span class="hljs-property">val</span>);<br>    <span class="hljs-title function_">inorderTraversal</span>(root.<span class="hljs-property">right</span>, array);<br>  &#125;<br>  <span class="hljs-keyword">return</span> array;<br>&#125;;<br><span class="hljs-comment">// è¿­ä»£ï¼ˆç”¨åˆ°äº†æ ˆï¼‰</span><br><span class="hljs-keyword">var</span> inorderTraversal = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) &#123;<br>    <span class="hljs-keyword">let</span> stack = [], cur = root, res = [];<br>    <span class="hljs-comment">// æŒ‡é’ˆä¸æ˜¯æŒ‡åˆ°nullï¼Œæˆ–æ ˆå†…æœ‰å…ƒç´ </span><br>    <span class="hljs-keyword">while</span>(cur || stack.<span class="hljs-property">length</span>)&#123;<br>        <span class="hljs-comment">// 1.æŠŠå½“å‰èŠ‚ç‚¹çš„å·¦å­æ ‘ä¾æ¬¡å‹å…¥æ ˆ</span><br>        <span class="hljs-keyword">while</span>(cur) &#123;<br>            stack.<span class="hljs-title function_">push</span>(cur);<br>            cur = cur.<span class="hljs-property">left</span>;<br>        &#125;<br>        <span class="hljs-comment">// 2.èŠ‚ç‚¹å‡ºæ ˆ</span><br>        cur = stack.<span class="hljs-title function_">pop</span>();<br>        res.<span class="hljs-title function_">push</span>(cur.<span class="hljs-property">val</span>);  <span class="hljs-comment">// ğŸ’¡ï¼šå‰/ä¸­/åéå†çš„åŒºåˆ«åœ¨äºè¿™ä¸€è¡Œä»£ç çš„æ‰§è¡Œä½ç½®</span><br>        <span class="hljs-comment">// 3.ä»¥å½“å‰èŠ‚ç‚¹çš„å³å­æ ‘ä¸ºç›®æ ‡èŠ‚ç‚¹,é‡å¤ä¸Šè¿°è¿‡ç¨‹</span><br>        cur = cur.<span class="hljs-property">right</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> res;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="2-å±‚æ¬¡éå†"><a href="#2-å±‚æ¬¡éå†" class="headerlink" title="2.å±‚æ¬¡éå†"></a>2.å±‚æ¬¡éå†</h3><p>ç”¨äº†é˜Ÿåˆ—ï¼ˆqueueï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> levelOrder = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) &#123;<br>    <span class="hljs-keyword">if</span>(!root) <span class="hljs-keyword">return</span> [];<br><br>    <span class="hljs-keyword">const</span> queue = [], res = [];<br>    queue.<span class="hljs-title function_">push</span>(root);<br>    <span class="hljs-comment">// 1. ä»ä¸Šåˆ°ä¸‹éå†äºŒå‰æ ‘çš„æ¯ä¸€å±‚</span><br>    <span class="hljs-keyword">while</span>(queue.<span class="hljs-property">length</span>) &#123;<br>        <span class="hljs-keyword">const</span> len = queue.<span class="hljs-property">length</span>;<br>        <span class="hljs-keyword">const</span> temp = [];<br>        <span class="hljs-comment">// 2. ä»å·¦åˆ°å³éå†äºŒå‰æ ‘çš„æ¯ä¸ªèŠ‚ç‚¹</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>            <span class="hljs-keyword">const</span> cur = queue.<span class="hljs-title function_">shift</span>();<br>            temp.<span class="hljs-title function_">push</span>(cur.<span class="hljs-property">val</span>);<br>            <span class="hljs-keyword">if</span>(cur.<span class="hljs-property">left</span>) queue.<span class="hljs-title function_">push</span>(cur.<span class="hljs-property">left</span>);<br>            <span class="hljs-keyword">if</span>(cur.<span class="hljs-property">right</span>) queue.<span class="hljs-title function_">push</span>(cur.<span class="hljs-property">right</span>);<br>        &#125;<br>        res.<span class="hljs-title function_">push</span>(temp);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> res;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="3-é€’å½’-x2F-éå†æ€è·¯"><a href="#3-é€’å½’-x2F-éå†æ€è·¯" class="headerlink" title="3. é€’å½’&#x2F;éå†æ€è·¯"></a>3. é€’å½’&#x2F;éå†æ€è·¯</h3><h4 id="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"><a href="#äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦" class="headerlink" title="äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦"></a>äºŒå‰æ ‘çš„æœ€å¤§æ·±åº¦</h4><p>é€’å½’æ³•ï¼ˆè€ƒè™‘ä¸€ä¸ªèŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹è¯¥å¦‚ä½•å¤„ç†ï¼‰</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> maxDepth = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) &#123;<br>    <span class="hljs-keyword">if</span>(!root) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">const</span> left = <span class="hljs-title function_">maxDepth</span>(root.<span class="hljs-property">left</span>);<br>    <span class="hljs-keyword">const</span> right = <span class="hljs-title function_">maxDepth</span>(root.<span class="hljs-property">right</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(left, right) + <span class="hljs-number">1</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>éå†ï¼šå±‚æ¬¡éå†çš„å˜å½¢</p><h4 id="å¯¹ç§°äºŒå‰æ ‘"><a href="#å¯¹ç§°äºŒå‰æ ‘" class="headerlink" title="å¯¹ç§°äºŒå‰æ ‘"></a>å¯¹ç§°äºŒå‰æ ‘</h4><p>é€’å½’æ³•ï¼šè‡ªé¡¶å‘ä¸‹æ€è€ƒ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> isSymmetric = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">helper</span>(root, root);<br>&#125;;<br><br><span class="hljs-keyword">var</span> helper = <span class="hljs-keyword">function</span>(<span class="hljs-params">lTree, rTree</span>)&#123;<br>    <span class="hljs-keyword">if</span>(!lTree &amp;&amp; !rTree) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span>(!lTree || !rTree) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">if</span>(lTree.<span class="hljs-property">val</span> === rTree.<span class="hljs-property">val</span> &amp;&amp; <span class="hljs-title function_">helper</span>(lTree.<span class="hljs-property">left</span>, rTree.<span class="hljs-property">right</span>) &amp;&amp; <span class="hljs-title function_">helper</span>(lTree.<span class="hljs-property">right</span>, rTree.<span class="hljs-property">left</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>éå†ï¼šå±‚æ¬¡éå†çš„å˜å½¢</p><h3 id="4-æ„é€ äºŒå‰æ ‘"><a href="#4-æ„é€ äºŒå‰æ ‘" class="headerlink" title="4. æ„é€ äºŒå‰æ ‘"></a>4. æ„é€ äºŒå‰æ ‘</h3><p>ä¸€èˆ¬æ˜¯é€’å½’ï¼ˆå³åˆ†è§£é—®é¢˜ï¼‰çš„æ€è·¯ï¼šæ„é€ æ•´æ£µæ ‘ &#x3D; æ ¹èŠ‚ç‚¹ + æ„é€ å·¦å­æ ‘ + æ„é€ å³å­æ ‘<br>ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘ #105</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> buildTree = <span class="hljs-keyword">function</span>(<span class="hljs-params">preorder, inorder</span>) &#123;<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">helpers</span> = (<span class="hljs-params">preStart, preEnd, inStart, inEnd</span>) =&gt; &#123;<br>        <span class="hljs-keyword">if</span> (preStart &gt; preEnd || inStart &gt; inEnd) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br><br>        <span class="hljs-keyword">const</span> nodeValue = preorder[preStart];<br>        <span class="hljs-keyword">const</span> index = inorder.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item === nodeValue);<br>        <span class="hljs-keyword">const</span> leftSize = index - inStart;<br><br>        <span class="hljs-keyword">const</span> node = <span class="hljs-keyword">new</span> <span class="hljs-title class_">TreeNode</span>(nodeValue);<br>        node.<span class="hljs-property">left</span> = <span class="hljs-title function_">helpers</span>(preStart + <span class="hljs-number">1</span>, preStart + leftSize, inStart, index - <span class="hljs-number">1</span>);<br>        node.<span class="hljs-property">right</span> = <span class="hljs-title function_">helpers</span>(preStart + leftSize + <span class="hljs-number">1</span>, preEnd, index + <span class="hljs-number">1</span>, inEnd);<br>        <span class="hljs-keyword">return</span> node;<br>    &#125;;<br><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">helpers</span>(<span class="hljs-number">0</span>, preorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, inorder.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>);<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="5-æœç´¢äºŒå‰æ ‘-BST"><a href="#5-æœç´¢äºŒå‰æ ‘-BST" class="headerlink" title="5.æœç´¢äºŒå‰æ ‘ BST"></a>5.æœç´¢äºŒå‰æ ‘ BST</h3><p>BSTï¼ˆBinary Search Treeï¼‰çš„ç‰¹æ€§ï¼š</p><ol><li>å¯¹äº BST çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ nodeï¼Œå·¦å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½æ¯” node çš„å€¼è¦å°ï¼Œå³å­æ ‘èŠ‚ç‚¹çš„å€¼éƒ½æ¯” node çš„å€¼å¤§ã€‚</li><li>å¯¹äº BST çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ nodeï¼Œå®ƒçš„å·¦ä¾§å­æ ‘å’Œå³ä¾§å­æ ‘éƒ½æ˜¯ BSTã€‚</li></ol><p>ä»åšç®—æ³•é¢˜çš„è§’åº¦æ¥çœ‹ BSTï¼Œé™¤äº†å®ƒçš„å®šä¹‰ï¼Œè¿˜æœ‰ä¸€ä¸ªé‡è¦çš„æ€§è´¨ï¼š<strong>BST çš„ä¸­åºéå†ç»“æœæ˜¯æœ‰åºçš„ï¼ˆå‡åºï¼‰</strong>ã€‚</p><p>éªŒè¯BSTçš„åˆæ³•æ€§ï¼š ä¸­åºéå†æ˜¯å‡åºçš„</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> isValidBST = <span class="hljs-keyword">function</span>(<span class="hljs-params">root</span>) &#123;<br>    <span class="hljs-keyword">let</span> stack = [];<br>    <span class="hljs-keyword">let</span> inorder = -<span class="hljs-title class_">Infinity</span>;<br><br>    <span class="hljs-keyword">while</span> (stack.<span class="hljs-property">length</span> || root !== <span class="hljs-literal">null</span>) &#123;<br>        <span class="hljs-keyword">while</span> (root !== <span class="hljs-literal">null</span>) &#123;<br>            stack.<span class="hljs-title function_">push</span>(root);<br>            root = root.<span class="hljs-property">left</span>;<br>        &#125;<br>        node = stack.<span class="hljs-title function_">pop</span>();<br>        <span class="hljs-comment">// å¦‚æœä¸­åºéå†å¾—åˆ°çš„èŠ‚ç‚¹çš„å€¼å°äºç­‰äºå‰ä¸€ä¸ª inorderï¼Œè¯´æ˜ä¸æ˜¯äºŒå‰æœç´¢æ ‘</span><br>        <span class="hljs-keyword">if</span> (node.<span class="hljs-property">val</span> &lt;= inorder) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125;<br>        inorder = node.<span class="hljs-property">val</span>;<br>        root = node.<span class="hljs-property">right</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="æ ˆå’Œé˜Ÿåˆ—"><a href="#æ ˆå’Œé˜Ÿåˆ—" class="headerlink" title="æ ˆå’Œé˜Ÿåˆ—"></a>æ ˆå’Œé˜Ÿåˆ—</h2><p>1.åˆ¤æ–­æ‹¬å·æ˜¯å¦æœ‰æ•ˆ #20</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> isValid = <span class="hljs-keyword">function</span>(<span class="hljs-params">s</span>) &#123;<br>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">Dict</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&#x27;(&#x27;</span>, <span class="hljs-string">&#x27;)&#x27;</span>],[<span class="hljs-string">&#x27;&#123;&#x27;</span>,<span class="hljs-string">&#x27;&#125;&#x27;</span>],[<span class="hljs-string">&#x27;[&#x27;</span>,<span class="hljs-string">&#x27;]&#x27;</span>]]);<br>    <span class="hljs-keyword">let</span> stack = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>();<br>    <span class="hljs-keyword">let</span> arr = s.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>    arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> temp = stack[stack.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];<br>        <span class="hljs-keyword">if</span>(<span class="hljs-title class_">Dict</span>.<span class="hljs-title function_">has</span>(temp) &amp;&amp; <span class="hljs-title class_">Dict</span>.<span class="hljs-title function_">get</span>(temp) === item)&#123;<br>            stack.<span class="hljs-title function_">pop</span>()<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            stack.<span class="hljs-title function_">push</span>(item);<br>        &#125;<br>    &#125;)<br>    <span class="hljs-keyword">return</span> !stack.<span class="hljs-property">length</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>2.ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°ä¸€ä¸ªé˜Ÿåˆ—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> stack1 = [];<br><span class="hljs-keyword">const</span> stack2 = [];<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">push</span>(<span class="hljs-params">node</span>)<br>&#123;<br>    stack1.<span class="hljs-title function_">push</span>(node);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">pop</span>(<span class="hljs-params"></span>)<br>&#123;<br>    <span class="hljs-keyword">if</span>(stack2.<span class="hljs-property">length</span> === <span class="hljs-number">0</span>)&#123;<br>       <span class="hljs-keyword">while</span>(stack1.<span class="hljs-property">length</span>&gt;<span class="hljs-number">0</span>)&#123;<br>        stack2.<span class="hljs-title function_">push</span>(stack1.<span class="hljs-title function_">pop</span>());<br>       &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> stack2.<span class="hljs-title function_">pop</span>() || <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><p>å½“ç”¨åˆ°å“ˆå¸Œè¡¨æ—¶æˆ‘ä»¬é€šå¸¸æ˜¯è¦å¼€è¾Ÿä¸€ä¸ªé¢å¤–ç©ºé—´æ¥è®°å½•ä¸€äº›è®¡ç®—è¿‡çš„å€¼ï¼ŒåŒæ—¶æˆ‘ä»¬åˆè¦åœ¨ä¸‹ä¸€æ¬¡è®¡ç®—çš„è¿‡ç¨‹ä¸­å¿«é€Ÿæ£€ç´¢åˆ°å®ƒä»¬ï¼Œä¾‹å¦‚ä¸¤æ•°ä¹‹å’Œã€ä¸‰æ•°ä¹‹å’Œç­‰éƒ½åˆ©ç”¨äº†è¿™ç§æ€æƒ³ã€‚</p><p>1.ä¸¤æ•°ä¹‹å’Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> twoSum = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums, target</span>) &#123;<br>    <span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; nums.<span class="hljs-property">length</span>; i++)&#123;<br>        <span class="hljs-keyword">if</span>(!map.<span class="hljs-title function_">has</span>(nums[i]))&#123;<br>            map.<span class="hljs-title function_">set</span>(target - nums[i], i)<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">return</span> [map.<span class="hljs-title function_">get</span>(nums[i]),i]<br>        &#125;<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><p>2.ä¸‰æ•°ä¹‹å’Œ</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> threeSum = <span class="hljs-keyword">function</span> (<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">let</span> ans = [], len = nums.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">if</span>(nums == <span class="hljs-literal">null</span> || len &lt; <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> ans;<br>    nums.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b);<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>        <span class="hljs-keyword">if</span> (nums[i] &gt; <span class="hljs-number">0</span>) <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">if</span>(i &gt; <span class="hljs-number">0</span> &amp;&amp; nums[i] === nums[i-<span class="hljs-number">1</span>]) <span class="hljs-keyword">continue</span>; <span class="hljs-comment">// å»é‡</span><br>        <span class="hljs-keyword">let</span> L = i + <span class="hljs-number">1</span>, R = len - <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">while</span> (L &lt; R) &#123;<br>            <span class="hljs-keyword">let</span> sum = nums[i] + nums[L] + nums[R];<br>            <span class="hljs-keyword">if</span>(sum === <span class="hljs-number">0</span>)&#123;<br>                ans.<span class="hljs-title function_">push</span>([nums[i],nums[L],nums[R]])<br>                <span class="hljs-keyword">while</span> (L&lt;R &amp;&amp; nums[L] == nums[L+<span class="hljs-number">1</span>]) L++; <span class="hljs-comment">// å»é‡</span><br>                <span class="hljs-keyword">while</span> (L&lt;R &amp;&amp; nums[R] == nums[R-<span class="hljs-number">1</span>]) R--; <span class="hljs-comment">// å»é‡</span><br>                L++;<br>                R--;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(sum &lt; <span class="hljs-number">0</span>)&#123;<br>                L++;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(sum &gt; <span class="hljs-number">0</span>)&#123;<br>                R--;<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ans;<br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="ç®—æ³•"><a href="#ç®—æ³•" class="headerlink" title="ç®—æ³•"></a>ç®—æ³•</h1><p>å¤§Oè¡¨ç¤ºæ³•</p><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><h3 id="1-å†’æ³¡æ’åº"><a href="#1-å†’æ³¡æ’åº" class="headerlink" title="1.å†’æ³¡æ’åº"></a>1.å†’æ³¡æ’åº</h3><p>å¾ªç¯å†’æ³¡ï¼ŒæŠŠæœ€å¤§&#x2F;æœ€å°çš„æ•°å†’æ³¡åˆ°é¡¶ä¸Šã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">bubbleSort</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; array.<span class="hljs-property">length</span>; j++) &#123;<br>    <span class="hljs-keyword">let</span> complete = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.<span class="hljs-property">length</span> - <span class="hljs-number">1</span> - j; i++) &#123;<br>      <span class="hljs-comment">// æ¯”è¾ƒç›¸é‚»æ•°</span><br>      <span class="hljs-keyword">if</span> (array[i] &gt; array[i + <span class="hljs-number">1</span>]) &#123;<br>        [array[i], array[i + <span class="hljs-number">1</span>]] = [array[i + <span class="hljs-number">1</span>], array[i]];<br>        complete = <span class="hljs-literal">false</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-comment">// æ²¡æœ‰å†’æ³¡ç»“æŸå¾ªç¯</span><br>    <span class="hljs-keyword">if</span> (complete) &#123;<br>      <span class="hljs-keyword">break</span>;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> array;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-é€‰æ‹©æ’åº"><a href="#2-é€‰æ‹©æ’åº" class="headerlink" title="2.é€‰æ‹©æ’åº"></a>2.é€‰æ‹©æ’åº</h3><p>æ¯æ¬¡æ’åºå–ä¸€ä¸ªæœ€å¤§æˆ–æœ€å°çš„æ•°å­—æ”¾åˆ°å‰é¢çš„æœ‰åºåºåˆ—ä¸­ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">selectionSort</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; array.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i++) &#123;<br>    <span class="hljs-keyword">let</span> minIndex = i;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = i + <span class="hljs-number">1</span>; j &lt; array.<span class="hljs-property">length</span>; j++) &#123;<br>      <span class="hljs-keyword">if</span> (array[j] &lt; array[minIndex]) &#123;<br>        minIndex = j;<br>      &#125;<br>    &#125;<br>    [array[minIndex], array[i]] = [array[i], array[minIndex]];<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="3-æ’å…¥æ’åº"><a href="#3-æ’å…¥æ’åº" class="headerlink" title="3.æ’å…¥æ’åº"></a>3.æ’å…¥æ’åº</h3><p>å°†å·¦ä¾§åºåˆ—çœ‹æˆä¸€ä¸ªæœ‰åºåºåˆ—ï¼Œæ¯æ¬¡å°†ä¸€ä¸ªæ•°å­—æ’å…¥è¯¥æœ‰åºåºåˆ—ã€‚æ’å…¥æ—¶ï¼Œä»æœ‰åºåºåˆ—æœ€å³ä¾§å¼€å§‹æ¯”è¾ƒï¼Œè‹¥æ¯”è¾ƒçš„æ•°è¾ƒå¤§ï¼Œåç§»ä¸€ä½ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">insertSort</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; array.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">let</span> target = i;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = i - <span class="hljs-number">1</span>; j &gt;= <span class="hljs-number">0</span>; j--) &#123;<br>      <span class="hljs-keyword">if</span> (array[target] &lt; array[j]) &#123;<br>        [array[target], array[j]] = [array[j], array[target]]<br>        target = j;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">break</span>;<br>      &#125;<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> array;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="4-å¿«é€Ÿæ’åº"><a href="#4-å¿«é€Ÿæ’åº" class="headerlink" title="4.å¿«é€Ÿæ’åº"></a>4.å¿«é€Ÿæ’åº</h3><p>é€‰æ‹©ä¸€ä¸ªç›®æ ‡å€¼ï¼Œæ¯”ç›®æ ‡å€¼å°çš„æ”¾å·¦è¾¹ï¼Œæ¯”ç›®æ ‡å€¼å¤§çš„æ”¾å³è¾¹ï¼Œç›®æ ‡å€¼çš„ä½ç½®å·²æ’å¥½ï¼Œå°†å·¦å³ä¸¤ä¾§å†è¿›è¡Œå¿«æ’ã€‚</p><p><img src="/img/front-end-interview-preparation/DSA-quicksort-outline.png"></p><p><img src="/img/front-end-interview-preparation/DSA-quick-sort.png"></p><p><strong>æ–¹æ³•ä¸€ï¼šæ¯æ¬¡é€’å½’ç›´æ¥è¿”å› leftã€targetã€right æ‹¼æ¥åçš„æ•°ç»„</strong></p><p>æµªè´¹å¤§é‡å­˜å‚¨ç©ºé—´ï¼Œå†™æ³•ç®€å•</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">quickSort</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">if</span> (array.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) &#123;<br>    <span class="hljs-keyword">return</span> array;<br>  &#125;<br>  <span class="hljs-keyword">const</span> target = array[<span class="hljs-number">0</span>];<br>  <span class="hljs-keyword">const</span> left = [];<br>  <span class="hljs-keyword">const</span> right = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; array.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (array[i] &lt; target) &#123;<br>      left.<span class="hljs-title function_">push</span>(array[i]);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      right.<span class="hljs-title function_">push</span>(array[i]);<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">quickSort</span>(left).<span class="hljs-title function_">concat</span>([target], <span class="hljs-title function_">quickSort</span>(right));<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ–¹æ³•äºŒï¼šä¸éœ€è¦é¢å¤–å­˜å‚¨ç©ºé—´ï¼Œå†™æ³•æ€è·¯ç¨å¤æ‚</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">quickSort</span>(<span class="hljs-params">arr, left, right</span>)&#123;<br>  <span class="hljs-keyword">if</span>(right &lt;= left) <span class="hljs-keyword">return</span>;<br>  <br>  <span class="hljs-comment">// 1.é€‰æ‹©ä¸€ä¸ªç›®æ ‡å€¼targetï¼ˆä¸€èˆ¬é€‰æ‹©ç¬¬ä¸€ä¸ªæ•°ï¼‰</span><br>  <span class="hljs-keyword">let</span> target = arr[left]; <span class="hljs-comment">// a. è®°å½•ä¸‹targetå€¼ï¼Œlä¸ºç©ºä½</span><br>  <span class="hljs-keyword">let</span> l = left;<br>  <span class="hljs-keyword">let</span> r = right;<br>  <br>  <span class="hljs-comment">// 2.å°†æ¯”targetå°çš„å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„å·¦è¾¹ï¼Œæ¯”targetå¤§çš„å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„å³è¾¹</span><br>  <span class="hljs-keyword">while</span>(l &lt; r)&#123;<br>      <span class="hljs-comment">// æ¯”targetå°çš„å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„å·¦è¾¹</span><br>      <span class="hljs-keyword">while</span>(l &lt; r &amp;&amp; target &lt;= arr[r])&#123;<br>          r--;<br>      &#125;<br>      <span class="hljs-comment">// æ¯”targetå¤§çš„å…ƒç´ ç§»åŠ¨åˆ°æ•°ç»„å³è¾¹</span><br>      <span class="hljs-keyword">while</span>(l &lt; r &amp;&amp; arr[l] &lt;= target)&#123;<br>          l++;<br>      &#125;<br>      [arr[r], arr[l]] = [arr[l], arr[r]]; <span class="hljs-comment">// äº¤æ¢lå’Œrçš„ä½ç½®</span><br>  &#125;<br>  [arr[l],arr[left]] = [arr[left],arr[l]]; <span class="hljs-comment">// äº¤æ¢targetå’Œlçš„ä½ç½®</span><br>  <br>  <span class="hljs-comment">// 3.åˆ†åˆ«å¯¹targetå·¦ä¾§å’Œå³ä¾§çš„å…ƒç´ è¿›è¡Œå¿«é€Ÿæ’åº</span><br>  <span class="hljs-title function_">quickSort</span>(arr, left, l - <span class="hljs-number">1</span>);<br>  <span class="hljs-title function_">quickSort</span>(arr, l + <span class="hljs-number">1</span>, right);<br>  <br>  <span class="hljs-keyword">return</span> arr;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="5-å½’å¹¶æ’åº"><a href="#5-å½’å¹¶æ’åº" class="headerlink" title="5.å½’å¹¶æ’åº"></a>5.å½’å¹¶æ’åº</h3><p>å°†å¤§åºåˆ—äºŒåˆ†æˆå°åºåˆ—ï¼Œå°†å°åºåˆ—æ’åºåå†å°†æ’åºåçš„å°åºåˆ—å½’å¹¶æˆå¤§åºåˆ—ã€‚<br>é‡‡ç”¨åˆ†æ²»æ³•ï¼ˆDivide and Conquerï¼‰çš„ä¸€ä¸ªéå¸¸å…¸å‹çš„åº”ç”¨ã€‚ï¼ˆåˆ†æ²»æ³•å°†é—®é¢˜åˆ†æˆä¸€äº›å°çš„é—®é¢˜ç„¶åé€’å½’æ±‚è§£ï¼Œè€Œæ²»çš„é˜¶æ®µåˆ™å°†åˆ†çš„é˜¶æ®µå¾—åˆ°çš„å„ç­”æ¡ˆâ€ä¿®è¡¥â€åœ¨ä¸€èµ·ï¼Œå³åˆ†è€Œæ²»ä¹‹)ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">mergeSort</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">if</span> (array.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) &#123;<br>    <span class="hljs-keyword">return</span> array;<br>  &#125;<br>  <span class="hljs-keyword">const</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(array.<span class="hljs-property">length</span> / <span class="hljs-number">2</span>);<br>  <span class="hljs-keyword">const</span> front = array.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, mid);<br>  <span class="hljs-keyword">const</span> end = array.<span class="hljs-title function_">slice</span>(mid);<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">merge</span>(<span class="hljs-title function_">mergeSort</span>(front), <span class="hljs-title function_">mergeSort</span>(end));<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">merge</span>(<span class="hljs-params">front, end</span>) &#123;<br>  <span class="hljs-keyword">const</span> temp = [];<br>  <span class="hljs-keyword">while</span> (front.<span class="hljs-property">length</span> &amp;&amp; end.<span class="hljs-property">length</span>) &#123;<br>    <span class="hljs-keyword">if</span> (front[<span class="hljs-number">0</span>] &lt; end[<span class="hljs-number">0</span>]) &#123;<br>      temp.<span class="hljs-title function_">push</span>(front.<span class="hljs-title function_">shift</span>());<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      temp.<span class="hljs-title function_">push</span>(end.<span class="hljs-title function_">shift</span>());<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">while</span> (front.<span class="hljs-property">length</span>) &#123;<br>    temp.<span class="hljs-title function_">push</span>(front.<span class="hljs-title function_">shift</span>());<br>  &#125;<br>  <span class="hljs-keyword">while</span> (end.<span class="hljs-property">length</span>) &#123;<br>    temp.<span class="hljs-title function_">push</span>(end.<span class="hljs-title function_">shift</span>());<br>  &#125;<br>  <span class="hljs-keyword">return</span> temp;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="6-å †æ’åº"><a href="#6-å †æ’åº" class="headerlink" title="6.å †æ’åº"></a>6.å †æ’åº</h3><p>åˆ›å»ºä¸€ä¸ªå¤§é¡¶å †ï¼Œå¤§é¡¶å †çš„å †é¡¶ä¸€å®šæ˜¯æœ€å¤§çš„å…ƒç´ ã€‚äº¤æ¢ç¬¬ä¸€ä¸ªå…ƒç´ å’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œè®©å‰©ä½™çš„å…ƒç´ ç»§ç»­è°ƒæ•´ä¸ºå¤§é¡¶å †ã€‚ä»åå¾€å‰ä»¥æ­¤å’Œç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢å¹¶é‡æ–°æ„å»ºï¼Œæ’åºå®Œæˆã€‚</p><blockquote><p>å †æ˜¯å…·æœ‰ä»¥ä¸‹æ€§è´¨çš„å®Œå…¨äºŒå‰æ ‘ï¼šæ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½å¤§äºæˆ–ç­‰äºå…¶å·¦å³å­©å­ç»“ç‚¹çš„å€¼ï¼Œç§°ä¸ºå¤§é¡¶å †ï¼›æˆ–è€…æ¯ä¸ªç»“ç‚¹çš„å€¼éƒ½å°äºæˆ–ç­‰äºå…¶å·¦å³å­©å­ç»“ç‚¹çš„å€¼ï¼Œç§°ä¸ºå°é¡¶å †ã€‚</p></blockquote><p>#215 #347</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">heapSort</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-title function_">creatHeap</span>(array);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(array);<br>  <span class="hljs-comment">// äº¤æ¢ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå…ƒç´ ï¼Œç„¶åé‡æ–°è°ƒæ•´å¤§é¡¶å †</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = array.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt; <span class="hljs-number">0</span>; i--) &#123;<br>    [array[i], array[<span class="hljs-number">0</span>]] = [array[<span class="hljs-number">0</span>], array[i]];<br>    <span class="hljs-title function_">adjust</span>(array, <span class="hljs-number">0</span>, i);<br>  &#125;<br>  <span class="hljs-keyword">return</span> array;<br>&#125;<br><span class="hljs-comment">// æ„å»ºå¤§é¡¶å †ï¼Œä»ç¬¬ä¸€ä¸ªéå¶å­èŠ‚ç‚¹å¼€å§‹ï¼Œè¿›è¡Œä¸‹æ²‰æ“ä½œ</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">creatHeap</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">const</span> len = array.<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">const</span> start = <span class="hljs-built_in">parseInt</span>(len / <span class="hljs-number">2</span>) - <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = start; i &gt;= <span class="hljs-number">0</span>; i--) &#123;<br>    <span class="hljs-title function_">adjust</span>(array, i, len);<br>  &#125;<br>&#125;<br><span class="hljs-comment">// å°†ç¬¬targetä¸ªå…ƒç´ è¿›è¡Œä¸‹æ²‰ï¼Œå­©å­èŠ‚ç‚¹æœ‰æ¯”ä»–å¤§çš„å°±ä¸‹æ²‰</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">adjust</span>(<span class="hljs-params">array, target, len</span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span> * target + <span class="hljs-number">1</span>; i &lt; len; i = <span class="hljs-number">2</span> * i + <span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-comment">// å³å­æ ‘æ¯”è¾ƒå¤§,åˆ™æŒ‡å‘å³å­æ ‘</span><br>    <span class="hljs-keyword">if</span> (i + <span class="hljs-number">1</span> &lt; len &amp;&amp; array[i + <span class="hljs-number">1</span>] &gt; array[i]) &#123;<br>      i = i + <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-comment">// è‹¥å­æ ‘çš„å€¼æ¯”è¾ƒå¤§ï¼Œåˆ™æ ¹èŠ‚ç‚¹æ¢æˆå­æ ‘ï¼Œç„¶åå‘ä¸‹çœ‹ä¸€å±‚</span><br>    <span class="hljs-keyword">if</span> (array[i] &gt; array[target]) &#123;<br>      [array[i], array[target]] = [array[target], array[i]]<br>      target = i;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">break</span>;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="https://pic.leetcode-cn.com/1605853955-lBUVDG-image-20200912164343824.png" alt="æ€»ç»“"></p><hr /><h2 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h2><ol><li>äºŒåˆ†æŸ¥æ‰¾</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> search = <span class="hljs-keyword">function</span>(<span class="hljs-params">nums, target</span>) &#123;<br>    <span class="hljs-keyword">let</span> left = <span class="hljs-number">0</span>, right = nums.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>;<br><br>    <span class="hljs-keyword">while</span>(left &lt;= right)&#123;<br>        <span class="hljs-keyword">let</span> mid = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((left + right) /<span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">if</span>(nums[mid] &gt; target)&#123;<br>            right = mid - <span class="hljs-number">1</span>;<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(nums[mid] &lt; target)&#123;<br>            left = mid + <span class="hljs-number">1</span>;<br>        &#125; <span class="hljs-keyword">else</span>&#123;<br>            <span class="hljs-keyword">return</span> mid;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><hr /><h2 id="é€’å½’"><a href="#é€’å½’" class="headerlink" title="é€’å½’"></a>é€’å½’</h2><p>æ¯å½“é€’å½’å‡½æ•°è°ƒç”¨è‡ªèº«æ—¶ï¼Œå®ƒéƒ½ä¼šå°†ç»™å®šçš„é—®é¢˜æ‹†è§£ä¸ºå­é—®é¢˜ã€‚é€’å½’è°ƒç”¨ç»§ç»­è¿›è¡Œï¼Œç›´åˆ°åˆ°å­é—®é¢˜æ— éœ€è¿›ä¸€æ­¥é€’å½’å°±å¯ä»¥è§£å†³çš„åœ°æ­¥ã€‚</p><h3 id="æ–æ³¢é‚£å¥‘æ•°åˆ—"><a href="#æ–æ³¢é‚£å¥‘æ•°åˆ—" class="headerlink" title="æ–æ³¢é‚£å¥‘æ•°åˆ—"></a>æ–æ³¢é‚£å¥‘æ•°åˆ—</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// é€’å½’</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Fibonacci</span>(<span class="hljs-params">n</span>) &#123;<br>  <span class="hljs-keyword">if</span> (n &lt; <span class="hljs-number">2</span>) &#123;<br>    <span class="hljs-keyword">return</span> n;<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Fibonacci</span>(n - <span class="hljs-number">1</span>) + <span class="hljs-title class_">Fibonacci</span>(n - <span class="hljs-number">2</span>);<br>&#125;<br><span class="hljs-comment">// è®°å¿†åŒ–æ–æ³¢é‚£å¥‘å‡½æ•°</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n, memo = []</span>)&#123;<br>  <span class="hljs-keyword">if</span>(n &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> (memo[n] = n);<br>  <span class="hljs-keyword">if</span> (!memo[n]) &#123;<br>    memo[n] = <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">1</span>, memo) + <span class="hljs-title function_">fibonacci</span>(n - <span class="hljs-number">2</span>, memo)<br>  &#125;<br>  <span class="hljs-keyword">return</span> memo[n];<br>&#125;<br><span class="hljs-comment">// åŠ¨æ€è§„åˆ’è§£æ³•</span><br><span class="hljs-comment">// ç®€å•ç‰ˆ</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>) &#123;<br>  <span class="hljs-keyword">const</span> dp = [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>];<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++) &#123;<br>    dp[i] = dp[i - <span class="hljs-number">1</span>] + dp[i - <span class="hljs-number">2</span>];<br>  &#125;<br>  <span class="hljs-keyword">return</span> dp[n];<br>&#125;<br><span class="hljs-comment">// å†…å­˜ä¼˜åŒ–ç‰ˆ</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fibonacci</span>(<span class="hljs-params">n</span>) &#123;<br>  <span class="hljs-keyword">if</span>(n &lt; <span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> n;<br><br>  <span class="hljs-keyword">let</span> a = <span class="hljs-number">0</span>, b = <span class="hljs-number">1</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span>; i &lt;= n; i++)&#123;<br>    <span class="hljs-keyword">const</span> temp = b;<br>    b = a + b;<br>    a = temp;<br>  &#125;<br>  <span class="hljs-keyword">return</span> b;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Fibonacci</span>(<span class="hljs-number">5</span>))<br></code></pre></td></tr></table></figure><h2 id="å›æº¯ç®—æ³•"><a href="#å›æº¯ç®—æ³•" class="headerlink" title="å›æº¯ç®—æ³•"></a>å›æº¯ç®—æ³•</h2><p>ä»è§£å†³é—®é¢˜æ¯ä¸€æ­¥çš„æ‰€æœ‰å¯èƒ½é€‰é¡¹é‡Œç³»ç»Ÿé€‰æ‹©å‡ºä¸€ä¸ªå¯è¡Œçš„è§£å†³æ–¹æ¡ˆã€‚åœ¨æŸä¸€æ­¥é€‰æ‹©ä¸€ä¸ªé€‰é¡¹åï¼Œè¿›å…¥ä¸‹ä¸€æ­¥ï¼Œç„¶åé¢ä¸´æ–°çš„é€‰é¡¹ã€‚é‡å¤é€‰æ‹©ï¼Œç›´è‡³è¾¾åˆ°æœ€ç»ˆçŠ¶æ€ã€‚<br>å›æº¯æ³•è§£å†³çš„é—®é¢˜çš„æ‰€æœ‰é€‰é¡¹å¯ä»¥ç”¨<strong>æ ‘çŠ¶ç»“æ„</strong>è¡¨ç¤ºã€‚<br>å›æº¯ç®—æ³•æœ‰ä¸‰ä¸ªè¦ç‚¹ï¼š</p><ul><li>é€‰æ‹©ï¼šå†³å®šäº†ä½ æ¯ä¸ªèŠ‚ç‚¹æœ‰å“ªäº›åˆ†æ”¯ï¼Œå¸®åŠ©ä½ æ„å»ºå‡ºè§£çš„ç©ºé—´æ ‘ã€‚</li><li>çº¦æŸæ¡ä»¶ï¼šç”¨æ¥å‰ªæï¼Œå‰ªå»ä¸æ»¡è¶³çº¦æŸæ¡ä»¶çš„å­æ ‘ï¼Œé¿å…æ— æ•ˆçš„æœç´¢ã€‚</li><li>ç›®æ ‡ï¼šå†³å®šäº†ä½•æ—¶æ•è·è§£ï¼Œæˆ–è€…å‰ªå»å¾—ä¸åˆ°è§£çš„å­æ ‘ï¼Œæå‰å›æº¯ã€‚</li></ul><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><p>æ‹¬å·ç”Ÿæˆï¼ˆ#22ï¼‰ï¼šæ•°å­—Â <code>n</code>Â ä»£è¡¨ç”Ÿæˆæ‹¬å·çš„å¯¹æ•°ï¼Œè¯·ä½ è®¾è®¡ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºèƒ½å¤Ÿç”Ÿæˆæ‰€æœ‰å¯èƒ½çš„å¹¶ä¸”Â <strong>æœ‰æ•ˆçš„</strong>Â æ‹¬å·ç»„åˆã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs excel">è¾“å…¥ï¼š<span class="hljs-built_in">n</span> = <span class="hljs-number">3</span><br>è¾“å‡ºï¼š[<span class="hljs-string">&quot;((()))&quot;</span>,<span class="hljs-string">&quot;(()())&quot;</span>,<span class="hljs-string">&quot;(())()&quot;</span>,<span class="hljs-string">&quot;()(())&quot;</span>,<span class="hljs-string">&quot;()()()&quot;</span>]<br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> generateParenthesis = <span class="hljs-keyword">function</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">const</span> res = [];<br>    <span class="hljs-comment">// leftï¼Œrightå·²ä½¿ç”¨çš„å·¦/å³æ‹¬å·</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">DFS</span> = (<span class="hljs-params">str, left, right</span>) =&gt; &#123;<br>        <span class="hljs-comment">// å‰ªæ</span><br>        <span class="hljs-keyword">if</span> (right &gt; left || left &gt; n || right &gt; n) <span class="hljs-keyword">return</span>;<br>        <span class="hljs-comment">// ç›®æ ‡</span><br>        <span class="hljs-keyword">if</span> (left === n &amp;&amp; right === n) &#123;<br>            res.<span class="hljs-title function_">push</span>(str);<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-comment">// é€‰æ‹©</span><br>        <span class="hljs-title function_">DFS</span>(str + <span class="hljs-string">&#x27;(&#x27;</span>, left + <span class="hljs-number">1</span>, right);<br>        <span class="hljs-title function_">DFS</span>(str + <span class="hljs-string">&#x27;)&#x27;</span>, left, right + <span class="hljs-number">1</span>);<br>    &#125;<br><br>    <span class="hljs-title function_">DFS</span>(<span class="hljs-string">&#x27;&#x27;</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>);<br>    <span class="hljs-keyword">return</span> res;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å­é›†"><a href="#å­é›†" class="headerlink" title="å­é›†"></a>å­é›†</h3><p>å…¨æ’åˆ—ï¼ˆ#46ï¼‰: ç»™å®šä¸€ä¸ª æ²¡æœ‰é‡å¤ æ•°å­—çš„åºåˆ—ï¼Œè¿”å›å…¶æ‰€æœ‰å¯èƒ½çš„å…¨æ’åˆ—ã€‚</p><figure class="highlight inform7"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs inform7">nums = <span class="hljs-comment">[1,2,3]</span><br>è¾“å‡ºï¼š<span class="hljs-comment">[<span class="hljs-comment">[1,2,3]</span>,<span class="hljs-comment">[1,3,2]</span>,<span class="hljs-comment">[2,1,3]</span>,<span class="hljs-comment">[2,3,1]</span>,<span class="hljs-comment">[3,1,2]</span>,<span class="hljs-comment">[3,2,1]</span>]</span><br></code></pre></td></tr></table></figure><p>å‰ªæï¼šä½¿ç”¨usedæ•°ç»„è®°å½•è¢«ä½¿ç”¨è¿‡çš„æ•°å­—</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> permute = <span class="hljs-keyword">function</span> (<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">let</span> res = [], len = nums.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">DFS</span> = (<span class="hljs-params">path, used</span>) =&gt; &#123;<br>        <span class="hljs-keyword">let</span> depth = path.<span class="hljs-property">length</span>;<br>        <span class="hljs-keyword">if</span> (depth === len) &#123;<br>            res.<span class="hljs-title function_">push</span>(path.<span class="hljs-title function_">slice</span>());<br>            <span class="hljs-keyword">return</span>;<br>        &#125;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>            <span class="hljs-keyword">if</span> (used[i]) <span class="hljs-keyword">continue</span>;<br>            path.<span class="hljs-title function_">push</span>(nums[i]);<br>            used[i] = <span class="hljs-literal">true</span>;<br>            <span class="hljs-title function_">DFS</span>(path, used);<br>            used[i] = <span class="hljs-literal">false</span>;<br>            path.<span class="hljs-title function_">pop</span>();<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-title function_">DFS</span>([], <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">false</span>));<br>    <span class="hljs-keyword">return</span> res;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å­é›†ï¼ˆ#78ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> <span class="hljs-title function_">subsets</span> = (<span class="hljs-params">nums</span>) =&gt; &#123;<br>  <span class="hljs-keyword">const</span> res = [];<br><br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">DFS</span> = (<span class="hljs-params">index, list</span>) =&gt; &#123;<br>      res.<span class="hljs-title function_">push</span>(list.<span class="hljs-title function_">slice</span>())<br>      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = index; i &lt; nums.<span class="hljs-property">length</span>; i++)&#123;<br>          list.<span class="hljs-title function_">push</span>(nums[i])<br>          <span class="hljs-title function_">DFS</span>(i + <span class="hljs-number">1</span>, list);<br>          list.<span class="hljs-title function_">pop</span>()<br>      &#125;<br>  &#125;<br><br>  <span class="hljs-title function_">DFS</span>(<span class="hljs-number">0</span>, [])<br><br>  <span class="hljs-keyword">return</span> res;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="äºŒç»´çŸ©é˜µ"><a href="#äºŒç»´çŸ©é˜µ" class="headerlink" title="äºŒç»´çŸ©é˜µ"></a>äºŒç»´çŸ©é˜µ</h3><p>å•è¯æœç´¢(#79)ï¼šç»™å®šä¸€ä¸ª m x n äºŒç»´å­—ç¬¦ç½‘æ ¼ board å’Œä¸€ä¸ªå­—ç¬¦ä¸²å•è¯ word ã€‚å¦‚æœ word å­˜åœ¨äºç½‘æ ¼ä¸­ï¼Œè¿”å› true ï¼›å¦åˆ™ï¼Œè¿”å› false ã€‚</p><p>å•è¯å¿…é¡»æŒ‰ç…§å­—æ¯é¡ºåºï¼Œé€šè¿‡ç›¸é‚»çš„å•å…ƒæ ¼å†…çš„å­—æ¯æ„æˆï¼Œå…¶ä¸­â€œç›¸é‚»â€å•å…ƒæ ¼æ˜¯é‚£äº›æ°´å¹³ç›¸é‚»æˆ–å‚ç›´ç›¸é‚»çš„å•å…ƒæ ¼ã€‚åŒä¸€ä¸ªå•å…ƒæ ¼å†…çš„å­—æ¯ä¸å…è®¸è¢«é‡å¤ä½¿ç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> exist = <span class="hljs-keyword">function</span> (<span class="hljs-params">board, word</span>) &#123;<br>    <span class="hljs-keyword">let</span> r = board.<span class="hljs-property">length</span>, c = board[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>;<br><br>    <span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DFS</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">i, j, k</span>) &#123;<br>        <span class="hljs-keyword">if</span> (i &gt;= r || i &lt; <span class="hljs-number">0</span> || j &gt;= c || j &lt; <span class="hljs-number">0</span> || board[i][j] !== word[k]) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (k === word.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        board[i][j] = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ä»£è¡¨æ­¤å…ƒç´ å·²è®¿é—®è¿‡ï¼Œé˜²æ­¢ä¹‹åæœç´¢æ—¶é‡å¤è®¿é—®ã€‚</span><br>        <span class="hljs-keyword">let</span> res = <span class="hljs-title function_">DFS</span>(i + <span class="hljs-number">1</span>, j, k + <span class="hljs-number">1</span>) || <span class="hljs-title function_">DFS</span>(i - <span class="hljs-number">1</span>, j, k + <span class="hljs-number">1</span>) || <span class="hljs-title function_">DFS</span>(i, j + <span class="hljs-number">1</span>, k + <span class="hljs-number">1</span>) || <span class="hljs-title function_">DFS</span>(i, j - <span class="hljs-number">1</span>, k + <span class="hljs-number">1</span>); <span class="hljs-comment">// é€‰æ‹©</span><br>        board[i][j] = word[k]; <span class="hljs-comment">// æ¢å¤è¯¥å…ƒç´ </span><br>        <span class="hljs-keyword">return</span> res;<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; r; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; c; j++) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">DFS</span>(i, j, <span class="hljs-number">0</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å²›å±¿æ•°é‡ï¼ˆ#200ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> numIslands = <span class="hljs-keyword">function</span> (<span class="hljs-params">grid</span>) &#123;<br>    <span class="hljs-keyword">const</span> r = grid.<span class="hljs-property">length</span>, c = grid[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">let</span> counts = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">DFS</span> = (<span class="hljs-params">i, j</span>) =&gt; &#123;<br>        <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || j &lt; <span class="hljs-number">0</span> || i &gt;= r || j &gt;= c || grid[i][j] === <span class="hljs-string">&quot;0&quot;</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>        grid[i][j] = <span class="hljs-string">&#x27;0&#x27;</span>;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">DFS</span>(i + <span class="hljs-number">1</span>, j) &amp;&amp; <span class="hljs-title function_">DFS</span>(i, j + <span class="hljs-number">1</span>) &amp;&amp; <span class="hljs-title function_">DFS</span>(i, j - <span class="hljs-number">1</span>) &amp;&amp; <span class="hljs-title function_">DFS</span>(i - <span class="hljs-number">1</span>, j);<br>    &#125;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; r; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; c; j++) &#123;<br>            <span class="hljs-keyword">if</span> (grid[i][j] === <span class="hljs-string">&quot;1&quot;</span>) &#123;<br>                counts += <span class="hljs-title function_">DFS</span>(i, j);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> counts;<br>&#125;;<br></code></pre></td></tr></table></figure><p>å²›å±¿æœ€å¤§é¢ç§¯(#695)ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> maxAreaOfIsland = <span class="hljs-keyword">function</span> (<span class="hljs-params">grid</span>) &#123;<br>  <span class="hljs-keyword">const</span> r = grid.<span class="hljs-property">length</span>, c = grid[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">let</span> area = <span class="hljs-number">0</span>, temp = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">DFS</span> = (<span class="hljs-params">i, j</span>) =&gt; &#123;<br>      <span class="hljs-keyword">if</span> (i &lt; <span class="hljs-number">0</span> || j &lt; <span class="hljs-number">0</span> || i &gt;= r || j &gt;= c || grid[i][j] === <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>      grid[i][j] = <span class="hljs-number">0</span>;<br>      temp += <span class="hljs-number">1</span>;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">DFS</span>(i, j + <span class="hljs-number">1</span>) &amp;&amp; <span class="hljs-title function_">DFS</span>(i + <span class="hljs-number">1</span>, j) &amp;&amp; <span class="hljs-title function_">DFS</span>(i, j - <span class="hljs-number">1</span>) &amp;&amp; <span class="hljs-title function_">DFS</span>(i - <span class="hljs-number">1</span>, j);<br>  &#125;<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; r; i++) &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; c; j++) &#123;<br>          temp = <span class="hljs-number">0</span>;<br>          <span class="hljs-keyword">if</span>(<span class="hljs-title function_">DFS</span>(i, j)) area = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(area, temp);<br>      &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> area;<br>&#125;;<br></code></pre></td></tr></table></figure><hr /><h2 id="åŠ¨æ€è§„åˆ’"><a href="#åŠ¨æ€è§„åˆ’" class="headerlink" title="åŠ¨æ€è§„åˆ’"></a>åŠ¨æ€è§„åˆ’</h2><p>åŠ¨æ€è§„åˆ’çš„æ±‚è§£è¿‡ç¨‹ï¼Œåœ¨äºæ‰¾åˆ°<strong>çŠ¶æ€è½¬ç§»æ–¹ç¨‹</strong>ï¼Œè¿›è¡Œè‡ªåº•å‘ä¸Šçš„æ±‚è§£ã€‚</p><ul><li>åˆ—å‡ºæ­£ç¡®çš„ã€ŒçŠ¶æ€è½¬ç§»æ–¹ç¨‹ã€ï¼Œæ‰èƒ½æ­£ç¡®åœ°ç©·ä¸¾</li><li>åˆ¤æ–­ç®—æ³•é—®é¢˜æ˜¯å¦å…·å¤‡ã€Œæœ€ä¼˜å­ç»“æ„ã€ï¼Œæ˜¯å¦èƒ½å¤Ÿé€šè¿‡å­é—®é¢˜çš„æœ€å€¼å¾—åˆ°åŸé—®é¢˜çš„æœ€å€¼</li><li>æ˜¯å¦å­˜åœ¨ã€Œé‡å å­é—®é¢˜ã€ï¼Œå¦‚æœæš´åŠ›ç©·ä¸¾çš„è¯æ•ˆç‡ä¼šå¾ˆä½ï¼Œå¯ä»¥ä½¿ç”¨ã€Œå¤‡å¿˜å½•ã€æˆ–è€…ã€ŒDP tableã€æ¥ä¼˜åŒ–ç©·ä¸¾è¿‡ç¨‹ï¼Œé¿å…ä¸å¿…è¦çš„è®¡ç®—ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è‡ªé¡¶å‘ä¸‹é€’å½’çš„åŠ¨æ€è§„åˆ’</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">dp</span>(<span class="hljs-params">çŠ¶æ€<span class="hljs-number">1</span>, çŠ¶æ€<span class="hljs-number">2</span>, ...</span>):<br>    <span class="hljs-keyword">for</span> é€‰æ‹© <span class="hljs-keyword">in</span> æ‰€æœ‰å¯èƒ½çš„é€‰æ‹©:<br>        <span class="hljs-comment"># æ­¤æ—¶çš„çŠ¶æ€å·²ç»å› ä¸ºåšäº†é€‰æ‹©è€Œæ”¹å˜</span><br>        result = æ±‚æœ€å€¼(result, dp(çŠ¶æ€<span class="hljs-number">1</span>, çŠ¶æ€<span class="hljs-number">2</span>, ...))<br>    <span class="hljs-keyword">return</span> result<br><br><span class="hljs-comment"># è‡ªåº•å‘ä¸Šè¿­ä»£çš„åŠ¨æ€è§„åˆ’</span><br><span class="hljs-comment"># åˆå§‹åŒ– base case</span><br>dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>][...] = base case<br><span class="hljs-comment"># è¿›è¡ŒçŠ¶æ€è½¬ç§»</span><br><span class="hljs-keyword">for</span> çŠ¶æ€<span class="hljs-number">1</span> <span class="hljs-keyword">in</span> çŠ¶æ€<span class="hljs-number">1</span>çš„æ‰€æœ‰å–å€¼ï¼š<br>    <span class="hljs-keyword">for</span> çŠ¶æ€<span class="hljs-number">2</span> <span class="hljs-keyword">in</span> çŠ¶æ€<span class="hljs-number">2</span>çš„æ‰€æœ‰å–å€¼ï¼š<br>        <span class="hljs-keyword">for</span> ...<br>            dp[çŠ¶æ€<span class="hljs-number">1</span>][çŠ¶æ€<span class="hljs-number">2</span>][...] = æ±‚æœ€å€¼(é€‰æ‹©<span class="hljs-number">1</span>ï¼Œé€‰æ‹©<span class="hljs-number">2.</span>..)<br></code></pre></td></tr></table></figure><h3 id="è·¯å¾„é—®é¢˜"><a href="#è·¯å¾„é—®é¢˜" class="headerlink" title="è·¯å¾„é—®é¢˜"></a>è·¯å¾„é—®é¢˜</h3><p>æœ€å°è·¯å¾„å’Œï¼š(#64)</p><blockquote><p>ç»™å®šä¸€ä¸ªåŒ…å«éè´Ÿæ•´æ•°çš„ m x n ç½‘æ ¼ grid ï¼Œè¯·æ‰¾å‡ºä¸€æ¡ä»å·¦ä¸Šè§’åˆ°å³ä¸‹è§’çš„è·¯å¾„ï¼Œä½¿å¾—è·¯å¾„ä¸Šçš„æ•°å­—æ€»å’Œä¸ºæœ€å°ã€‚<br>è¯´æ˜ï¼šæ¯æ¬¡åªèƒ½å‘ä¸‹æˆ–è€…å‘å³ç§»åŠ¨ä¸€æ­¥ã€‚</p></blockquote><p><code>dp[i][j]</code>æ˜¯å½“<code>grid[i][j]</code>ä¸ºç»ˆç‚¹æ—¶çš„æœ€å°è·¯å¾„å’Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> minPathSum = <span class="hljs-keyword">function</span> (<span class="hljs-params">grid</span>) &#123;<br>  <span class="hljs-keyword">let</span> m = grid.<span class="hljs-property">length</span>, n = grid[<span class="hljs-number">0</span>].<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">let</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(m).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(n).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));<br><br>  dp[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = grid[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>];<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; m; i++) &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; n; j++) &#123;<br>          <span class="hljs-keyword">if</span> (i == <span class="hljs-number">0</span> &amp;&amp; j != <span class="hljs-number">0</span>) &#123;<br>              dp[i][j] = dp[i][j - <span class="hljs-number">1</span>] + grid[i][j]<br>          &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span> &amp;&amp; j == <span class="hljs-number">0</span>) &#123;<br>              dp[i][j] = dp[i - <span class="hljs-number">1</span>][j] + grid[i][j]<br>          &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (i != <span class="hljs-number">0</span> &amp;&amp; j != <span class="hljs-number">0</span>)  &#123;<br>              dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(dp[i][j - <span class="hljs-number">1</span>], dp[i - <span class="hljs-number">1</span>][j]) + grid[i][j]<br>          &#125;<br>      &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> dp[m - <span class="hljs-number">1</span>][n - <span class="hljs-number">1</span>];<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="è‚¡ç¥¨ä¹°å–é—®é¢˜"><a href="#è‚¡ç¥¨ä¹°å–é—®é¢˜" class="headerlink" title="è‚¡ç¥¨ä¹°å–é—®é¢˜"></a>è‚¡ç¥¨ä¹°å–é—®é¢˜</h3><p>ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœºï¼š</p><blockquote><p>ç»™å®šä¸€ä¸ªæ•°ç»„ prices ï¼Œå®ƒçš„ç¬¬ Â i ä¸ªå…ƒç´  Â prices[i] è¡¨ç¤ºä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p><p>ä½ åªèƒ½é€‰æ‹© æŸä¸€å¤© ä¹°å…¥è¿™åªè‚¡ç¥¨ï¼Œå¹¶é€‰æ‹©åœ¨ æœªæ¥çš„æŸä¸€ä¸ªä¸åŒçš„æ—¥å­ å–å‡ºè¯¥è‚¡ç¥¨ã€‚è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚</p><p>è¿”å›ä½ å¯ä»¥ä»è¿™ç¬”äº¤æ˜“ä¸­è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚å¦‚æœä½ ä¸èƒ½è·å–ä»»ä½•åˆ©æ¶¦ï¼Œè¿”å› 0 ã€‚</p><p>è¾“å…¥ï¼š[7,1,5,3,6,4]<br>è¾“å‡ºï¼š5</p></blockquote><p>å‡è®¾ç¬¬<code>i</code>å¤©å–å‡ºè‚¡ç¥¨ï¼Œ<code>min</code>æ˜¯ç¬¬<code>i</code>å¤©ä¹‹å‰ä»·æ ¼æœ€ä½çš„ä¸€å¤©ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> maxProfit = <span class="hljs-keyword">function</span>(<span class="hljs-params">prices</span>) &#123;<br>    <span class="hljs-keyword">let</span> maxProfit = <span class="hljs-number">0</span>, minPrice = <span class="hljs-title class_">Infinity</span>;<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; prices.<span class="hljs-property">length</span>; i++) &#123;<br>        minPrice = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(minPrice, prices[i]);<br>        maxProfit = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(prices[i] - minPrice, maxProfit);<br>    &#125;<br><br>    <span class="hljs-keyword">return</span> maxProfit;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="é›¶é’±å…‘æ¢é—®é¢˜"><a href="#é›¶é’±å…‘æ¢é—®é¢˜" class="headerlink" title="é›¶é’±å…‘æ¢é—®é¢˜"></a>é›¶é’±å…‘æ¢é—®é¢˜</h3><blockquote><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„ coins ï¼Œè¡¨ç¤ºä¸åŒé¢é¢çš„ç¡¬å¸ï¼›ä»¥åŠä¸€ä¸ªæ•´æ•° amount ï¼Œè¡¨ç¤ºæ€»é‡‘é¢ã€‚</p><p>è®¡ç®—å¹¶è¿”å›å¯ä»¥å‡‘æˆæ€»é‡‘é¢æ‰€éœ€çš„ æœ€å°‘çš„ç¡¬å¸ä¸ªæ•° ã€‚å¦‚æœæ²¡æœ‰ä»»ä½•ä¸€ç§ç¡¬å¸ç»„åˆèƒ½ç»„æˆæ€»é‡‘é¢ï¼Œè¿”å› -1 ã€‚</p><p>ä½ å¯ä»¥è®¤ä¸ºæ¯ç§ç¡¬å¸çš„æ•°é‡æ˜¯æ— é™çš„ã€‚</p></blockquote><p>å‡è®¾ä½ æœ‰é¢å€¼ä¸º 1, 2, 5 çš„ç¡¬å¸ï¼Œä½ æƒ³æ±‚ amount &#x3D; 11 æ—¶çš„æœ€å°‘ç¡¬å¸æ•°ï¼ˆåŸé—®é¢˜ï¼‰ï¼Œå¦‚æœä½ çŸ¥é“å‡‘å‡º amount &#x3D; 10, 9, 6 çš„æœ€å°‘ç¡¬å¸æ•°ï¼ˆå­é—®é¢˜ï¼‰ï¼Œä½ åªéœ€è¦æŠŠå­é—®é¢˜çš„ç­”æ¡ˆåŠ ä¸€ï¼ˆå†é€‰ä¸€æšé¢å€¼ä¸º 1, 2, 5 çš„ç¡¬å¸ï¼‰ï¼Œæ±‚ä¸ªæœ€å°å€¼ï¼Œå°±æ˜¯åŸé—®é¢˜çš„ç­”æ¡ˆã€‚</p><p><code>dp[n] = m</code>ï¼Œnæ˜¯é‡‘é¢ï¼Œmæ˜¯ç¡¬å¸æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> coinChange = <span class="hljs-keyword">function</span> (<span class="hljs-params">coins, amount</span>) &#123;<br>    <span class="hljs-keyword">let</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(amount + <span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-title class_">Infinity</span>);<br>    dp[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; amount + <span class="hljs-number">1</span>; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">0</span>; j &lt; coins.<span class="hljs-property">length</span>; j++) &#123;<br>            <span class="hljs-keyword">if</span> (coins[j] &lt;= i) &#123;<br>                dp[i] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(dp[i], dp[i - coins[j]] + <span class="hljs-number">1</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> dp[amount] &gt; <span class="hljs-title class_">Infinity</span> ? -<span class="hljs-number">1</span> : dp[amount];<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="å­åºåˆ—é—®é¢˜"><a href="#å­åºåˆ—é—®é¢˜" class="headerlink" title="å­åºåˆ—é—®é¢˜"></a>å­åºåˆ—é—®é¢˜</h3><p>æœ€å¤§å­åºå’Œï¼š</p><blockquote><p>ç»™å®šä¸€ä¸ªæ•´æ•°æ•°ç»„ nums ï¼Œæ‰¾åˆ°ä¸€ä¸ªå…·æœ‰æœ€å¤§å’Œçš„è¿ç»­å­æ•°ç»„ï¼ˆå­æ•°ç»„æœ€å°‘åŒ…å«ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¿”å›å…¶æœ€å¤§å’Œã€‚</p><p>è¾“å…¥ï¼šnums &#x3D; [-2,1,-3,4,-1,2,1,-5,4]<br>è¾“å‡ºï¼š6<br>è§£é‡Šï¼šè¿ç»­å­æ•°ç»„  [4,-1,2,1] çš„å’Œæœ€å¤§ï¼Œä¸º  6 ã€‚</p></blockquote><p>å‡è®¾åœ¨<code>i</code>ç»“æŸçš„å­åºå’Œæœ€å¤§<br><code>p = max&#123;ä»iå¼€å§‹çš„å­åºå’Œï¼Œi-1ç»“æŸçš„å­åºå’Œ(p) + nums[i]&#125;</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> maxSubArray = <span class="hljs-keyword">function</span> (<span class="hljs-params">nums</span>) &#123;<br>    <span class="hljs-keyword">let</span> max = nums[<span class="hljs-number">0</span>], p = nums[<span class="hljs-number">0</span>], len = nums.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; len; i++) &#123;<br>        p = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(nums[i], p + nums[i]);<br>        max = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(max, p)<br>    &#125;<br>    <span class="hljs-keyword">return</span> max<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="æœ€é•¿å…¬å…±å­åºåˆ—"><a href="#æœ€é•¿å…¬å…±å­åºåˆ—" class="headerlink" title="æœ€é•¿å…¬å…±å­åºåˆ—"></a>æœ€é•¿å…¬å…±å­åºåˆ—</h3><p>ç»™å®šä¸¤ä¸ªå­—ç¬¦ä¸²Â <code>text1</code>Â å’ŒÂ <code>text2</code>ï¼Œè¿”å›è¿™ä¸¤ä¸ªå­—ç¬¦ä¸²çš„æœ€é•¿Â <strong>å…¬å…±å­åºåˆ—</strong>Â çš„é•¿åº¦ã€‚å¦‚æœä¸å­˜åœ¨Â <strong>å…¬å…±å­åºåˆ—</strong>Â ï¼Œè¿”å›Â <code>0</code>Â ã€‚</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs nix">è¾“å…¥ï¼š<span class="hljs-attr">text1</span> = <span class="hljs-string">&quot;abcde&quot;</span>, <span class="hljs-attr">text2</span> = <span class="hljs-string">&quot;ace&quot;</span><br>è¾“å‡ºï¼š<span class="hljs-number">3</span><br>è§£é‡Šï¼šæœ€é•¿å…¬å…±å­åºåˆ—æ˜¯ <span class="hljs-string">&quot;ace&quot;</span> ï¼Œå®ƒçš„é•¿åº¦ä¸º <span class="hljs-number">3</span> ã€‚<br></code></pre></td></tr></table></figure><p><code>dp[i][j]</code>çš„é€»è¾‘æ˜¯</p><ul><li><code>a[i] == a[b]</code>: <code>dp[i][j] = dp[i - 1][j - 1] + 1</code></li><li><code>a[i] != a[b]</code>: <code>dp[i][j] = Math.max(dp[i - 1][j], dp[i][j - 1])</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> longestCommonSubsequence = <span class="hljs-keyword">function</span> (<span class="hljs-params">text1, text2</span>) &#123;<br>  <span class="hljs-keyword">let</span> len = <span class="hljs-number">0</span>, len1 = text1.<span class="hljs-property">length</span>, len2 = text2.<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">let</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len1+<span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len2+<span class="hljs-number">2</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= len1; i++) &#123;<br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt;= len2; j++) &#123;<br>          <span class="hljs-keyword">if</span>(text1[i-<span class="hljs-number">1</span>] === text2[j-<span class="hljs-number">1</span>])&#123;<br>              dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>          &#125;<span class="hljs-keyword">else</span>&#123;<br>              dp[i][j] = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(dp[i - <span class="hljs-number">1</span>][j], dp[i][j - <span class="hljs-number">1</span>]);<br>          &#125;<br>      &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> dp[len1][len2];<br>&#125;;<br></code></pre></td></tr></table></figure><p>æœ€é•¿å…¬å…±å­ä¸²</p><p><code>dp[i][j]</code>çš„é€»è¾‘ä¸åŒæ˜¯<code>a[i] != a[b]</code>ï¼Œå­ä¸²ç›´æ¥ä¸º<code>0</code></p><ul><li><code>a[i] == a[b]</code>: <code>dp[i][j] = dp[i - 1][j - 1] + 1</code></li><li><code>a[i] != a[b]</code>: <code>0</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> findLength = <span class="hljs-keyword">function</span> (<span class="hljs-params">A, B</span>) &#123;<br>    <span class="hljs-keyword">let</span> len1 = A.<span class="hljs-property">length</span>, len2 = B.<span class="hljs-property">length</span>, max = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">let</span> dp = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len1+<span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">x</span> =&gt;</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len2+<span class="hljs-number">1</span>).<span class="hljs-title function_">fill</span>(<span class="hljs-number">0</span>));<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt;= len1; i++) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt;= len2; j++) &#123;<br>            <span class="hljs-keyword">if</span> (A[i-<span class="hljs-number">1</span>] == B[j-<span class="hljs-number">1</span>]) dp[i][j] = dp[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>;<br>            <span class="hljs-keyword">else</span> dp[i][j] = <span class="hljs-number">0</span>;<br><br>            max = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(max, dp[i][j])<br>        &#125;<br>    &#125;<br><br>    rseturn max;<br>&#125;;<br></code></pre></td></tr></table></figure><hr /><h2 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•"></a>è´ªå¿ƒç®—æ³•</h2><p>è´ªå¿ƒç®—æ³•ï¼šå¯¹é—®é¢˜æ±‚è§£çš„æ—¶å€™ï¼Œæ€»æ˜¯åšå‡ºåœ¨å½“å‰çœ‹æ¥æ˜¯æœ€å¥½çš„åšæ³•ã€‚ï¼ˆå±€éƒ¨æœ€ä¼˜è§£ï¼‰</p><p>é€‚ç”¨è´ªå¿ƒç®—æ³•çš„åœºæ™¯ï¼šé—®é¢˜èƒ½å¤Ÿåˆ†è§£æˆå­é—®é¢˜æ¥è§£å†³ï¼Œå­é—®é¢˜çš„æœ€ä¼˜è§£èƒ½é€’æ¨åˆ°æœ€ç»ˆé—®é¢˜çš„æœ€ä¼˜è§£ã€‚è¿™ç§å­é—®é¢˜æœ€ä¼˜è§£æˆä¸ºæœ€ä¼˜å­ç»“æ„</p><h3 id="ä¹°å–è‚¡ç¥¨é—®é¢˜-2"><a href="#ä¹°å–è‚¡ç¥¨é—®é¢˜-2" class="headerlink" title="ä¹°å–è‚¡ç¥¨é—®é¢˜ 2"></a>ä¹°å–è‚¡ç¥¨é—®é¢˜ 2</h3><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬ i ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ i å¤©çš„ä»·æ ¼ã€‚</p><p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> maxProfit = <span class="hljs-keyword">function</span>(<span class="hljs-params">prices</span>) &#123;<br>  <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">let</span> n = prices.<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; n; ++i) &#123;<br>      ans += <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, prices[i] - prices[i - <span class="hljs-number">1</span>]);<br>  &#125;<br>  <span class="hljs-keyword">return</span> ans;<br>&#125;;<br></code></pre></td></tr></table></figure><hr /><h2 id="äºŒè¿›åˆ¶ä½è¿ç®—"><a href="#äºŒè¿›åˆ¶ä½è¿ç®—" class="headerlink" title="äºŒè¿›åˆ¶ä½è¿ç®—"></a>äºŒè¿›åˆ¶ä½è¿ç®—</h2><p>js ä¸­çš„ä½è¿ç®—:</p><p>js ä¸­çš„ä½è¿ç®—ç¬¦æœ‰ä¸‹é¢è¿™äº›ï¼Œå¯¹æ•°å­—è¿›è¡Œè¿™äº›æ“ä½œæ—¶ï¼Œç³»ç»Ÿå†…éƒ¨éƒ½ä¼šè®² 64 çš„æµ®ç‚¹æ•°è½¬æ¢æˆ 32 ä½çš„æ•´å½¢</p><ul><li><code>&amp;</code> ä¸</li><li><code>|</code> æˆ–</li><li><code>~</code> é</li><li><code>^</code> å¼‚æˆ–</li><li><code>&lt;&lt;</code> å·¦ç§»</li><li><code>&gt;&gt;</code> ç®—æ•°å³ç§»(æœ‰ç¬¦å·å³ç§») ç§»ä½çš„æ—¶å€™é«˜ä½è¡¥çš„æ˜¯å…¶ç¬¦å·ä½ï¼Œæ•´æ•°åˆ™è¡¥ 0ï¼Œè´Ÿæ•°åˆ™è¡¥ 1</li><li><code>&gt;&gt;&gt;</code> é€»è¾‘å³ç§»(æ— ç¬¦å·å³ç§») å³ç§»çš„æ—¶å€™é«˜ä½å§‹ç»ˆè¡¥ 0</li></ul><h3 id="é¢ å€’ç»™å®šçš„-32-ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½"><a href="#é¢ å€’ç»™å®šçš„-32-ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½" class="headerlink" title="é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½"></a>é¢ å€’ç»™å®šçš„ 32 ä½æ— ç¬¦å·æ•´æ•°çš„äºŒè¿›åˆ¶ä½</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> reverseBits = <span class="hljs-keyword">function</span> (<span class="hljs-params">n</span>) &#123;<br>  <span class="hljs-keyword">let</span> ans = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">32</span>; i++) &#123;<br>      ans = (ans &lt;&lt; <span class="hljs-number">1</span>) + (n &amp; <span class="hljs-number">1</span>)<br>      n &gt;&gt;&gt;= <span class="hljs-number">1</span>;<br>  &#125;<br>  <span class="hljs-keyword">return</span> ans &gt;&gt;&gt; <span class="hljs-number">0</span><br>&#125;;<br></code></pre></td></tr></table></figure><h1 id="æ‰‹å†™JSé¢˜ç›®"><a href="#æ‰‹å†™JSé¢˜ç›®" class="headerlink" title="æ‰‹å†™JSé¢˜ç›®"></a>æ‰‹å†™JSé¢˜ç›®</h1><h2 id="1-é˜²æŠ–èŠ‚æµ"><a href="#1-é˜²æŠ–èŠ‚æµ" class="headerlink" title="1.é˜²æŠ–èŠ‚æµ"></a>1.é˜²æŠ–èŠ‚æµ</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-built_in">clearTimeout</span>(timer);<br>    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>    &#125;, delay);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-keyword">if</span> (!timer) &#123;<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        timer = <span class="hljs-literal">null</span>;<br>        fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>      &#125;, delay);<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="2-æ·±æ‹·è´"><a href="#2-æ·±æ‹·è´" class="headerlink" title="2.æ·±æ‹·è´"></a>2.æ·±æ‹·è´</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj</span>) &#123;<br>  <span class="hljs-keyword">let</span> res = obj;<br><br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj === <span class="hljs-string">&#x27;object&#x27;</span>) &#123;<br>    result = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj) ? [] : &#123;&#125;;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> obj) &#123;<br>      result[key] = <span class="hljs-title function_">deepClone</span>(obj[key]);<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> res;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="3-æ‰‹å†™bindã€callã€apply"><a href="#3-æ‰‹å†™bindã€callã€apply" class="headerlink" title="3.æ‰‹å†™bindã€callã€apply"></a>3.æ‰‹å†™bindã€callã€apply</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// obj1.fun.bind(obj2) ä¸ç›´æ¥æ‰§è¡Œ</span><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myBind</span> = <span class="hljs-function">(<span class="hljs-params">context</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// ç”¨äºé˜²æ­¢ Function.prototype.myCall() ç›´æ¥è°ƒç”¨</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<br><br>  <span class="hljs-keyword">let</span> fn = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-keyword">return</span> fn.<span class="hljs-title function_">call</span>(context, ...args);<br>  &#125;<br>&#125;<br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myCall</span> = <span class="hljs-function">(<span class="hljs-params">context, ...args</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<br><br>  <span class="hljs-keyword">let</span> fn = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Symbol</span>();<br>  context[fn] = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-keyword">const</span> result = context[fn](...args);<br>  <span class="hljs-keyword">delete</span> context[fn];<br><br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myApply</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">context, args = []</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<br><br>  <span class="hljs-keyword">let</span> fn = <span class="hljs-title class_">Symbol</span>();<br>  context[fn] = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-keyword">const</span> result = context[fn](...args);<br>  <span class="hljs-keyword">delete</span> context[fn];<br><br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="4-å‡½æ•°æŸ¯é‡ŒåŒ–"><a href="#4-å‡½æ•°æŸ¯é‡ŒåŒ–" class="headerlink" title="4.å‡½æ•°æŸ¯é‡ŒåŒ–"></a>4.å‡½æ•°æŸ¯é‡ŒåŒ–</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">curring</span>(<span class="hljs-params">fn, ...args</span>) &#123;<br>  <span class="hljs-keyword">if</span> (fn.<span class="hljs-property">length</span> &lt;= args.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(...args);<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">...args2</span>) =&gt;</span> <span class="hljs-title function_">curring</span>(fn, ...args, ...args2);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">compose</span>(<span class="hljs-params">...args</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> res = args.<span class="hljs-title function_">pop</span>()(x);<br>    <span class="hljs-keyword">return</span> args.<span class="hljs-property">length</span> ? <span class="hljs-title function_">compose</span>(...args)(res) : res;<br>  &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="5-æ•°ç»„å»é‡ã€æ‹å¹³ã€æœ€å€¼ã€ä¹±åº"><a href="#5-æ•°ç»„å»é‡ã€æ‹å¹³ã€æœ€å€¼ã€ä¹±åº" class="headerlink" title="5.æ•°ç»„å»é‡ã€æ‹å¹³ã€æœ€å€¼ã€ä¹±åº"></a>5.æ•°ç»„å»é‡ã€æ‹å¹³ã€æœ€å€¼ã€ä¹±åº</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 5.æ•°ç»„å»é‡ã€æ‹å¹³ã€æœ€å€¼ã€ä¹±åº</span><br><span class="hljs-comment">// å»é‡</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">unique</span> = (<span class="hljs-params">arr</span>) =&gt; <span class="hljs-title class_">Arrary</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr));<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">unique</span> = (<span class="hljs-params">arr</span>) =&gt; arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, i</span>) =&gt;</span> arr.<span class="hljs-title function_">indexOf</span>(item) === i);<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">unique</span> = (<span class="hljs-params">arr</span>) =&gt; &#123;<br>  <span class="hljs-keyword">let</span> obj = &#123;&#125;;<br>  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> (obj[item] ? <span class="hljs-literal">false</span> : (obj[item] = <span class="hljs-literal">true</span>)));<br>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">unique</span> = (<span class="hljs-params">arr</span>) =&gt; &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = i + <span class="hljs-number">1</span>; j &lt; arr.<span class="hljs-property">length</span>; j++) &#123;<br>      <span class="hljs-keyword">if</span> (arr[i] === arr[j]) &#123;<br>        arr.<span class="hljs-title function_">splice</span>(j, <span class="hljs-number">1</span>);<br>        j--;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">unique</span> = (<span class="hljs-params">arr</span>) =&gt; &#123;<br>  arr.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> a - b);<br>  <span class="hljs-keyword">let</span> res = [];<br><br>  <span class="hljs-keyword">if</span> (arr.<span class="hljs-property">length</span> &gt;= <span class="hljs-number">1</span>) res.<span class="hljs-title function_">push</span>(arr[<span class="hljs-number">0</span>]);<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (arr[i] !== arr[i - <span class="hljs-number">1</span>]) res.<span class="hljs-title function_">push</span>(arr[i]);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-comment">// æ‹å¹³</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">flatten</span>(<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">let</span> res = [];<br><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr[i])) res = res.<span class="hljs-title function_">concat</span>(<span class="hljs-title function_">flatten</span>(arr[i]));<br>    <span class="hljs-keyword">else</span> res.<span class="hljs-title function_">push</span>(arr[i])<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> res;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">flatten</span>(<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(cur) ? acc.<span class="hljs-title function_">concat</span>(<span class="hljs-title function_">flatten</span>(arr)) : acc.<span class="hljs-title function_">concat</span>(cur), []);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">flatten</span>(<span class="hljs-params">arr, deep</span>) &#123;<br>  <span class="hljs-keyword">let</span> res = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; arr.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(arr[i]) &amp;&amp; deep &gt; <span class="hljs-number">0</span>) &#123;<br>      res = res.<span class="hljs-title function_">concat</span>(<span class="hljs-title function_">flatten</span>(arr[i], deep - <span class="hljs-number">1</span>));<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      res.<span class="hljs-title function_">push</span>(arr[i]);<br>    &#125;<br>  &#125;<br>  <span class="hljs-keyword">return</span> res;<br>&#125;<br><br><span class="hljs-comment">// æœ€å€¼</span><br><span class="hljs-keyword">const</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];<br><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...arr);<br><span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-literal">null</span>, arr);<br>arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">acc, cur</span>) =&gt;</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(acc, cur), -<span class="hljs-title class_">Infinity</span>);<br><br><span class="hljs-comment">// ä½¿ç”¨reduceå®ç°map</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reduceToMap</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">handler</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">target, current, index</span>) =&gt;</span> &#123;<br>    target.<span class="hljs-title function_">push</span>(handler.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, current, index));<br>    <span class="hljs-keyword">return</span> target;<br>  &#125;, []);<br>&#125;;<br><br><span class="hljs-comment">// ä½¿ç”¨reduceå®ç°filter</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">reduceToFilter</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">handler</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">target, current, index</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span>(handler.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, current, index)) target.<span class="hljs-title function_">push</span>(current);<br>    <span class="hljs-keyword">return</span> target;<br>  &#125;, []);<br>&#125;<br><br><span class="hljs-comment">// ä¹±åº</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">disOrder</span>(<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">const</span> len = arr.<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)&#123;<br>    random = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(len * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>());<br>    [arr[i], arr[random]] = [arr[random], arr[i]];<br>  &#125;<br>  <span class="hljs-keyword">return</span> arr;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="6-æ‰‹å†™ES5ç»§æ‰¿"><a href="#6-æ‰‹å†™ES5ç»§æ‰¿" class="headerlink" title="6.æ‰‹å†™ES5ç»§æ‰¿"></a>6.æ‰‹å†™ES5ç»§æ‰¿</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Animal</span>(<span class="hljs-params">name</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">say</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">words</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(words);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Cat</span>(<span class="hljs-params">name, species</span>) &#123;<br>  <span class="hljs-comment">// æ„é€ å‡½æ•°ç»§æ‰¿</span><br>  <span class="hljs-title class_">Animal</span>.<span class="hljs-title function_">bind</span>(<span class="hljs-variable language_">this</span>);<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">species</span> = species;<br>&#125;<br><br><span class="hljs-comment">// åŸå‹ç»§æ‰¿</span><br><span class="hljs-comment">// æ–¹æ³•ä¸€ï¼š</span><br><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Animal</span>();<br><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Cat</span>;<br><span class="hljs-comment">// æ–¹æ³•äºŒï¼š</span><br><span class="hljs-title class_">Cat</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">Animal</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, &#123;<br>  <span class="hljs-attr">constructor</span>: &#123;<br>    <span class="hljs-attr">value</span>: <span class="hljs-title class_">Cat</span>,<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><h2 id="7-æ‰‹å†™instanceof"><a href="#7-æ‰‹å†™instanceof" class="headerlink" title="7.æ‰‹å†™instanceof"></a>7.æ‰‹å†™instanceof</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myInstanceof</span>(<span class="hljs-params">object, constructor</span>) &#123;<br>  <span class="hljs-keyword">let</span> proto = object.<span class="hljs-property">__proto__</span>;<br><br>  <span class="hljs-keyword">if</span> (proto) &#123;<br>    <span class="hljs-keyword">if</span> (proto === constructor.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-title function_">myInstanceof</span>(proto, constructor);<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="8-æ‰‹å†™Promiseï¼Œæ‰‹å†™allã€raceæ–¹æ³•ï¼Œæ‰‹å†™å¹¶å‘æ§åˆ¶ï¼Œä¸²è¡Œæ‰§è¡Œç­‰"><a href="#8-æ‰‹å†™Promiseï¼Œæ‰‹å†™allã€raceæ–¹æ³•ï¼Œæ‰‹å†™å¹¶å‘æ§åˆ¶ï¼Œä¸²è¡Œæ‰§è¡Œç­‰" class="headerlink" title="8.æ‰‹å†™Promiseï¼Œæ‰‹å†™allã€raceæ–¹æ³•ï¼Œæ‰‹å†™å¹¶å‘æ§åˆ¶ï¼Œä¸²è¡Œæ‰§è¡Œç­‰"></a>8.æ‰‹å†™Promiseï¼Œæ‰‹å†™allã€raceæ–¹æ³•ï¼Œæ‰‹å†™å¹¶å‘æ§åˆ¶ï¼Œä¸²è¡Œæ‰§è¡Œç­‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myPromise</span>(<span class="hljs-params">executor</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;pending&quot;</span>;<br><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedQueue</span> = [];<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedQueue</span> = [];<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> !== <span class="hljs-string">&quot;pending&quot;</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = value;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;fulfilled&quot;</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedQueue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> <span class="hljs-title function_">resolve</span>());<br>    &#125;)<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">reject</span>(<span class="hljs-params">reason</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> !== <span class="hljs-string">&quot;pending&quot;</span>) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span> = reason;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;rejected&quot;</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedQueue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">reject</span> =&gt;</span> <span class="hljs-title function_">reject</span>());<br>    &#125;)<br>  &#125;<br><br>  <span class="hljs-title function_">executor</span>(resolve, reject);<br>&#125;<br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">then</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">onResolved, onRejected</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onResolved !== <span class="hljs-string">&quot;function&quot;</span>) onResolved = <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onRejected !== <span class="hljs-string">&quot;function&quot;</span>)<br>    onRejected = <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">throw</span> x;<br>    &#125;;<br><br>  <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;fulfilled&quot;</span>) <span class="hljs-title function_">onResolved</span>(self.<span class="hljs-property">value</span>);<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;rejected&quot;</span>) <span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>);<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;pending&quot;</span>) &#123;<br>    self.<span class="hljs-property">onResolvedQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-title function_">onResolved</span>(self.<span class="hljs-property">value</span>)&#125;);<br>    self.<span class="hljs-property">onRejectedQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>)&#125;);<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;<br>&#125;<br><span class="hljs-comment">// æ‰‹å†™Promise.all</span><br><span class="hljs-comment">// æ¥å—ä¸€ä¸ªpromiseæ•°ç»„ï¼Œå½“æ‰€æœ‰promiseçŠ¶æ€resolveåï¼Œæ‰§è¡Œresolve</span><br>myPromise.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len);<br>    <span class="hljs-keyword">let</span> done = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)&#123;<br>      promises[i].<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>        done++;<br>        res[i] = value;<br>        <span class="hljs-keyword">if</span> (done === len) <span class="hljs-title function_">resolve</span>(res);<br>      &#125;, <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">reject</span>(reason);<br>        <span class="hljs-keyword">return</span>;<br>      &#125;)<br>    &#125;<br>  &#125;)<br>&#125;;<br><br><span class="hljs-comment">// æ‰‹å†™Promise.race</span><br><span class="hljs-comment">// æ¥å—ä¸€ä¸ªpromiseæ•°ç»„ï¼Œå½“æœ‰ä¸€ä¸ªpromiseçŠ¶æ€resolveåï¼Œæ‰§è¡Œresolve</span><br>myPromise.<span class="hljs-property">race</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>      promises[i].<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(value);<br>      &#125;, <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">reject</span>(reason);<br>      &#125;)<br>    &#125;<br>  &#125;)<br>&#125;<br><span class="hljs-comment">// æ‰‹å†™Promise.catch</span><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">catch</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">onRejected</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, onRejected);<br>&#125;;<br><br><span class="hljs-comment">// æ‰‹å†™Promise.finally</span><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">finally</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">fn</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<br>    <span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">fn</span>();<br>      <span class="hljs-keyword">return</span> value;<br>    &#125;,<br>    <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">fn</span>();<br>      <span class="hljs-keyword">return</span> reason;<br>    &#125;<br>  );<br>&#125;;<br><span class="hljs-comment">// å¹¶å‘æ§åˆ¶</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">mutilRequest</span>(<span class="hljs-params">promises = [], maxNum</span>) &#123;<br>  <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len).<span class="hljs-title function_">fill</span>(<span class="hljs-literal">false</span>);<br>  <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">while</span> (count &lt; maxNum) &#123;<br>      <span class="hljs-title function_">next</span>();<br>    &#125;<br><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">next</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">let</span> current = count++;<br>      <span class="hljs-keyword">if</span> (current &gt;= len) &#123;<br>        <span class="hljs-keyword">if</span> (!result.<span class="hljs-title function_">includes</span>(<span class="hljs-literal">false</span>)) <span class="hljs-title function_">resolve</span>(result);<br>        <span class="hljs-keyword">return</span>;<br>      &#125;<br><br>      promises[current]().<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        result[current] = res;<br>        <span class="hljs-keyword">if</span> (current &lt; len) <span class="hljs-title function_">next</span>();<br>      &#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        result[current] = res;<br>        <span class="hljs-keyword">if</span> (current &lt; len) <span class="hljs-title function_">next</span>();<br>      &#125;);<br>    &#125;<br>  &#125;)<br>&#125;<br><span class="hljs-comment">// ä¸²è¡Œæ§åˆ¶</span><br><span class="hljs-keyword">const</span> sequence = <span class="hljs-keyword">function</span> (<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">let</span> result = [];<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      (<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">next</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr)&#123;<br>          <span class="hljs-keyword">let</span> temp = <span class="hljs-keyword">await</span> <span class="hljs-title function_">item</span>();<br>          result.<span class="hljs-title function_">push</span>(temp)<br>        &#125;<br>        <span class="hljs-title function_">resolve</span>(result);<br>      &#125;)()<br>  &#125;);<br>&#125;;<br></code></pre></td></tr></table></figure><h2 id="9-æ‰‹å†™å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#9-æ‰‹å†™å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="9.æ‰‹å†™å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>9.æ‰‹å†™å‘å¸ƒè®¢é˜…æ¨¡å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">EventEmitter</span>&#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span> = &#123;&#125;;<br>  &#125;<br><br>  <span class="hljs-comment">// æ³¨å†Œäº‹ä»¶</span><br>  <span class="hljs-title function_">on</span>(<span class="hljs-params">event, cb</span>)&#123;<br>    <span class="hljs-keyword">if</span>(!<span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span>[event])&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span>[event] = [cb]<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span>[event] = <span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span>[event].<span class="hljs-title function_">concat</span>([cb])<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">// è§¦å‘äº‹ä»¶</span><br>  <span class="hljs-title function_">emit</span>(<span class="hljs-params">event, ...args</span>)&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_map</span>(event))&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">_map</span>(event).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">cb</span> =&gt;</span> <span class="hljs-title function_">cb</span>(...args))<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;æ²¡æœ‰ç»‘å®šè¿™ä¸ªevent&#x27;</span>)<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-comment">// åˆ é™¤äº‹ä»¶çš„å¤„ç†å‡½æ•°</span><br>  <span class="hljs-title function_">off</span>(<span class="hljs-params">event</span>)&#123;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span>[event])&#123;<br>      <span class="hljs-keyword">delete</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_map</span>[event]<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&#x27;æ²¡æœ‰ç»‘å®šè¿™ä¸ªevent&#x27;</span>)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="10-æ‰‹å†™å•ä¾‹æ¨¡å¼"><a href="#10-æ‰‹å†™å•ä¾‹æ¨¡å¼" class="headerlink" title="10.æ‰‹å†™å•ä¾‹æ¨¡å¼"></a>10.æ‰‹å†™å•ä¾‹æ¨¡å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Singleton</span>(<span class="hljs-params">FunClass</span>) &#123;<br>  <span class="hljs-keyword">let</span> instance = <span class="hljs-literal">null</span>;<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-keyword">return</span> instance == <span class="hljs-literal">null</span> ? (instance = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FunClass</span>(...args)) : instance;<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="11-æ¨¡æ‹Ÿnew"><a href="#11-æ¨¡æ‹Ÿnew" class="headerlink" title="11.æ¨¡æ‹Ÿnew"></a>11.æ¨¡æ‹Ÿnew</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// new çš„æ­¥éª¤ï¼š</span><br><span class="hljs-comment">// 1).åˆ›å»ºæ–°çš„å†…å­˜ç©ºé—´</span><br><span class="hljs-comment">// 2).æ„é€ å‡½æ•°çš„thisæŒ‡å‘æ–°çš„å†…å­˜ç©ºé—´</span><br><span class="hljs-comment">// 3).__proto__æŒ‡å‘æ„é€ å‡½æ•°çš„prototype</span><br><span class="hljs-comment">// 4).æ„é€ å‡½æ•°è¿”å›è¿™ä¸ªå¯¹è±¡</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">myNew</span>(<span class="hljs-params">fn, ...args</span>) &#123;<br>  <span class="hljs-keyword">let</span> instance = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(fn.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br>  <span class="hljs-keyword">let</span> res = fn.<span class="hljs-title function_">apply</span>(instance, args);<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> res === <span class="hljs-string">&quot;object&quot;</span> ? res : instance;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="é™„å½•"><a href="#é™„å½•" class="headerlink" title="é™„å½•"></a>é™„å½•</h1><h2 id="API"><a href="#API" class="headerlink" title="API"></a>API</h2><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><ul><li>å­—ç¬¦æ“ä½œï¼š<code>charAt(index)</code>ï¼ŒcharCodeAtï¼ŒfromCharCode</li><li>å­—ç¬¦ä¸²æå–ï¼š<code>slice(start[,end])</code>ï¼Œ<code>substring(start[,end])</code></li><li>ä½ç½®ç´¢å¼•ï¼š<code>indexOf(searchvalue[,start])</code> ï¼ŒlastIndexOf</li><li>å¤§å°å†™è½¬æ¢ï¼štoLowerCaseï¼ŒtoUpperCase</li><li>æ¨¡å¼åŒ¹é…ï¼š<code>match(regexp)</code>ï¼Œ<code>matchAll(regexp)</code>ï¼Œ<code>search(searchVal)</code>ï¼Œ<code>replace(searchVal,newVal)</code>ï¼Œ<code>split([separator[,limit]])</code></li><li>å…¶ä»–æ“ä½œï¼š<code>.concat(str1, str2, ..., strN)</code>ï¼Œtrimï¼Œ<code>startsWith(searchString)</code>å’Œ<code>.endsWith(searchString)</code></li></ul><p><code>slice(start[,end])</code>å’Œ<code>substring(start[,end])</code>æ–¹æ³•æå–å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå¹¶å°†å…¶ä½œä¸ºæ–°å­—ç¬¦ä¸²è¿”å›ï¼Œè€Œä¸ä¿®æ”¹åŸå§‹å­—ç¬¦ä¸²ã€‚æœªæä¾›ç»“æŸç´¢å¼•ï¼Œåˆ™è¿”å›åˆ°å­—ç¬¦ä¸²æœ«å°¾çš„éƒ¨åˆ†</p><ul><li>sliceçš„endå‚æ•°å¯ä»¥ä¸ºè´Ÿæ•°ï¼Œå³ä¸ºä»å­—ç¬¦ä¸²æœ«å°¾å¾€å‰æ•°çš„ä½ç½®ã€‚substringçš„endå‚æ•°ä¸æ¥å—è´Ÿæ•°ï¼Œå¦‚æœä¼ é€’äº†è´Ÿæ•°ï¼Œåˆ™ä¼šå°†å…¶è§†ä¸º0ã€‚</li></ul><p><code>indexOf(searchvalue[,start])</code>ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•å€¼ã€‚</p><p><code>split(separator)</code>æ–¹æ³•å°†å­—ç¬¦ä¸²åˆ†å‰²æˆä¸€ä¸ªæœ‰åºçš„å­ä¸²åˆ—è¡¨ï¼Œå°†è¿™äº›å­ä¸²æ”¾å…¥ä¸€ä¸ªæ•°ç»„ï¼Œå¹¶è¿”å›è¯¥æ•°ç»„ã€‚</p><p><code>match(regexp)</code>è¿”å›ä¸€ä¸ªåŒ¹é…ç»“æœæ•°ç»„ï¼›<code>matchAll(regexp)</code>ï¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å¯ä»¥è¿­ä»£å‡ºæ‰€æœ‰ä¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„ç»“æœã€‚<br>matchAllçš„regexpå¿…é¡»è¦å¸¦gï¼Œå¸¦æ•è·ç»„ä¿¡æ¯ã€‚matchå½“ä½¿ç”¨å…¨å±€gæ ‡å¿—è°ƒç”¨æ—¶ï¼Œæ•è·ç»„ä¼šè¢«å¿½ç•¥ã€‚</p><p><code>search()</code>æ–¹æ³•ç”¨äºåœ¨Stringå¯¹è±¡ä¸­æ‰§è¡Œæ­£åˆ™è¡¨è¾¾å¼çš„æœç´¢ï¼Œå¯»æ‰¾åŒ¹é…é¡¹ã€‚ è¿”å›æ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²ä¸­é¦–æ¬¡åŒ¹é…çš„<strong>ç´¢å¼•</strong>ï¼›å¦åˆ™ï¼Œè¿”å› -1ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> regexp = <span class="hljs-regexp">/t(e)(st(\d?))/g</span>;<br><span class="hljs-keyword">const</span> str = <span class="hljs-string">&quot;test1test2&quot;</span>;<br><br>str.<span class="hljs-title function_">match</span>(regexp); <span class="hljs-comment">// [&#x27;test1&#x27;, &#x27;test2&#x27;]</span><br><br><span class="hljs-keyword">const</span> array = [...str.<span class="hljs-title function_">matchAll</span>(regexp)];<br>array[<span class="hljs-number">0</span>];<span class="hljs-comment">// [&#x27;test1&#x27;, &#x27;e&#x27;, &#x27;st1&#x27;, &#x27;1&#x27;, index: 0, input: &#x27;test1test2&#x27;, length: 4]</span><br>array[<span class="hljs-number">1</span>];<span class="hljs-comment">// [&#x27;test2&#x27;, &#x27;e&#x27;, &#x27;st2&#x27;, &#x27;2&#x27;, index: 5, input: &#x27;test1test2&#x27;, length: 4]</span><br><br>str.<span class="hljs-title function_">search</span>(regexp); <span class="hljs-comment">// 0</span><br><br>str.<span class="hljs-title function_">replace</span>(regexp, <span class="hljs-string">&#x27;hi~&#x27;</span>); <span class="hljs-comment">// hi~hi~</span><br></code></pre></td></tr></table></figure><h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><ul><li>è¿­ä»£: <code>.map((item, index)=&gt;&#123;&#125;)</code>åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„, <code>forEach()</code>ä¸ä¼šã€‚<ul><li><code>reduce((acc, cur)=&gt;&#123;&#125;, initialVal)</code> å¯¹æ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ æŒ‰åºæ‰§è¡Œä¸€ä¸ªæä¾›çš„ reducer å‡½æ•°ï¼Œæ¯ä¸€æ¬¡è¿è¡Œ reducer ä¼šå°†å…ˆå‰å…ƒç´ çš„è®¡ç®—ç»“æœä½œä¸ºå‚æ•°ä¼ å…¥ï¼Œæœ€åå°†å…¶ç»“æœæ±‡æ€»ä¸ºå•ä¸ªè¿”å›å€¼ã€‚</li></ul></li><li>æµ‹è¯•ï¼š<code>some(callbackFn)</code>æ–¹æ³•æµ‹è¯•æ•°ç»„ä¸­æ˜¯å¦è‡³å°‘æœ‰ä¸€ä¸ªå…ƒç´ é€šè¿‡äº†ç”±æä¾›çš„å‡½æ•°å®ç°çš„æµ‹è¯•ã€‚<code>every(callbackFn)</code>æ–¹æ³•æµ‹è¯•ä¸€ä¸ªæ•°ç»„å†…çš„æ‰€æœ‰å…ƒç´ æ˜¯å¦éƒ½èƒ½é€šè¿‡æŒ‡å®šå‡½æ•°çš„æµ‹è¯•ã€‚è¿”å›å¸ƒå°”å€¼ã€‚</li><li>è¿‡æ»¤ï¼š<code>filter(callbackFn)</code>æ–¹æ³•åˆ›å»ºç»™å®šæ•°ç»„ä¸€éƒ¨åˆ†çš„æµ…æ‹·è´ï¼Œå…¶åŒ…å«é€šè¿‡æ‰€æä¾›å‡½æ•°å®ç°çš„æµ‹è¯•çš„æ‰€æœ‰å…ƒç´ ã€‚</li><li>æŸ¥æ‰¾ï¼š<code>find(callbackFn)</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„å€¼ã€‚å¦åˆ™è¿”å› undefinedã€‚<code>findIndex(callbackFn)</code>æ–¹æ³•è¿”å›æ•°ç»„ä¸­æ»¡è¶³æä¾›çš„æµ‹è¯•å‡½æ•°çš„ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç´¢å¼•ã€‚è‹¥æ²¡æœ‰æ‰¾åˆ°å¯¹åº”å…ƒç´ åˆ™è¿”å› -1ã€‚</li><li>æ ˆçš„ä½¿ç”¨ï¼š<code>push(item)</code>æ¨å…¥å°¾éƒ¨ï¼Œ<code>pop(item)</code>æ¨å‡ºå°¾éƒ¨,<code>shift()</code>æ¨å‡ºé¦–éƒ¨,<code>unshift(item)</code>åŠ å…¥é¦–éƒ¨</li><li>è£å‰ªï¼š<code>slice(start[,end])</code>æ–¹æ³•è¿”å›ä¸€ä¸ªæ–°çš„æ•°ç»„å¯¹è±¡ï¼ŒåŸå§‹æ•°ç»„ä¸ä¼šè¢«æ”¹å˜ã€‚</li><li>æ’åºï¼š<code>sort((a, b) =&gt; a - b)</code> å‡åºæ’åºï¼›<code>reverse</code>åè½¬æ•°ç»„ï¼Œæ”¹å˜åŸæ•°ç»„ã€‚</li><li>å…¶ä»–ï¼š<code>join(separator)</code>æ‹¼æ¥æ•°ç»„ä¸ºå­—ç¬¦ä¸²; <code>concat(arr1, ...arrn)</code>æ–¹æ³•ç”¨äºåˆå¹¶nä¸ªæ•°ç»„ã€‚æ­¤æ–¹æ³•ä¸ä¼šæ›´æ”¹ç°æœ‰æ•°ç»„ï¼Œè€Œæ˜¯è¿”å›ä¸€ä¸ªæ–°æ•°ç»„ã€‚</li></ul><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><p><code>Object.entries()</code>æ–¹æ³•è¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«ç»™å®šå¯¹è±¡è‡ªæœ‰çš„å¯æšä¸¾å­—ç¬¦ä¸²é”®å±æ€§çš„<strong>é”®å€¼å¯¹</strong>ã€‚<code>Object.keys()</code>è¿”å›é”®çš„æ•°ç»„ï¼Œ<code>Object.keys()</code>è¿”å›å€¼çš„æ•°ç»„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> object1 = &#123;<br>  <span class="hljs-attr">a</span>: <span class="hljs-string">&#x27;somestring&#x27;</span>,<br>  <span class="hljs-attr">b</span>: <span class="hljs-number">42</span>,<br>&#125;;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> [key, value] <span class="hljs-keyword">of</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(object1)) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;key&#125;</span>: <span class="hljs-subst">$&#123;value&#125;</span>`</span>);<br>&#125;<br><br><span class="hljs-comment">// Expected output:</span><br><span class="hljs-comment">// &quot;a: somestring&quot;</span><br><span class="hljs-comment">// &quot;b: 42&quot;</span><br></code></pre></td></tr></table></figure><p><code>Object.assign(target, ...sources)</code>æ–¹æ³•å°†ä¸€ä¸ªæˆ–è€…å¤šä¸ªæºå¯¹è±¡ä¸­æ‰€æœ‰å¯æšä¸¾çš„è‡ªæœ‰å±æ€§å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ï¼Œå¹¶è¿”å›ä¿®æ”¹åçš„ç›®æ ‡å¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> target = &#123; <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">b</span>: <span class="hljs-number">2</span> &#125;;<br><span class="hljs-keyword">const</span> source = &#123; <span class="hljs-attr">b</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">c</span>: <span class="hljs-number">5</span> &#125;;<br><br><span class="hljs-keyword">const</span> returnedTarget = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(target, source);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(target); <span class="hljs-comment">// Expected output: Object &#123; a: 1, b: 4, c: 5 &#125;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(returnedTarget === target); <span class="hljs-comment">// Expected output: true</span><br></code></pre></td></tr></table></figure><p><code>Object.defineProperty(obj, prop, descriptor)</code> é™æ€æ–¹æ³•ä¼šç›´æ¥åœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šå®šä¹‰ä¸€ä¸ªæ–°å±æ€§ï¼Œæˆ–ä¿®æ”¹å…¶ç°æœ‰å±æ€§ï¼Œå¹¶è¿”å›æ­¤å¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> object1 = &#123;&#125;;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(object1, <span class="hljs-string">&#x27;property1&#x27;</span>, &#123;<br>  <span class="hljs-attr">value</span>: <span class="hljs-number">42</span>,<br>  <span class="hljs-attr">writable</span>: <span class="hljs-literal">false</span>,<br>&#125;);<br><br>object1.<span class="hljs-property">property1</span> = <span class="hljs-number">77</span>; <span class="hljs-comment">// Throws an error in strict mode</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(object1.<span class="hljs-property">property1</span>); <span class="hljs-comment">// Expected output: 42</span><br></code></pre></td></tr></table></figure><h2 id="æ­£åˆ™è¯­æ³•"><a href="#æ­£åˆ™è¯­æ³•" class="headerlink" title="æ­£åˆ™è¯­æ³•"></a>æ­£åˆ™è¯­æ³•</h2><p><a href="https://www.runoob.com/regexp/regexp-syntax.html">æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•</a></p><p>æ™®é€šå­—ç¬¦ï¼š</p><ul><li><code>[ABC]</code>: åŒ¹é…æ–¹æ‹¬å·é‡Œæ‰€æœ‰å­—ç¬¦</li><li><code>[^ABC]</code>: åŒ¹é…é™¤äº†æ–¹æ‹¬å·é‡Œçš„æ‰€æœ‰å­—ç¬¦</li><li><code>[A-Z]</code>: <code>[A-Z]</code>è¡¨ç¤ºä¸€ä¸ªåŒºé—´ï¼ŒåŒ¹é…æ‰€æœ‰å¤§å†™å­—æ¯ï¼Œ<code>[a-z]</code>è¡¨ç¤ºæ‰€æœ‰å°å†™å­—æ¯ã€‚</li><li><code>.</code>: åŒ¹é…é™¤æ¢è¡Œç¬¦ä¹‹å¤–çš„ä»»ä½•å•ä¸ªå­—ç¬¦</li><li><code>[\s\S]</code>: åŒ¹é…æ‰€æœ‰ã€‚\s æ˜¯åŒ¹é…æ‰€æœ‰ç©ºç™½ç¬¦ï¼ŒåŒ…æ‹¬æ¢è¡Œï¼Œ\S éç©ºç™½ç¬¦ï¼Œä¸åŒ…æ‹¬æ¢è¡Œã€‚</li><li><code>\w</code>: åŒ¹é…å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿ã€‚ç­‰ä»·äº [A-Za-z0-9_]</li><li><code>\d</code>: åŒ¹é…ä»»æ„ä¸€ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—ï¼ˆ0 åˆ° 9ï¼‰ã€‚ç­‰ä»·äº [0-9]</li></ul><p>ç‰¹æ®Šå­—ç¬¦ï¼šæœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ã€‚è‹¥è¦åŒ¹é…ç‰¹æ®Šå­—ç¬¦ï¼Œå¿…é¡»é¦–å…ˆä½¿å­—ç¬¦â€è½¬ä¹‰â€ï¼Œå³ï¼Œå°†åæ–œæ å­—ç¬¦\ æ”¾åœ¨å®ƒä»¬å‰é¢ã€‚</p><ul><li><code>( )</code> æ•è·åˆ†ç»„ã€‚ç”¨åœ†æ‹¬å· () å°†æ‰€æœ‰é€‰æ‹©é¡¹æ‹¬èµ·æ¥ï¼Œç›¸é‚»çš„é€‰æ‹©é¡¹ä¹‹é—´ç”¨<code>|</code>åˆ†éš”ã€‚<ul><li><code>exp1(?=exp2)</code>ï¼šæŸ¥æ‰¾ exp2 å‰é¢çš„ exp1ã€‚</li><li><code>(?&lt;=exp2)exp1</code>ï¼šæŸ¥æ‰¾ exp2 åé¢çš„ exp1ã€‚</li><li><code>exp1(?!exp2)</code>ï¼šæŸ¥æ‰¾åé¢ä¸æ˜¯ exp2 çš„ exp1ã€‚</li><li><code>(?&lt;!exp2)exp1</code>ï¼šæŸ¥æ‰¾å‰é¢ä¸æ˜¯ exp2 çš„ exp1</li></ul></li><li><code>^</code> åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„å¼€å§‹ä½ç½®</li><li><code>$</code> åŒ¹é…è¾“å…¥å­—ç¬¦ä¸²çš„ç»“å°¾ä½ç½®</li><li><code>\b</code> åŒ¹é…ä¸€ä¸ªå•è¯è¾¹ç•Œï¼Œå³å­—ä¸ç©ºæ ¼é—´çš„ä½ç½®ã€‚    å°è¯•ä¸€ä¸‹ Â»</li><li><code>\B</code> éå•è¯è¾¹ç•ŒåŒ¹é…ã€‚</li></ul><p>é™å®šç¬¦ï¼šæŒ‡å®šæ­£åˆ™è¡¨è¾¾å¼çš„ä¸€ä¸ªç»™å®šç»„ä»¶å¿…é¡»è¦å‡ºç°å¤šå°‘æ¬¡æ‰èƒ½æ»¡è¶³åŒ¹é…</p><ul><li><code>+</code>å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¿…é¡»è‡³å°‘å‡ºç°ä¸€æ¬¡ï¼ˆ1æ¬¡æˆ–å¤šæ¬¡ï¼‰</li><li><code>*</code>å·ä»£è¡¨å‰é¢çš„å­—ç¬¦å¯ä»¥ä¸å‡ºç°ï¼Œä¹Ÿå¯ä»¥å‡ºç°ä¸€æ¬¡æˆ–è€…å¤šæ¬¡ï¼ˆ0æ¬¡ã€æˆ–1æ¬¡ã€æˆ–å¤šæ¬¡ï¼‰</li><li><code>?</code>é—®å·ä»£è¡¨å‰é¢çš„å­—ç¬¦æœ€å¤šåªå¯ä»¥å‡ºç°ä¸€æ¬¡ï¼ˆ0æ¬¡æˆ–1æ¬¡ï¼‰</li><li><code>&#123;n&#125;</code> åŒ¹é…ç¡®å®šçš„ n æ¬¡</li><li><code>&#123;n,&#125;</code> åŒ¹é…è‡³å°‘ n æ¬¡</li><li><code>&#123;n,m&#125;</code> æœ€å°‘åŒ¹é… n æ¬¡ä¸”æœ€å¤šåŒ¹é… m æ¬¡</li></ul><p>flagsä¿®é¥°ç¬¦ï¼š<code>/pattern/flags</code> æ ‡è®°ä¹Ÿç§°ä¸ºä¿®é¥°ç¬¦ï¼Œæ­£åˆ™è¡¨è¾¾å¼çš„æ ‡è®°ç”¨äºæŒ‡å®šé¢å¤–çš„åŒ¹é…ç­–ç•¥ã€‚</p><table><thead><tr><th>ä¿®é¥°ç¬¦</th><th>å«ä¹‰</th><th>æè¿°</th></tr></thead><tbody><tr><td>i</td><td>ignore - ä¸åŒºåˆ†å¤§å°å†™</td><td>å°†åŒ¹é…è®¾ç½®ä¸ºä¸åŒºåˆ†å¤§å°å†™ï¼Œæœç´¢æ—¶ä¸åŒºåˆ†å¤§å°å†™: A å’Œ a æ²¡æœ‰åŒºåˆ«ã€‚</td></tr><tr><td>g</td><td>global - å…¨å±€åŒ¹é…</td><td>æŸ¥æ‰¾æ‰€æœ‰çš„åŒ¹é…é¡¹ã€‚</td></tr><tr><td>m</td><td>multi line - å¤šè¡ŒåŒ¹é…</td><td>ä½¿è¾¹ç•Œå­—ç¬¦Â ^Â å’ŒÂ $Â åŒ¹é…æ¯ä¸€è¡Œçš„å¼€å¤´å’Œç»“å°¾ï¼Œè®°ä½æ˜¯å¤šè¡Œï¼Œè€Œä¸æ˜¯æ•´ä¸ªå­—ç¬¦ä¸²çš„å¼€å¤´å’Œç»“å°¾ã€‚</td></tr><tr><td>s</td><td>ç‰¹æ®Šå­—ç¬¦åœ†ç‚¹Â .Â ä¸­åŒ…å«æ¢è¡Œç¬¦Â \n</td><td>é»˜è®¤æƒ…å†µä¸‹çš„åœ†ç‚¹Â .Â æ˜¯åŒ¹é…é™¤æ¢è¡Œç¬¦Â \nÂ ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦ï¼ŒåŠ ä¸ŠÂ sÂ ä¿®é¥°ç¬¦ä¹‹å,Â .Â ä¸­åŒ…å«æ¢è¡Œç¬¦ \nã€‚</td></tr></tbody></table>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>data structure</tag>
      
      <tag>algorithm</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆä¸ƒï¼‰ï¼šæ¡†æ¶</title>
    <link href="/2024/03/15/front-end-interview-preparation-7/"/>
    <url>/2024/03/15/front-end-interview-preparation-7/</url>
    
    <content type="html"><![CDATA[<p>Vueï¼ŒReactï¼ŒHybridï¼Œå¾®ä¿¡å°ç¨‹åº</p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>Vue</tag>
      
      <tag>frameworks</tag>
      
      <tag>React</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆå…­ï¼‰ï¼šè®¡ç®—æœºç½‘ç»œ</title>
    <link href="/2022/10/22/front-end-interview-preparation-6/"/>
    <url>/2022/10/22/front-end-interview-preparation-6/</url>
    
    <content type="html"><![CDATA[<h2 id="OSIä¸ƒå±‚æ¨¡å‹"><a href="#OSIä¸ƒå±‚æ¨¡å‹" class="headerlink" title="OSIä¸ƒå±‚æ¨¡å‹"></a>OSIä¸ƒå±‚æ¨¡å‹</h2><p><img src="/img/front-end-interview-preparation/web-osi-outline.png" alt="OSIä¸ƒå±‚æ¨¡å‹"></p><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><p><img src="/img/front-end-interview-preparation/web-osi.png" alt="OSIä¸ƒå±‚æ¨¡å‹"></p><ul><li>åº”ç”¨å±‚ï¼šæä¾›å„ç§ç½‘ç»œæœåŠ¡åè®®</li><li>è¡¨ç¤ºå±‚ï¼šç”¨äºåº”ç”¨å±‚æ•°æ®çš„ç¼–ç å’Œè½¬æ¢åŠŸèƒ½</li><li>ä¼šè¯å±‚ï¼šè´Ÿè´£å»ºç«‹ã€ç®¡ç†å’Œç»ˆæ­¢è¡¨ç¤ºå±‚å®ä½“ä¹‹é—´çš„é€šä¿¡ä¼šè¯</li><li>ä¼ è¾“å±‚ï¼šæä¾›ç«¯åˆ°ç«¯çš„å¯é å’Œé€æ˜çš„æ•°æ®ä¼ è¾“æœåŠ¡</li><li>ç½‘ç»œå±‚ï¼šé€šè¿‡IPå¯»å€æ¥å»ºç«‹ä¸¤ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥</li><li>æ•°æ®é“¾è·¯å±‚ï¼šä¼ è¾“å¸§</li><li>ç‰©ç†å±‚ï¼šä¼ è¾“æ¯”ç‰¹æµ</li></ul><h3 id="åº”ç”¨å±‚å¸¸è§çš„ç½‘ç»œåè®®"><a href="#åº”ç”¨å±‚å¸¸è§çš„ç½‘ç»œåè®®" class="headerlink" title="åº”ç”¨å±‚å¸¸è§çš„ç½‘ç»œåè®®"></a>åº”ç”¨å±‚å¸¸è§çš„ç½‘ç»œåè®®</h3><ul><li>HTTP è¶…æ–‡æœ¬ä¼ è¾“åè®®</li><li>SMTP\POP3 é‚®ä»¶å‘é€\æ¥æ”¶åè®®</li><li>FTP æ–‡ä»¶ä¼ è¾“åè®®</li><li>DNS åŸŸåç³»ç»Ÿ</li></ul><h3 id="TCPä¸UDPçš„åŒºåˆ«"><a href="#TCPä¸UDPçš„åŒºåˆ«" class="headerlink" title="TCPä¸UDPçš„åŒºåˆ«"></a>TCPä¸UDPçš„åŒºåˆ«</h3><p>TCPåè®®ï¼ˆä¼ è¾“æ§åˆ¶åè®®ï¼‰æ˜¯ä¸€ç§ä¼ è¾“å±‚åè®®ï¼Œå…è®¸æ•°æ®åŒ…ä»ä¸€ä¸ªä½ç½®å‘é€åˆ°å¦ä¸€ä¸ªä½ç½®ã€‚TCP æ˜¯é¢å‘è¿æ¥çš„åè®®ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒåœ¨ç½‘ç»œè®¡ç®—æœºå•å…ƒä¹‹é—´çš„ä»»ä½•é€šä¿¡ä¹‹å‰å»ºç«‹è¿æ¥ï¼›åŒæ—¶è¿™ä¸ªè¿æ¥å°†ä¸€ç›´ä¿æŒï¼Œç›´åˆ°å‘é€æ–¹å’Œæ¥æ”¶æ–¹å®Œæˆæ•°æ®äº¤æ¢ã€‚è¿™å°±æ˜¯ä¸‹é¢ä»‹ç»çš„ä¸‰æ¬¡æ¡æ‰‹ï¼Œå››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ã€‚</p><p>åœ¨UDPåè®®ï¼ˆç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼‰ä¸­ï¼Œæ¥æ”¶æ–¹ä¸ç”Ÿæˆæ•°æ®åŒ…çš„ç¡®è®¤ï¼Œå‘é€æ–¹ä¹Ÿä¸ç­‰å¾…æ•°æ®åŒ…çš„ç¡®è®¤ã€‚æ­£æ˜¯è¿™ä¸ªä¸è¶³ï¼Œä½¿å¾—è¯¥åè®®è™½ä¸å¯é ä½†æ˜¯é€Ÿåº¦æ›´å¿«ã€‚</p><table><thead><tr><th>åŒºåˆ«</th><th>TCPåè®®</th><th>UDPåè®®</th></tr></thead><tbody><tr><td>è¿æ¥</td><td>é¢å‘è¿æ¥åè®®</td><td>æ— è¿æ¥åè®®</td></tr><tr><td>å¯é æ€§</td><td>å¯é ã€‚æ¥æ”¶æ•°æ®å¤±è´¥æ—¶ï¼Œå®ƒä¼šè¯·æ±‚é‡æ–°ä¼ è¾“ã€‚</td><td>å¤±è´¥æ—¶ä¸å……å‘è¯·æ±‚ã€‚ä¾èµ–äºé«˜å±‚åè®®æ¥ç¡®ä¿å¯é æ€§ã€‚</td></tr><tr><td>ä¿æŒæ•°æ®ä¼ è¾“çš„é¡ºåº</td><td>æœ‰åºæ¥æ”¶æ•°æ®åŒ…</td><td>æ— åºæ¥æ”¶æ•°æ®åŒ…</td></tr><tr><td>ä¼ è¾“é€Ÿåº¦</td><td>å¤´éƒ¨å¼€é”€å¤§ï¼Œä¼ è¾“æ›´æ…¢</td><td>å¤´éƒ¨å¼€é”€å°ï¼Œä¼ è¾“æ›´å¿«</td></tr><tr><td>ç”¨ä¾‹</td><td>ç”¨äº HTTPSã€HTTPã€SMTPã€FTPç­‰ç­‰ã€‚</td><td>ç”¨äºè§†é¢‘æµã€è§†é¢‘ç”µè¯ã€IP è¯­éŸ³æœåŠ¡ï¼ˆäº’è”ç½‘å‘¼å«ï¼‰ã€DNSç­‰ã€‚</td></tr></tbody></table><h3 id="DNS-åŸŸåç³»ç»Ÿ"><a href="#DNS-åŸŸåç³»ç»Ÿ" class="headerlink" title="DNS åŸŸåç³»ç»Ÿ"></a>DNS åŸŸåç³»ç»Ÿ</h3><p>DNS åŸŸåç³»ç»Ÿæä¾›åŸŸååˆ°IPåœ°å€çš„è½¬æ¢ã€‚</p><p>è§£ææµç¨‹ï¼š</p><ul><li>ä¼˜å…ˆè¯»å–æµè§ˆå™¨ç¼“å­˜ï¼Œç³»ç»Ÿç¼“å­˜ï¼Œæœ¬åœ°hostsç¼“å­˜</li><li>æ²¡æœ‰å†æ‰¾åŸŸåè§£ææœåŠ¡å™¨ï¼Œåˆ†çº§æŸ¥è¯¢</li></ul><p><img src="/img/front-end-interview-preparation/web-dns-1.png" alt="DNSè§£ææµç¨‹"></p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><blockquote><p><code>www.tmall.com</code>å¯¹åº”çš„çœŸæ­£çš„åŸŸåä¸º<code>www.tmall.com.</code>ã€‚æœ«å°¾çš„.ç§°ä¸ºæ ¹åŸŸåï¼Œå› ä¸ºæ¯ä¸ªåŸŸåéƒ½æœ‰æ ¹åŸŸåï¼Œå› æ­¤æˆ‘ä»¬é€šå¸¸çœç•¥ã€‚<br>æ ¹åŸŸåçš„ä¸‹ä¸€çº§ï¼Œå«åšâ€é¡¶çº§åŸŸåâ€ï¼ˆtop-level domainï¼Œç¼©å†™ä¸ºTLDï¼‰ï¼Œæ¯”å¦‚.comã€.netï¼›<br>å†ä¸‹ä¸€çº§å«åšâ€æ¬¡çº§åŸŸåâ€ï¼ˆsecond-level domainï¼Œç¼©å†™ä¸ºSLDï¼‰ï¼Œæ¯”å¦‚<code>www.tmall.com</code>é‡Œé¢çš„.tmallï¼Œè¿™ä¸€çº§åŸŸåæ˜¯ç”¨æˆ·å¯ä»¥æ³¨å†Œçš„ï¼›<br>å†ä¸‹ä¸€çº§æ˜¯ä¸»æœºåï¼ˆhostï¼‰ï¼Œæ¯”å¦‚<code>www.tmall.com</code>é‡Œé¢çš„wwwï¼Œåˆç§°ä¸ºâ€ä¸‰çº§åŸŸåâ€ï¼Œè¿™æ˜¯ç”¨æˆ·åœ¨è‡ªå·±çš„åŸŸé‡Œé¢ä¸ºæœåŠ¡å™¨åˆ†é…çš„åç§°ï¼Œæ˜¯ç”¨æˆ·å¯ä»¥ä»»æ„åˆ†é…çš„ã€‚</p></blockquote><p>DNSèµ„æºè®°å½•ï¼šç”¨äºæŠŠåŸŸåè§£æåˆ°ç›¸åº” IP åœ°å€ä¸Š</p><p><img src="/img/front-end-interview-preparation/web-dns-2.png" alt="DNSèµ„æºè®°å½•"></p><ul><li>è®°å½•ç±»å‹ä¸­ A è®°å½•æŒ‡å‘ IP åœ°å€ï¼ŒCNAME è®°å½•æŒ‡å‘åŸŸåï¼Œå¸¸ç”¨äº CDN</li><li>TTL(ç”Ÿå­˜å‘¨æœŸ)ï¼šä¸€èˆ¬çš„åŸŸåè§£æå•†éƒ½æœ‰é»˜è®¤å€¼ï¼Œé˜¿é‡Œäº‘ä¸º10åˆ†é’Ÿ</li></ul><h2 id="TCPä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹"><a href="#TCPä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="TCPä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹"></a>TCPä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹</h2><p><img src="/img/front-end-interview-preparation/web-tcp34.png" alt="TCPä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹"></p><p>TCP é€šè¿‡ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹ä¸€ä¸ªè¿æ¥ï¼Œå››æ¬¡æŒ¥æ‰‹å…³é—­ä¸€ä¸ªè¿æ¥ã€‚è¿™ä¹Ÿæ˜¯ TCP åè®®é¢å‘è¿æ¥çš„æ·±å±‚å«ä¹‰ã€‚</p><p>ä¸‰æ¬¡æ¡æ‰‹ï¼ˆThree-way Handshakeï¼‰å…¶å®å°±æ˜¯æŒ‡å»ºç«‹ä¸€ä¸ªTCPè¿æ¥æ—¶ï¼Œéœ€è¦å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ€»å…±å‘é€3ä¸ªåŒ…ã€‚è¿›è¡Œä¸‰æ¬¡æ¡æ‰‹çš„ä¸»è¦ä½œç”¨å°±æ˜¯ä¸ºäº†ç¡®è®¤åŒæ–¹çš„æ¥æ”¶èƒ½åŠ›å’Œå‘é€èƒ½åŠ›æ˜¯å¦æ­£å¸¸ã€æŒ‡å®šè‡ªå·±çš„åˆå§‹åŒ–åºåˆ—å·ä¸ºåé¢çš„å¯é æ€§ä¼ é€åšå‡†å¤‡ã€‚å®è´¨ä¸Šå…¶å®å°±æ˜¯è¿æ¥æœåŠ¡å™¨æŒ‡å®šç«¯å£ï¼Œå»ºç«‹TCPè¿æ¥ï¼Œå¹¶åŒæ­¥è¿æ¥åŒæ–¹çš„åºåˆ—å·å’Œç¡®è®¤å·ï¼Œäº¤æ¢TCPçª—å£å¤§å°ä¿¡æ¯ã€‚</p><p>TCP çš„è¿æ¥çš„æ‹†é™¤éœ€è¦å‘é€å››ä¸ªåŒ…ï¼Œå› æ­¤ç§°ä¸ºå››æ¬¡æŒ¥æ‰‹(Four-way handshake)ï¼Œå®¢æˆ·ç«¯æˆ–æœåŠ¡å™¨å‡å¯ä¸»åŠ¨å‘èµ·æŒ¥æ‰‹åŠ¨ä½œã€‚å‰ä¸¤æ¬¡æŒ¥æ‰‹ï¼Œåªæ˜¯æ–­å¼€è¿æ¥è¿™ä»¶äº‹åšç¡®è®¤ï¼Œä½†å¹¶ä¸ä¼šç«‹å³è¡Œè¿™ä»¶äº‹ã€‚ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹å‰ï¼ŒæœåŠ¡å™¨ä¼šæŠŠè‡ªå·±æƒ³ä¼ çš„æ•°æ®ä¼ è¾“å®Œï¼Œç„¶åå†é€šçŸ¥ä¸€æ¬¡å®¢æˆ·ç«¯ã€‚ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼Œå®¢æˆ·ç«¯æ¥æ”¶å¹¶å“åº”æ¥è‡ªæœåŠ¡ç«¯çš„åˆ†æ‰‹è¯·æ±‚ã€‚</p><p>å»ºç«‹ä¸€ä¸ªè¿æ¥éœ€è¦ä¸‰æ¬¡æ¡æ‰‹ï¼Œè€Œç»ˆæ­¢ä¸€ä¸ªè¿æ¥è¦ç»è¿‡å››æ¬¡æŒ¥æ‰‹ã€‚ä¸ºä»€ä¹ˆç»ˆæ­¢æ—¶ä¼šå¤šä¸€æ¬¡å‘¢ï¼Ÿ</p><ul><li>è¿™ç”±TCPçš„åŠå…³é—­ï¼ˆhalf-closeï¼‰é€ æˆçš„ã€‚æ‰€è°“çš„åŠå…³é—­ï¼Œå…¶å®å°±æ˜¯TCPæä¾›äº†è¿æ¥çš„ä¸€ç«¯åœ¨ç»“æŸå®ƒçš„å‘é€åè¿˜èƒ½æ¥æ”¶æ¥è‡ªå¦ä¸€ç«¯æ•°æ®çš„èƒ½åŠ›ã€‚</li></ul><p>æ¦‚æ‹¬å¦‚ä¸‹ï¼š</p><table><thead><tr><th></th><th>ä¸‰æ¬¡æ¡æ‰‹</th><th>å››æ¬¡æŒ¥æ‰‹</th></tr></thead><tbody><tr><td>å‰ä¸¤æ¬¡</td><td>å¯¹åˆ›å»ºè¿æ¥è¿™ä»¶äº‹åšç¡®è®¤</td><td>å¯¹æ–­å¼€è¿æ¥è¿™ä»¶äº‹åšç¡®è®¤</td></tr><tr><td>ç¬¬ä¸‰æ¬¡</td><td>åˆ›å»ºè¿æ¥</td><td>æœåŠ¡å™¨æœ€åä¸€æ¬¡ä¼ è¾“éœ€è¦çš„æ•°æ®</td></tr><tr><td>ç¬¬å››æ¬¡</td><td>&#x2F;</td><td>å…³é—­è¿æ¥</td></tr></tbody></table><h3 id="ã€é«˜é˜¶ã€‘ä¸‰æ¬¡æ¡æ‰‹"><a href="#ã€é«˜é˜¶ã€‘ä¸‰æ¬¡æ¡æ‰‹" class="headerlink" title="ã€é«˜é˜¶ã€‘ä¸‰æ¬¡æ¡æ‰‹"></a>ã€é«˜é˜¶ã€‘ä¸‰æ¬¡æ¡æ‰‹</h3><p>é¦–å…ˆï¼Œå…ˆè§£é‡Šä¸€ä¸‹ä¸‰æ¬¡æ¡æ‰‹è¿‡ç¨‹ä¸­ä¼šå‡ºç°çš„æŠ¥æ–‡ï¼š</p><ul><li>SYN åŒæ­¥æŠ¥æ–‡ï¼šSYN ç½®1å°±è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªè¿æ¥è¯·æ±‚æˆ–è¿æ¥æ¥å—æŠ¥æ–‡</li><li>ACK ç¡®è®¤æŠ¥æ–‡ï¼šåªæœ‰ACK&#x3D;1æ—¶æœ‰æ•ˆï¼Œä¹Ÿè§„å®šè¿æ¥å»ºç«‹åæ‰€æœ‰å‘é€çš„æŠ¥æ–‡çš„ACKå¿…é¡»ä¸º1ã€‚</li><li>seq åºåˆ—å·ï¼šå®¢æˆ·ç«¯ã€æœåŠ¡ç«¯éƒ½è¦åˆå§‹åºåˆ—å·ï¼Œç¬¬äºŒä¸ªæŠ¥æ–‡æ®µåˆ™ + 1</li><li>ack ç¡®è®¤ç ï¼šæ¥å—åˆ°çš„å¯¹æ–¹çš„åºåˆ—å· + 1</li></ul><p>ä¸‰æ¬¡æ¡æ‰‹çš„è¿‡ç¨‹ï¼š</p><ol><li>å®¢æˆ·ç«¯ï¼šé¦–éƒ¨çš„åŒæ­¥ä½SYN&#x3D;1ï¼Œåˆå§‹åºå·seq&#x3D;xï¼ˆæŒ‡å®šå®¢æˆ·ç«¯çš„åˆå§‹åŒ–åºåˆ—å·ï¼‰ã€‚</li><li>æœåŠ¡ç«¯ï¼šåœ¨ç¡®è®¤æŠ¥æ–‡æ®µä¸­SYN&#x3D;1ï¼ŒACK&#x3D;1ï¼Œç¡®è®¤å·ack&#x3D;x+1ï¼ˆæŠŠå®¢æˆ·ç«¯çš„åˆå§‹åŒ–åºåˆ—å· + 1ä½œä¸ºACKçš„å€¼ï¼‰ï¼Œåˆå§‹åºå·seq&#x3D;yï¼ˆæŒ‡å®šæœåŠ¡ç«¯çš„åˆå§‹åŒ–åºåˆ—å·ï¼‰ã€‚</li><li>å®¢æˆ·ç«¯ï¼šç¡®è®¤æŠ¥æ–‡æ®µACK&#x3D;1ï¼Œç¡®è®¤å·ack&#x3D;y+1ï¼Œåºå·seq&#x3D;x+1ï¼ˆåˆå§‹ä¸ºseq&#x3D;xï¼Œç¬¬äºŒä¸ªæŠ¥æ–‡æ®µæ‰€ä»¥è¦+1ï¼‰ã€‚</li></ol><p><img src="/img/front-end-interview-preparation/three-way-handshake.png" alt="ä¸‰æ¬¡æ¡æ‰‹"></p><h3 id="ã€é«˜é˜¶ã€‘å››æ¬¡æŒ¥æ‰‹"><a href="#ã€é«˜é˜¶ã€‘å››æ¬¡æŒ¥æ‰‹" class="headerlink" title="ã€é«˜é˜¶ã€‘å››æ¬¡æŒ¥æ‰‹"></a>ã€é«˜é˜¶ã€‘å››æ¬¡æŒ¥æ‰‹</h3><p>å…¶ä¸­ï¼ŒFINæŠ¥æ–‡ç”¨æ¥é‡Šæ”¾ä¸€ä¸ªè¿æ¥ã€‚FIN&#x3D;1 æ—¶ï¼Œå°±è¡¨ç¤ºæ­¤æŠ¥æ–‡æ®µçš„å‘é€æ–¹çš„æ•°æ®å·²ç»å‘é€å®Œæ¯•ï¼Œè¯·æ±‚é‡Šæ”¾è¿è¾“è¿æ¥ã€‚</p><p>å››æ¬¡æŒ¥æ‰‹çš„è¿‡ç¨‹ï¼š</p><ol><li>å®¢æˆ·ç«¯ï¼šFIN&#x3D;1è¯·æ±‚é‡Šæ”¾è¿æ¥ï¼Œseq&#x3D;uï¼ˆæŒ‡å®šå®¢æˆ·ç«¯çš„åºåˆ—å·ï¼‰ã€‚</li><li>æœåŠ¡ç«¯ï¼šåœ¨ç¡®è®¤æŠ¥æ–‡æ®µä¸­ACK&#x3D;1ï¼Œç¡®è®¤å·ack&#x3D;u+1ï¼Œåˆå§‹åºå·seq&#x3D;vï¼ˆæŒ‡å®šæœåŠ¡ç«¯çš„åˆå§‹åŒ–åºåˆ—å·ï¼‰ã€‚</li><li>æœåŠ¡ç«¯ï¼šå¦‚æœæœåŠ¡ç«¯ä¹Ÿæƒ³æ–­å¼€è¿æ¥äº†ï¼Œå’Œå®¢æˆ·ç«¯çš„ç¬¬ä¸€æ¬¡æŒ¥æ‰‹ä¸€æ ·ï¼Œå‘ç»™ FIN æŠ¥æ–‡ï¼Œä¸”æŒ‡å®šä¸€ä¸ªæ–°çš„åºåˆ—å·ã€‚æœåŠ¡ç«¯å‘å‡ºè¿æ¥é‡Šæ”¾æŠ¥æ–‡æ®µï¼ˆFIN&#x3D;1ï¼ŒACK&#x3D;1ï¼Œåºå·seq&#x3D;wï¼Œç¡®è®¤å·ack&#x3D;u+1ï¼‰ã€‚</li><li>å®¢æˆ·ç«¯ï¼šç¡®è®¤æŠ¥æ–‡æ®µï¼ˆACK&#x3D;1ï¼Œseq&#x3D;u+1ï¼Œack&#x3D;w+1ï¼‰</li></ol><p><img src="/img/front-end-interview-preparation/four-way-handshake.png" alt="å››æ¬¡æŒ¥æ‰‹"></p><h2 id="HTTP"><a href="#HTTP" class="headerlink" title="HTTP"></a>HTTP</h2><p><img src="/img/front-end-interview-preparation/web-http.png" alt="HTTP"></p><h3 id="å¯¹HTTPæ— çŠ¶æ€çš„ç†è§£"><a href="#å¯¹HTTPæ— çŠ¶æ€çš„ç†è§£" class="headerlink" title="å¯¹HTTPæ— çŠ¶æ€çš„ç†è§£"></a>å¯¹HTTPæ— çŠ¶æ€çš„ç†è§£</h3><p>HTTPæ˜¯æ— çŠ¶æ€çš„ï¼Œæ„å‘³ç€ä¸¤ä¸ªè¯·æ±‚ä¹‹é—´æ¯«æ— å…³ç³»ã€‚å¦‚æœæƒ³è¦ç»´æŒä¸åŒè¯·æ±‚é—´çš„çŠ¶æ€ä¿¡æ¯ï¼Œéœ€è¦å…¶ä»–æ‰‹æ®µï¼Œæ¯”å¦‚cookie-sessionï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¼šåœ¨<a href="#%E5%89%8D%E5%90%8E%E7%AB%AF%E9%89%B4%E6%9D%83">å‰åç«¯é‰´æƒ</a>ä¸­ä»‹ç»ã€‚</p><h3 id="æŠ¥æ–‡ç»“æ„"><a href="#æŠ¥æ–‡ç»“æ„" class="headerlink" title="æŠ¥æ–‡ç»“æ„"></a>æŠ¥æ–‡ç»“æ„</h3><p>è¯·æ±‚æŠ¥æ–‡çš„ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li>è¯·æ±‚è¡Œï¼šè¯·æ±‚æ–¹æ³•ã€URLä»¥åŠåè®®ç‰ˆæœ¬ã€‚å®ƒä»¬ç”¨ç©ºæ ¼åˆ†éš”ï¼Œå¦‚<code>GET /index.html HTTP/1.1</code>ã€‚</li><li>è¯·æ±‚å¤´éƒ¨ï¼šè¯·æ±‚å¤´éƒ¨ç”±å…³é”®å­—&#x2F;å€¼å¯¹ç»„æˆï¼Œæ¯è¡Œä¸€å¯¹ï¼Œå…³é”®å­—å’Œå€¼ç”¨è‹±æ–‡å†’å·â€œ:â€åˆ†éš”</li><li>è¯·æ±‚ä½“ï¼špostã€putç­‰è¯·æ±‚æºå¸¦çš„æ•°æ®</li></ul><p><img src="/img/front-end-interview-preparation/web-request-packets.png" alt="è¯·æ±‚æŠ¥æ–‡çš„æŠ¥æ–‡ç»“æ„"></p><p>å“åº”æŠ¥æ–‡çš„ç»“æ„å¦‚ä¸‹ï¼š</p><ul><li>çŠ¶æ€è¡Œï¼šåè®®ç‰ˆæœ¬ï¼ŒçŠ¶æ€ç ï¼ŒçŠ¶æ€ç æè¿°ã€‚å¦‚<code>HTTP/1.1 200 OK</code>ã€‚</li><li>å“åº”å¤´éƒ¨ï¼šå“åº”é¦–éƒ¨ç»„æˆã€‚</li><li>å“åº”æ­£æ–‡ï¼šæœåŠ¡å™¨å“åº”çš„æ•°æ®ã€‚</li></ul><h3 id="å¸¸è§çš„é¦–éƒ¨å­—æ®µ"><a href="#å¸¸è§çš„é¦–éƒ¨å­—æ®µ" class="headerlink" title="å¸¸è§çš„é¦–éƒ¨å­—æ®µ"></a>å¸¸è§çš„é¦–éƒ¨å­—æ®µ</h3><p>é€šç”¨é¦–éƒ¨å­—æ®µï¼ˆGeneral Header Fieldsï¼‰ï¼šè¯·æ±‚æŠ¥æ–‡å’Œå“åº”æŠ¥æ–‡ä¸¤æ–¹éƒ½ä¼šä½¿ç”¨çš„é¦–éƒ¨</p><p>å¸¸è§çš„è¯·æ±‚å¤´ï¼š</p><ul><li>Authorization: éªŒè¯ä¿¡æ¯</li><li>Acceptï¼š æµè§ˆå™¨èƒ½å¤Ÿæ¥æ”¶çš„å†…å®¹ç±»å‹ï¼Œå¦‚ text&#x2F;html</li><li>Accept-Encodingï¼š æµè§ˆå™¨èƒ½è§£ç çš„ç¼–ç ç±»å‹ï¼Œå¦‚gzip, deflate</li><li>Connection: æ˜¯å¦éœ€è¦æŒä¹…è¿æ¥ï¼ŒHTTP1.1é»˜è®¤å€¼ä¸ºkeep-alive</li><li>Cookie: ä¼šè¯è¿½è¸ª</li><li>Hostï¼šè¯·æ±‚èµ„æºæ‰€åœ¨æœåŠ¡å™¨ </li><li>User-Agent: ç”¨æˆ·ä»£ç†ä¿¡æ¯</li><li>Content-Type: GETè¯·æ±‚æ— è¯¥å­—æ®µï¼ŒPOSTè¯·æ±‚å¸¸è§å€¼æœ‰ï¼šapplication&#x2F;x-www-form-urlencoded, multipart&#x2F;form-data</li><li>If-Matchï¼šæ¯”è¾ƒå®ä½“æ ‡è®°ï¼ˆETageï¼‰</li><li>If-Modified-Sinceï¼šæ¯”è¾ƒèµ„æºæ›´æ–°æ—¶é—´ï¼ˆLast-Modifiedï¼‰</li></ul><p>å¸¸è§çš„å“åº”å¤´ï¼š</p><ul><li>Last-Modifiedï¼š èµ„æºåœ¨æœåŠ¡å™¨çš„æœ€åä¿®æ”¹æ—¶é—´</li><li>ETagï¼šèƒ½å¤Ÿè¡¨ç¤ºèµ„æºå”¯ä¸€èµ„æºçš„å­—ç¬¦ä¸²</li><li>Expiresï¼š ç›¸åº”è¿‡æœŸçš„æ—¶é—´</li><li>Set-Cookie: è®¾ç½®Cookie</li><li>Content-Encoding: æ–‡æ¡£çš„ç¼–ç æ–¹æ³•</li><li>Content-Length: å†…å®¹çš„é•¿åº¦</li><li>Content-Type: æ–‡æ¡£çš„MIMEç±»å‹</li></ul><h3 id="HTTPè¯·æ±‚æ–¹æ³•"><a href="#HTTPè¯·æ±‚æ–¹æ³•" class="headerlink" title="HTTPè¯·æ±‚æ–¹æ³•"></a>HTTPè¯·æ±‚æ–¹æ³•</h3><h4 id="HTTPè¯·æ±‚æ–¹æ³•åŠä½œç”¨"><a href="#HTTPè¯·æ±‚æ–¹æ³•åŠä½œç”¨" class="headerlink" title="HTTPè¯·æ±‚æ–¹æ³•åŠä½œç”¨"></a>HTTPè¯·æ±‚æ–¹æ³•åŠä½œç”¨</h4><p>HTTP1.0 å®šä¹‰äº†ä¸‰ç§è¯·æ±‚æ–¹æ³•ï¼šGET, POST å’Œ HEAD æ–¹æ³•ã€‚<br>HTTP1.1 æ–°å¢äº†å…­ç§è¯·æ±‚æ–¹æ³•ï¼šOPTIONSã€PUTã€PATCHã€DELETEã€TRACE å’Œ CONNECT æ–¹æ³•ã€‚</p><table><thead><tr><th>HTTP Methods</th><th>æè¿°</th><th>å®‰å…¨æ€§</th><th>å¹‚ç­‰æ€§</th></tr></thead><tbody><tr><td>GET</td><td>ä»…ç”¨ä½œæ•°æ®çš„è¯»å–</td><td>âˆš</td><td>âˆš</td></tr><tr><td>HEAD</td><td>åªè¯·æ±‚é¡µé¢çš„é¦–éƒ¨,ä¸è¯·æ±‚é¡µé¢å†…å®¹,ç”¨äºæ£€æŸ¥æºæœ‰æ•ˆæ€§</td><td>âˆš</td><td>âˆš</td></tr><tr><td>POST</td><td>åˆ›å»ºæ–°èµ„æºæˆ–ä¿®æ”¹ç°æœ‰èµ„æº</td><td>x</td><td>x</td></tr><tr><td>PUT</td><td>ä»å®¢æˆ·ç«¯å‘æœåŠ¡å™¨ä¼ é€çš„æ•°æ®å–ä»£æŒ‡å®šçš„æ–‡æ¡£çš„å†…å®¹</td><td>x</td><td>âˆš</td></tr><tr><td>PATCH</td><td>æ˜¯å¯¹ PUT æ–¹æ³•çš„è¡¥å……ï¼Œç”¨æ¥å¯¹å·²çŸ¥èµ„æºè¿›è¡Œå±€éƒ¨æ›´æ–°</td><td>x</td><td>x</td></tr><tr><td>DELETE</td><td>åˆ é™¤æŒ‡å®šçš„èµ„æº</td><td>x</td><td>âˆš</td></tr><tr><td>OPTIONS</td><td>è·å–æŒ‡å®šæœåŠ¡èƒ½å¤Ÿæ”¯æŒçš„é€šä¿¡é€‰é¡¹</td><td>âˆš</td><td>âˆš</td></tr><tr><td>CONNECT</td><td>HTTP&#x2F;1.1 åè®®ä¸­é¢„ç•™ç»™èƒ½å¤Ÿå°†è¿æ¥æ”¹ä¸ºç®¡é“æ–¹å¼çš„ä»£ç†æœåŠ¡å™¨</td><td>x</td><td>x</td></tr><tr><td>TRACE</td><td>å›æ˜¾æœåŠ¡å™¨æ”¶åˆ°çš„è¯·æ±‚ï¼Œä¸»è¦ç”¨äºæµ‹è¯•æˆ–è¯Šæ–­</td><td>âˆš</td><td>âˆš</td></tr></tbody></table><p>å®‰å…¨æ€§ï¼šæŒ‡è¯¥æ–¹æ³•å¤šæ¬¡è°ƒç”¨ä¸ä¼šäº§ç”Ÿå‰¯ä½œç”¨ï¼Œå³ä¸æ”¹å˜èµ„æºçŠ¶æ€ã€‚</p><ul><li>å®‰å…¨çš„æ–¹æ³•ï¼šGETï¼ŒHEADï¼ŒOPTIONSå’ŒTRACE</li></ul><p>å¹‚ç­‰æ€§ï¼šè¯¥æ–¹æ³•å¤šæ¬¡è°ƒç”¨è¿”å›çš„ç»“æœä¸€è‡´ã€‚</p><ul><li>å¹‚ç­‰çš„æ–¹æ³•ï¼šGETï¼ŒHEADï¼ŒOPTIONSï¼ŒTRACEï¼ŒPUTå’ŒDELETEã€‚</li><li>æ‰€æœ‰å®‰å…¨çš„HTTPæ–¹æ³•éƒ½æ˜¯å¹‚ç­‰çš„ï¼Œä½†PUTå’ŒDELETEæ˜¯å¹‚ç­‰çš„ï¼Œä½†å¹¶ä¸å®‰å…¨ã€‚</li></ul><p>æœ‰ç–‘é—®å¯ä»¥çœ‹çœ‹è¿™ç¯‡æ–‡ç« ï¼š<a href="https://www.jianshu.com/p/bee85cf4e33a">POST,PUTå’ŒPATCHçš„åŒºåˆ«</a></p><h3 id="HTTPçŠ¶æ€ç "><a href="#HTTPçŠ¶æ€ç " class="headerlink" title="HTTPçŠ¶æ€ç "></a>HTTPçŠ¶æ€ç </h3><table><thead><tr><th>åˆ†ç±»</th><th>åˆ†ç±»æè¿°</th></tr></thead><tbody><tr><td>1xx</td><td>ä¿¡æ¯æ€§ï¼ŒæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚ï¼Œéœ€è¦è¯·æ±‚è€…ç»§ç»­æ‰§è¡Œæ“ä½œ</td></tr><tr><td>2xx</td><td>æˆåŠŸï¼Œæ“ä½œè¢«æˆåŠŸæ¥æ”¶å¹¶å¤„ç†</td></tr><tr><td>3xx</td><td>é‡å®šå‘ï¼Œéœ€è¦è¿›ä¸€æ­¥çš„æ“ä½œä»¥å®Œæˆè¯·æ±‚</td></tr><tr><td>4xx</td><td>å®¢æˆ·ç«¯é”™è¯¯ï¼Œè¯·æ±‚åŒ…å«è¯­æ³•é”™è¯¯æˆ–æ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td>5xx</td><td>æœåŠ¡å™¨é”™è¯¯ï¼ŒæœåŠ¡å™¨åœ¨å¤„ç†è¯·æ±‚çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯</td></tr></tbody></table><p>å¸¸è§çš„HTTPçŠ¶æ€ç åˆ—è¡¨:</p><table><thead><tr><th>çŠ¶æ€ç </th><th>çŠ¶æ€ç è‹±æ–‡åç§°</th><th>æè¿°</th></tr></thead><tbody><tr><td>100</td><td>Continue</td><td>ç»§ç»­ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­å…¶è¯·æ±‚</td></tr><tr><td>200</td><td>OK</td><td>è¯·æ±‚æˆåŠŸã€‚ä¸€èˆ¬ç”¨äºGETä¸POSTè¯·æ±‚</td></tr><tr><td>204</td><td>No Content</td><td>æ— å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†ï¼Œä½†æœªè¿”å›å†…å®¹ã€‚åœ¨æœªæ›´æ–°ç½‘é¡µçš„æƒ…å†µä¸‹ï¼Œå¯ç¡®ä¿æµè§ˆå™¨ç»§ç»­æ˜¾ç¤ºå½“å‰æ–‡æ¡£</td></tr><tr><td>206</td><td>Partial Content</td><td>éƒ¨åˆ†å†…å®¹ã€‚æœåŠ¡å™¨æˆåŠŸå¤„ç†äº†éƒ¨åˆ†GETè¯·æ±‚</td></tr><tr><td>301</td><td>Moved Permanently</td><td>æ°¸ä¹…ç§»åŠ¨ã€‚è¯·æ±‚çš„èµ„æºå·²è¢«æ°¸ä¹…çš„ç§»åŠ¨åˆ°æ–°URIï¼Œè¿”å›ä¿¡æ¯ä¼šåŒ…æ‹¬æ–°çš„URIï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨å®šå‘åˆ°æ–°URIã€‚ä»Šåä»»ä½•æ–°çš„è¯·æ±‚éƒ½åº”ä½¿ç”¨æ–°çš„URIä»£æ›¿</td></tr><tr><td>302</td><td>Found</td><td>ä¸´æ—¶ç§»åŠ¨ã€‚ä¸301ç±»ä¼¼ã€‚ä½†èµ„æºåªæ˜¯ä¸´æ—¶è¢«ç§»åŠ¨ã€‚å®¢æˆ·ç«¯åº”ç»§ç»­ä½¿ç”¨åŸæœ‰URI</td></tr><tr><td>304</td><td>Not Modified</td><td>åå•†ç¼“å­˜ç”Ÿæ•ˆã€‚æ‰€è¯·æ±‚çš„èµ„æºæœªä¿®æ”¹ï¼ŒæœåŠ¡å™¨è¿”å›æ­¤çŠ¶æ€ç æ—¶ï¼Œä¸ä¼šè¿”å›ä»»ä½•èµ„æºã€‚</td></tr><tr><td>400</td><td>Bad Request</td><td>å®¢æˆ·ç«¯è¯·æ±‚çš„è¯­æ³•é”™è¯¯ï¼ŒæœåŠ¡å™¨æ— æ³•ç†è§£</td></tr><tr><td>401</td><td>Unauthorized</td><td>è¯·æ±‚è¦æ±‚ç”¨æˆ·çš„èº«ä»½è®¤è¯</td></tr><tr><td>403</td><td>Forbidden</td><td>æœåŠ¡å™¨ç†è§£è¯·æ±‚å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œä½†æ˜¯æ‹’ç»æ‰§è¡Œæ­¤è¯·æ±‚</td></tr><tr><td>404</td><td>Not Found</td><td>æœåŠ¡å™¨æ— æ³•æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚æ‰¾åˆ°èµ„æºï¼ˆç½‘é¡µï¼‰</td></tr><tr><td>500</td><td>Internal Server Error</td><td>æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ï¼Œæ— æ³•å®Œæˆè¯·æ±‚</td></tr><tr><td>502</td><td>Bad Gateway</td><td>ä½œä¸ºç½‘å…³æˆ–è€…ä»£ç†å·¥ä½œçš„æœåŠ¡å™¨å°è¯•æ‰§è¡Œè¯·æ±‚æ—¶ï¼Œä»è¿œç¨‹æœåŠ¡å™¨æ¥æ”¶åˆ°äº†ä¸€ä¸ªæ— æ•ˆçš„å“åº”</td></tr><tr><td>503</td><td>Service Unavailable</td><td>ç”±äºè¶…è½½æˆ–ç³»ç»Ÿç»´æŠ¤ï¼ŒæœåŠ¡å™¨æš‚æ—¶çš„æ— æ³•å¤„ç†å®¢æˆ·ç«¯çš„è¯·æ±‚ã€‚å»¶æ—¶çš„é•¿åº¦å¯åŒ…å«åœ¨æœåŠ¡å™¨çš„Retry-Afterå¤´ä¿¡æ¯ä¸­</td></tr><tr><td>504</td><td>Gateway Time-out</td><td>å……å½“ç½‘å…³æˆ–ä»£ç†çš„æœåŠ¡å™¨ï¼ŒæœªåŠæ—¶ä»è¿œç«¯æœåŠ¡å™¨è·å–è¯·æ±‚</td></tr></tbody></table><h2 id="HTTP-x2F-2-x2F-3"><a href="#HTTP-x2F-2-x2F-3" class="headerlink" title="HTTP&#x2F;2&#x2F;3"></a>HTTP&#x2F;2&#x2F;3</h2><p><img src="/img/front-end-interview-preparation/web-http2.png" alt="HTTP/2.0"></p><h3 id="HTTP-x2F-1-0çš„ç—›ç‚¹"><a href="#HTTP-x2F-1-0çš„ç—›ç‚¹" class="headerlink" title="HTTP&#x2F;1.0çš„ç—›ç‚¹"></a>HTTP&#x2F;1.0çš„ç—›ç‚¹</h3><ol><li>çŸ­è¿æ¥ï¼šTCPæ¶ˆè€—å¤§</li><li>é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼šæ¯ä¸ªTCPåŒæ—¶åªèƒ½å¤„ç†ä¸€ä¸ªHTTPè¯·æ±‚ï¼Œæµè§ˆå™¨éµå¾ªFIFOåŸåˆ™ï¼Œå¦‚æœä¸Šä¸€ä¸ªæ²¡è¿”å›åç»­è¯·æ±‚ä¼šè¢«é˜»å¡ã€‚</li></ol><h3 id="HTTP-x2F-1-1çš„ä¼˜åŒ–"><a href="#HTTP-x2F-1-1çš„ä¼˜åŒ–" class="headerlink" title="HTTP&#x2F;1.1çš„ä¼˜åŒ–"></a>HTTP&#x2F;1.1çš„ä¼˜åŒ–</h3><ol><li>å®ç°é•¿è¿æ¥ï¼šå‡å°‘TCPè¿æ¥æ¶ˆè€—ï¼š<ul><li>è¯·æ±‚å¤´é…ç½®ï¼š<code>Connection:keep-alive = true</code>ã€‚åªè¦tcpè¿æ¥ä¸æ–­å¼€ï¼ˆé»˜è®¤2å°æ—¶ï¼‰ï¼Œä¸€ç›´å¯ä»¥è¿›è¡Œhttpè¯·æ±‚ï¼Œä½†æ˜¯ä¸€ä¸ªtcpè¿æ¥åŒä¸€æ—¶é—´åªæ”¯æŒä¸€ä¸ªhttpè¯·æ±‚</li></ul></li><li>çº¿ç®¡åŒ–ï¼šå…è®¸å¤šä¸ªHTTPè¯·æ±‚æ‰¹é‡åœ°æäº¤ç»™æœåŠ¡å™¨<ul><li>è¿™æ ·åšä¸èƒ½ä»æ ¹æœ¬ä¸Šè§£å†³é˜Ÿå¤´é˜»å¡é—®é¢˜ï¼ˆè™½ç„¶å‘é€è¯·æ±‚å¯ä»¥å¹¶è¡Œäº†ï¼Œä½†å“åº”è¿˜æ˜¯ä¸²è¡Œï¼‰</li></ul></li></ol><h3 id="HTTP-x2F-2-0çš„ä¼˜åŒ–"><a href="#HTTP-x2F-2-0çš„ä¼˜åŒ–" class="headerlink" title="HTTP&#x2F;2.0çš„ä¼˜åŒ–"></a>HTTP&#x2F;2.0çš„ä¼˜åŒ–</h3><ol><li>å¤šè·¯å¤ç”¨ï¼šä¸€ä¸ªtcpå¯ä»¥å¹¶å‘å¤šä¸ªhttpè¯·æ±‚<ul><li>ç†è®ºæ— ä¸Šé™ï¼Œä½†æ˜¯ä¸€èˆ¬æµè§ˆå™¨ä¼šæœ‰tcpå¹¶å‘æ•°çš„é™åˆ¶ï¼Œchromeä¸º6ä¸ªã€‚</li></ul></li><li>äºŒè¿›åˆ¶åˆ†å¸§ï¼šåœ¨åº”ç”¨å±‚(HTTP)å’Œä¼ è¾“å±‚(TCP)ä¹‹é—´å¢åŠ ä¸€ä¸ªäºŒè¿›åˆ¶åˆ†å¸§å±‚ï¼Œä»è€Œæ”¹è¿›ä¼ è¾“æ€§èƒ½ã€‚<ul><li>HTTP 1.1åœ¨åº”ç”¨å±‚ä»¥çº¯æ–‡æœ¬çš„å½¢å¼è¿›è¡Œé€šä¿¡ï¼›è€ŒHTTP 2.0å°†æ‰€æœ‰çš„ä¼ è¾“ä¿¡æ¯åˆ†å‰²ä¸ºæ›´å°çš„æ¶ˆæ¯å’Œå¸§ï¼Œå¹¶å¯¹å®ƒä»¬é‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ç¼–ç ã€‚</li><li>åœ¨äºŒè¿›åˆ¶åˆ†å¸§å±‚ä¸Šï¼ŒHTTP 1.1çš„é¦–éƒ¨ä¿¡æ¯ä¼šè¢«å°è£…åˆ°Headerså¸§ï¼Œè€ŒRequest Bodyåˆ™å°è£…åˆ°Dataå¸§ã€‚</li></ul></li><li>å¤´éƒ¨å‹ç¼©<ul><li>åŸå› ï¼šè¯·æ±‚å¤´å­—æ®µå¾ˆå¤šéƒ½æ˜¯é‡å¤çš„ï¼Œæ¯”å¦‚Cookieï¼Œä¼šæµªè´¹å¾ˆå¤šå¸¦å®½ã€‚æ‰€ä»¥ï¼Œå¯¹äºç›¸åŒçš„å¤´éƒ¨ï¼Œåªéœ€å‘é€ä¸€æ¬¡å³å¯ã€‚</li><li>å‹ç¼©æœºåˆ¶ï¼š<ul><li>å®¢æˆ·ç«¯é€šè¿‡ gzip å’Œ compress å‹ç¼©å¤´éƒ¨ç„¶åå†å‘é€è¯·æ±‚ã€‚</li><li>å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨åŒæ—¶ç»´æŠ¤ä¸€å¼ å¤´ä¿¡æ¯è¡¨ï¼Œæ‰€æœ‰å­—æ®µéƒ½ä¼šå­˜å…¥è¿™ä¸ªè¡¨ï¼Œäº§ç”Ÿä¸€ä¸ªç´¢å¼•å·ï¼Œä¹‹åå°±ä¸å‘é€åŒæ ·å­—æ®µäº†ï¼Œåªéœ€å‘é€ç´¢å¼•å·ã€‚</li></ul></li></ul></li><li>æ”¯æŒæœåŠ¡ç«¯æ¨é€<ul><li>å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚ï¼ŒæœåŠ¡å™¨æ ¹æ®å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼Œæå‰è¿”å›å¤šä¸ªå“åº”ï¼Œè¿™æ ·å®¢æˆ·ç«¯å°±ä¸ç”¨å‘èµ·åç»­è¯·æ±‚ã€‚</li><li>ä¾‹å­ï¼šå¦‚æœä¸€ä¸ªè¯·æ±‚æ˜¯ç”±ä¸»é¡µå‘é€çš„ï¼ŒæœåŠ¡å™¨å¯èƒ½ä¼šå“åº”ä¸»é¡µå†…å®¹ã€logoä»¥åŠæ ·å¼è¡¨ï¼Œå› ä¸ºå®ƒçŸ¥é“å®¢æˆ·ç«¯ä¼šç”¨åˆ°è¿™äº›ã€‚</li></ul></li></ol><h3 id="HTTP-x2F-3-0"><a href="#HTTP-x2F-3-0" class="headerlink" title="HTTP&#x2F;3.0"></a>HTTP&#x2F;3.0</h3><ul><li>æ›´å¿«çš„è¿æ¥å»ºç«‹ï¼šHTTP&#x2F;3 çš„ä¸€ä¸ªé‡è¦åŒºåˆ«æ˜¯å®ƒåœ¨ä¸€ç§æ–°çš„ä¼ è¾“åè®® QUIC ä¸Šè¿è¡Œã€‚QUIC ä¸“ä¸ºç§»åŠ¨å¯†é›†å‹äº’è”ç½‘ä½¿ç”¨è€Œè®¾è®¡ï¼Œåœ¨è¿™ç§ç¯å¢ƒä¸­ï¼Œäººä»¬æºå¸¦çš„æ™ºèƒ½æ‰‹æœºä¼šåœ¨ä¸€å¤©ä¸­ä¸æ–­åœ°ä»ä¸€ä¸ªç½‘ç»œåˆ‡æ¢åˆ°å¦ä¸€ä¸ªç½‘ç»œã€‚QUIC çš„ä½¿ç”¨æ„å‘³ç€ HTTP&#x2F;3 ä¾èµ–äºUDPåè®®ï¼Œè€Œä¸æ˜¯TCPåè®®ã€‚åˆ‡æ¢åˆ° UDP å°†ä½¿åœ¨çº¿æµè§ˆæ—¶çš„è¿æ¥é€Ÿåº¦å’Œç”¨æˆ·ä½“éªŒæ›´å¿«ã€‚</li><li>é›¶å¾€è¿”æ—¶é—´ (0-RTT)ï¼šå¯¹äºå®ƒä»¬å·²ç»è¿æ¥çš„æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å¯ä»¥è·³è¿‡æ¡æ‰‹è¦æ±‚ï¼ˆäº’ç›¸ç¡®è®¤å’ŒéªŒè¯ä»¥ç¡®å®šå®ƒä»¬å°†å¦‚ä½•é€šä¿¡çš„è¿‡ç¨‹ï¼‰</li><li>æ›´å…¨é¢çš„åŠ å¯†ï¼šQUIC é»˜è®¤åœ¨ä¼ è¾“å±‚è®¾ç½®åŠ å¯†è¿æ¥â€”â€”åº”ç”¨ç¨‹åºå±‚æ•°æ®å°†å§‹ç»ˆè¢«åŠ å¯†ã€‚</li></ul><h2 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h2><p><img src="/img/front-end-interview-preparation/web-https.png" alt="HTTPS"></p><h3 id="HTTPçš„ç¼ºç‚¹"><a href="#HTTPçš„ç¼ºç‚¹" class="headerlink" title="HTTPçš„ç¼ºç‚¹"></a>HTTPçš„ç¼ºç‚¹</h3><table><thead><tr><th>HTTPçš„ç¼ºç‚¹</th><th>HTTPSçš„æ”¹è¿›</th></tr></thead><tbody><tr><td>é€šä¿¡ä½¿ç”¨æ˜æ–‡ï¼Œå¯èƒ½ä¼šè¢«çªƒå¬</td><td>åŠ å¯†</td></tr><tr><td>ä¸éªŒè¯é€šä¿¡æ–¹çš„èº«ä»½ï¼Œå¯èƒ½é­é‡ä¼ªè£…</td><td>è®¤è¯</td></tr><tr><td>æ— æ³•è¯æ˜æŠ¥æ–‡å®Œæ•´æ€§ï¼Œå¯èƒ½å·²é­ç¯¡æ”¹</td><td>å®Œæ•´æ€§ä¿æŠ¤</td></tr></tbody></table><h3 id="HTTPSçš„æ”¹è¿›"><a href="#HTTPSçš„æ”¹è¿›" class="headerlink" title="HTTPSçš„æ”¹è¿›"></a>HTTPSçš„æ”¹è¿›</h3><p>HTTPS &#x3D; HTTP + åŠ å¯† + è®¤è¯ + å®Œæ•´æ€§ä¿æŠ¤ã€‚</p><p>HTTPS ä¸æ˜¯åº”ç”¨å±‚çš„æ–°åè®®ï¼Œè€Œæ˜¯ HTTP é€šä¿¡æ¥å£éƒ¨åˆ†ç”¨ SSL å’Œ TLS åè®®æ›¿æ¢äº†ã€‚HTTPSå…ˆå’ŒSSLé€šä¿¡ï¼Œå†ç”±SSLå’ŒTCPé€šä¿¡ã€‚</p><blockquote><p>TLS å’Œ SSL çš„åŒºåˆ«ï¼š<br>TLS æ˜¯ä¼ è¾“å±‚å®‰å…¨çš„ç¼©å†™ï¼ŒSSL æ˜¯å®‰å…¨å¥—æ¥å­—å±‚çš„ç¼©å†™ï¼Œéƒ½æ˜¯éªŒè¯è¿æ¥çš„åŠ å¯†åè®®<br>TLS å®é™…ä¸Šåªæ˜¯ SSL çš„æ›´æ–°ç‰ˆæœ¬ï¼Œå®ƒä¿®å¤äº†æ—©æœŸ SSL åè®®ä¸­çš„ä¸€äº›å®‰å…¨æ¼æ´ã€‚</p></blockquote><h3 id="éå¯¹ç§°å¯†é’¥åŠ å¯†æŠ€æœ¯"><a href="#éå¯¹ç§°å¯†é’¥åŠ å¯†æŠ€æœ¯" class="headerlink" title="éå¯¹ç§°å¯†é’¥åŠ å¯†æŠ€æœ¯"></a>éå¯¹ç§°å¯†é’¥åŠ å¯†æŠ€æœ¯</h3><table><thead><tr><th>åŒºåˆ«</th><th>å¯¹ç§°å¯†é’¥åŠ å¯†</th><th>éå¯¹ç§°å¯†é’¥åŠ å¯†</th></tr></thead><tbody><tr><td>ç®—æ³•</td><td>åŠ å¯†è§£å¯†ä½¿ç”¨ç›¸åŒçš„å¯†é’¥</td><td>åŠ å¯†è§£å¯†ä½¿ç”¨ä¸€å¯¹éå¯¹ç§°çš„å¯†é’¥ï¼šç§æœ‰å¯†é’¥ + å…¬å¼€å¯†é’¥ã€‚<br/> 1. å…¬å¼€å¯†é’¥åŠ å¯†ï¼Œç§æœ‰å¯†é’¥è§£å¯†ã€‚<br/> 2. ç§æœ‰å¯†é’¥ç­¾åï¼Œå…¬å¼€å¯†é’¥éªŒç­¾ã€‚</td></tr><tr><td>ä¼˜åŠ¿</td><td>ç®—æ³•æ›´ç®€å•ï¼Œè¿è¡Œæ•ˆç‡é«˜</td><td>å®‰å…¨æ€§é«˜ï¼Œä¸å¿…æ‹…å¿ƒç§æœ‰å¯†é’¥è¢«çªƒå¬ï¼Œå†…å®¹è¢«è§£å¯†</td></tr></tbody></table><h3 id="HTTPSé‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶"><a href="#HTTPSé‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶" class="headerlink" title="HTTPSé‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶"></a>HTTPSé‡‡ç”¨æ··åˆåŠ å¯†æœºåˆ¶</h3><p>HTTPSå……åˆ†åˆ©ç”¨ä¸¤ç§æŠ€æœ¯çš„ä¼˜åŠ¿ï¼Œç»„åˆèµ·æ¥ç”¨äºé€šä¿¡ï¼š</p><ol><li>å®¢æˆ·ç«¯è·å–å…¬é’¥<ul><li>æœåŠ¡ç«¯ç”Ÿæˆå…¬ç§é’¥å¯¹ï¼Œå¹¶æŠŠå…¬é’¥å®‰å…¨åœ°ä¼ è¾“ç»™å®¢æˆ·ç«¯</li></ul></li><li>åœ¨äº¤æ¢å¯†é’¥é˜¶æ®µï¼šéå¯¹ç§°åŠ å¯†<ul><li>å®¢æˆ·ç«¯ç”¨å…¬é’¥åŠ å¯† Keyï¼ŒæœåŠ¡ç«¯ç”¨ç§é’¥è§£å¯†ã€‚</li><li>ç›®çš„ï¼šå®‰å…¨åœ°äº¤æ¢ç¨åè¦ç”¨åˆ°çš„å¯†é’¥ Keyã€‚</li></ul></li><li>å»ºç«‹é€šä¿¡äº¤æ¢æŠ¥æ–‡é˜¶æ®µï¼šå¯¹ç§°åŠ å¯†<ul><li>ç¡®ä¿äº¤æ¢çš„å¯†é’¥ Key æ˜¯å®‰å…¨çš„åï¼Œä½¿ç”¨å¯¹ç§°åŠ å¯†æ–¹å¼é€šä¿¡ã€‚</li></ul></li></ol><p><img src="/img/front-end-interview-preparation/web-key.png" alt="æ··åˆåŠ å¯†çš„æœºåˆ¶"></p><p>ä½†æ˜¯ç¬¬ä¸€é˜¶æ®µä»æœ‰é—®é¢˜ï¼Œé‚£å°±æ˜¯æ— æ³•è¯æ˜å®¢æˆ·ç«¯è·å¾—çš„å…¬é’¥ç¡®å®æ˜¯æœåŠ¡å™¨å‘è¡Œçš„å…¬é’¥ã€‚æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼ˆCAï¼‰çš„å‡ºç°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="æ•°å­—è¯ä¹¦è®¤è¯æœºæ„"><a href="#æ•°å­—è¯ä¹¦è®¤è¯æœºæ„" class="headerlink" title="æ•°å­—è¯ä¹¦è®¤è¯æœºæ„"></a>æ•°å­—è¯ä¹¦è®¤è¯æœºæ„</h3><p>æ•°å­—è¯ä¹¦è®¤è¯æœºæ„ï¼ˆCAï¼ŒCertificate Authorityï¼‰æ˜¯å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯åŒæ–¹éƒ½ä¿¡èµ–çš„ç¬¬ä¸‰æ–¹æœºæ„ã€‚</p><p>ä¸šåŠ¡æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>æœåŠ¡ç«¯å°†è‡ªå·±çš„å…¬é’¥ä¼ ç»™CA</li><li>CAç”¨è‡ªå·±çš„ç§é’¥å¯¹æœåŠ¡å™¨å…¬é’¥ç­¾åï¼Œå¹¶é¢å‘å…¬é’¥è¯ä¹¦ï¼ˆæœåŠ¡å™¨å…¬é’¥ + CAçš„æ•°å­—ç­¾åï¼‰</li><li>å®¢æˆ·ç«¯æ‹¿åˆ°å…¬é’¥è¯ä¹¦ï¼Œä½¿ç”¨<em>CAçš„å…¬é’¥</em>å¯¹ç­¾åéªŒç­¾ï¼Œç¡®è®¤æœåŠ¡å™¨å…¬é’¥çš„çœŸå®æ€§</li></ol><p>é‚£ä¹ˆå¦‚ä½•æ‹¿åˆ°CAçš„å…¬é’¥å‘¢ï¼Ÿ</p><ul><li>å¤šæ•°æµè§ˆå™¨å†…ç½®å¸¸ç”¨è®¤è¯æœºæ„çš„å…¬é’¥ã€‚</li></ul><h3 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h3><p>åº”ç”¨å±‚å‘é€æ•°æ®æ—¶ä¼šé™„åŠ ä¸€ç§å«åšMACçš„æŠ¥æ–‡æ‘˜è¦ã€‚MACèƒ½å¤ŸæŸ¥çŸ¥æŠ¥æ–‡æ˜¯å¦å·²ç»é­åˆ°ç¯¡æ”¹ï¼Œä»è€Œä¿æŠ¤æŠ¥æ–‡çš„å®Œæ•´æ€§ã€‚</p><h2 id="å‰ç«¯è¯·æ±‚æ–¹å¼"><a href="#å‰ç«¯è¯·æ±‚æ–¹å¼" class="headerlink" title="å‰ç«¯è¯·æ±‚æ–¹å¼"></a>å‰ç«¯è¯·æ±‚æ–¹å¼</h2><p><img src="/img/front-end-interview-preparation/web-ajax.png" alt="æ··åˆåŠ å¯†çš„æœºåˆ¶"></p><h3 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h3><p>Ajaxï¼ˆAsynchronous JavaScript And XMLï¼Œå³å¼‚æ­¥JavaScriptå’ŒXMLï¼‰ï¼Œè¿™ä¸€æŠ€æœ¯èƒ½å¤Ÿå‘æœåŠ¡å™¨è¯·æ±‚é¢å¤–çš„æ•°æ®è€Œæ— é¡»å¸è½½é¡µé¢ï¼Œä¼šå¸¦æ¥æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚Ajax æœ‰ä¸¤ç§åŸç”Ÿçš„å®ç°è§„èŒƒï¼š</p><ol><li>XMLHttpRequestï¼ˆXHRï¼‰ï¼šç°ä»£æµè§ˆå™¨ï¼Œæœ€å¼€å§‹ä¸æœåŠ¡å™¨äº¤æ¢æ•°æ®ï¼Œéƒ½æ˜¯é€šè¿‡ XMLHttpRequest å¯¹è±¡ã€‚</li><li>fetchï¼šES6åå‡ºç°ï¼ŒåŸºäº promise è®¾è®¡ã€‚</li></ol><p>ç‹­ä¹‰ä¸Šçš„Ajaxä¸“æŒ‡åŸºäºåŸç”Ÿçš„XHRçš„å®ç°æ–¹å¼ã€‚</p><h3 id="XHR"><a href="#XHR" class="headerlink" title="XHR"></a>XHR</h3><p>ç¼ºç‚¹ï¼š</p><ul><li>ä½¿ç”¨èµ·æ¥ä¹Ÿæ¯”è¾ƒç¹çï¼Œéœ€è¦è®¾ç½®å¾ˆå¤šå€¼</li><li>æ—©æœŸçš„IEæµè§ˆå™¨æœ‰è‡ªå·±çš„å®ç°ï¼Œè¿™æ ·éœ€è¦å†™å…¼å®¹ä»£ç </li></ul><h3 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h3><p>fetch APIæä¾›äº†ä¸€ä¸ª JavaScript æ¥å£ï¼Œç”¨äºè®¿é—®å’Œæ“ä½œHTTPç®¡é“çš„éƒ¨åˆ†ï¼Œä¾‹å¦‚è¯·æ±‚å’Œå“åº”ã€‚å®ƒè¿˜æä¾›äº†ä¸€ä¸ªå…¨å±€fetch()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æä¾›äº†ä¸€ç§ç®€å•ï¼Œåˆç†çš„æ–¹å¼æ¥è·¨ç½‘ç»œå¼‚æ­¥è·å–èµ„æºã€‚</p><p>ä¼˜åŠ¿ï¼šè·¨åŸŸçš„å¤„ç†ï¼Œåœ¨é…ç½®ä¸­æ·»åŠ <code>mode: &#39;no-cors&#39;</code>å°±å¯ä»¥è·¨åŸŸäº†</p><p>fetchç›®å‰é‡åˆ°çš„é—®é¢˜ï¼š</p><ul><li>fetchåªå¯¹ç½‘ç»œè¯·æ±‚æŠ¥é”™ï¼Œå¯¹400ï¼Œ500éƒ½å½“åšæˆåŠŸçš„è¯·æ±‚ï¼Œéœ€è¦å°è£…å»å¤„ç†</li><li>fetché»˜è®¤ä¸ä¼šå¸¦cookieï¼Œéœ€è¦æ·»åŠ é…ç½®é¡¹ã€‚</li><li>fetchä¸æ”¯æŒabortï¼Œä¸æ”¯æŒè¶…æ—¶æ§åˆ¶ï¼Œä½¿ç”¨setTimeoutåŠPromise.rejectçš„å®ç°è¶…æ—¶æ§åˆ¶å¹¶ä¸èƒ½é˜»æ­¢è¯·æ±‚è¿‡ç¨‹ç»§ç»­åœ¨åå°è¿è¡Œï¼Œé€ æˆäº†æµé‡çš„æµªè´¹ã€‚</li><li>fetchæ²¡æœ‰åŠæ³•åŸç”Ÿç›‘æµ‹è¯·æ±‚çš„è¿›åº¦ï¼Œè€ŒXHRå¯ä»¥ã€‚</li></ul><h3 id="Axios"><a href="#Axios" class="headerlink" title="Axios"></a>Axios</h3><p>Axiosæ˜¯ä¸€ä¸ªåŸºäºpromiseçš„HTTPåº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­ã€‚å®ƒæœ¬è´¨ä¹Ÿæ˜¯å¯¹åŸç”ŸXMLHttpRequestçš„å°è£…ï¼Œåªä¸è¿‡å®ƒæ˜¯Promiseçš„å®ç°ç‰ˆæœ¬ï¼Œç¬¦åˆæœ€æ–°çš„ESè§„èŒƒã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>ä»æµè§ˆå™¨ä¸­åˆ›å»ºXMLHttpRequests</li><li>ä» node.js åˆ›å»º http è¯·æ±‚</li><li>æ”¯æŒ Promise API</li><li>æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>è½¬æ¢è¯·æ±‚æ•°æ®å’Œå“åº”æ•°æ®</li><li>å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢ JSON æ•°æ®</li><li>å®¢æˆ·ç«¯æ”¯æŒé˜²å¾¡ CSRF</li></ul><p>ç¼ºç‚¹ï¼š</p><ul><li>åªæŒç°ä»£ä»£æµè§ˆå™¨</li></ul><h2 id="è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ"><a href="#è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ" class="headerlink" title="è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ"></a>è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ</h2><p><img src="/img/front-end-interview-preparation/web-cross-domain.png" alt="è·¨åŸŸåŠè§£å†³æ–¹æ¡ˆ"></p><h3 id="ä»€ä¹ˆæ˜¯è·¨åŸŸ"><a href="#ä»€ä¹ˆæ˜¯è·¨åŸŸ" class="headerlink" title="ä»€ä¹ˆæ˜¯è·¨åŸŸ"></a>ä»€ä¹ˆæ˜¯è·¨åŸŸ</h3><p>è·¨åŸŸæ˜¯æŒ‡ä¸€ä¸ªåŸŸä¸‹çš„æ–‡æ¡£æˆ–è„šæœ¬è¯•å›¾å»è¯·æ±‚å¦ä¸€ä¸ªåŸŸä¸‹çš„èµ„æºï¼Œæ˜¯å¹¿ä¹‰çš„ï¼Œé€šå¸¸åŒ…æ‹¬ï¼š</p><ol><li>èµ„æºè·³è½¬ï¼šAé“¾æ¥ã€é‡å®šå‘</li><li>èµ„æºåµŒå…¥ï¼š<code>&lt;script&gt;</code>,<code>&lt;frame&gt;</code>ã€<code>&lt;link&gt;</code>ã€<code>&lt;img&gt;</code>ç­‰domæ ‡ç­¾</li><li>è„šæœ¬è¯·æ±‚ï¼šjså‘èµ·çš„ajaxè¯·æ±‚ã€domå’Œjså¯¹è±¡çš„è·¨åŸŸæ“ä½œç­‰</li></ol><p>æˆ‘ä»¬é€šå¸¸æ‰€è¯´çš„è·¨åŸŸæ˜¯ç‹­ä¹‰çš„ï¼Œæ˜¯ç”±æµè§ˆå™¨åŒæºç­–ç•¥é™åˆ¶çš„ä¸€ç±»è¯·æ±‚åœºæ™¯ã€‚</p><h4 id="æµè§ˆå™¨åŒæºç­–ç•¥"><a href="#æµè§ˆå™¨åŒæºç­–ç•¥" class="headerlink" title="æµè§ˆå™¨åŒæºç­–ç•¥"></a>æµè§ˆå™¨åŒæºç­–ç•¥</h4><p>åŒæºç­–ç•¥&#x2F;SOPï¼ˆSame origin policyï¼‰æ˜¯ä¸€ç§çº¦å®šï¼Œç”±Netscapeå…¬å¸1995å¹´å¼•å…¥æµè§ˆå™¨ï¼Œå®ƒæ˜¯æµè§ˆå™¨æœ€æ ¸å¿ƒä¹Ÿæœ€åŸºæœ¬çš„å®‰å…¨åŠŸèƒ½ï¼Œå¦‚æœç¼ºå°‘äº†åŒæºç­–ç•¥ï¼Œæµè§ˆå™¨å¾ˆå®¹æ˜“å—åˆ°XSSã€CSFRç­‰æ”»å‡»ã€‚æ‰€è°“åŒæºæ˜¯æŒ‡â€åè®®+åŸŸå+ç«¯å£â€ä¸‰è€…ç›¸åŒï¼Œå³ä¾¿ä¸¤ä¸ªä¸åŒçš„åŸŸåæŒ‡å‘åŒä¸€ä¸ªipåœ°å€ï¼Œä¹ŸéåŒæºã€‚</p><p>åŒæºç­–ç•¥é™åˆ¶ä»¥ä¸‹å‡ ç§è¡Œä¸ºï¼š</p><ol><li>Cookieã€LocalStorage å’Œ IndexDB æ— æ³•è¯»å–</li><li>DOM å’Œ Js å¯¹è±¡æ— æ³•è·å¾—</li><li>AJAX è¯·æ±‚ä¸èƒ½å‘é€</li></ol><p>è¿™é‡Œæåˆ°çš„ Cookie ä½œç”¨åŸŸæœ‰ç‚¹ç‰¹æ®Šï¼Œè¯¦è§ä¸‹æ–‡ã€‚</p><h4 id="Cookieçš„ä½œç”¨åŸŸ"><a href="#Cookieçš„ä½œç”¨åŸŸ" class="headerlink" title="Cookieçš„ä½œç”¨åŸŸ"></a>Cookieçš„ä½œç”¨åŸŸ</h4><p>Cookieæœ‰ä¸¤ä¸ªå¾ˆé‡è¦çš„å±æ€§:Domainå’ŒPathï¼Œç”¨æ¥æŒ‡ç¤ºæ­¤Cookieçš„ä½œç”¨åŸŸï¼š</p><ul><li>Domainï¼šå½“å‰è¦æ·»åŠ çš„Cookieçš„åŸŸåå½’å±ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡æ˜åˆ™é»˜è®¤ä¸ºå½“å‰åŸŸå</li><li>Pathï¼šå½“å‰è¦æ·»åŠ çš„Cookieçš„è·¯å¾„å½’å±ï¼Œå¦‚æœæ²¡æœ‰æ˜ç¡®æŒ‡æ˜åˆ™é»˜è®¤ä¸ºå½“å‰è·¯å¾„</li></ul><p>æµè§ˆå™¨æäº¤çš„Cookieéœ€è¦æ»¡è¶³ä»¥ä¸‹ä¸¤ç‚¹ï¼š </p><ol><li>å½“å‰åŸŸåæˆ–è€…çˆ¶åŸŸåä¸‹çš„Cookieï¼›</li><li>å½“å‰è·¯å¾„æˆ–çˆ¶è·¯å¾„ä¸‹çš„Cookieã€‚</li></ol><p>æ³¨æ„ï¼šåœ¨æµè§ˆå™¨çœ‹æ¥. <a href="http://www.domain.comä¸æ˜¯test.domain.comçš„çˆ¶åŸŸå,è€Œdomain.comæ‰æ˜¯test.domain.comçš„çˆ¶åŸŸå/">www.domain.comä¸æ˜¯test.domain.comçš„çˆ¶åŸŸåï¼Œè€Œdomain.comæ‰æ˜¯test.domain.comçš„çˆ¶åŸŸå</a>.</p><h4 id="è·¨åŸŸè§£å†³æ–¹æ¡ˆ"><a href="#è·¨åŸŸè§£å†³æ–¹æ¡ˆ" class="headerlink" title="è·¨åŸŸè§£å†³æ–¹æ¡ˆ"></a>è·¨åŸŸè§£å†³æ–¹æ¡ˆ</h4><p>ä¸»è¦ä»‹ç»ä»¥ä¸‹å››ç§ï¼š</p><ol><li>è·¨åŸŸèµ„æºåˆ†äº«ï¼ˆCORSï¼‰</li><li>JSONP è·¨åŸŸ</li><li>Nginx ä»£ç†è·¨åŸŸ</li><li>postMessage è·¨åŸŸ</li></ol><h3 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h3><p>CORSæ˜¯ä¸€ä¸ªW3Cæ ‡å‡†ï¼Œå…¨ç§°æ˜¯â€è·¨åŸŸèµ„æºå…±äº«â€ï¼ˆCross-origin resource sharingï¼‰ã€‚ å®ƒå…è®¸æµè§ˆå™¨å‘è·¨æºæœåŠ¡å™¨ï¼Œå‘å‡ºXMLHttpRequestè¯·æ±‚ï¼Œä»è€Œå…‹æœäº†AJAXåªèƒ½åŒæºä½¿ç”¨çš„é™åˆ¶ã€‚ CORSéœ€è¦<strong>æµè§ˆå™¨å’ŒæœåŠ¡å™¨</strong>åŒæ—¶æ”¯æŒã€‚<br>æµè§ˆå™¨å°†CORSè·¨åŸŸè¯·æ±‚åˆ†ä¸ºç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚ã€‚</p><h4 id="ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„åŒºåˆ«"><a href="#ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„åŒºåˆ«" class="headerlink" title="ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„åŒºåˆ«"></a>ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„åŒºåˆ«</h4><p>ç®€å•è¯·æ±‚å’Œéç®€å•è¯·æ±‚çš„æ¦‚å¿µæ˜¯é’ˆå¯¹è·¨æºåŸŸèµ„æºå…±äº«è€Œè¨€çš„ã€‚è·¨æºåŸŸèµ„æºå…±äº«ï¼ˆCORSï¼‰æœºåˆ¶å…è®¸ Web åº”ç”¨æœåŠ¡å™¨è¿›è¡Œè·¨æºè®¿é—®æ§åˆ¶ï¼Œä»è€Œä½¿è·¨æºæ•°æ®ä¼ è¾“å¾—ä»¥å®‰å…¨è¿›è¡Œã€‚</p><p>å…¶ä¸­ï¼Œç®€å•è¯·æ±‚ä¸ä¼šè§¦å‘ CORS é¢„æ£€è¯·æ±‚,è€Œéç®€å•è¯·æ±‚ä¼šè§¦å‘é¢„æ£€è¯·æ±‚ï¼ˆå³è¯¥è¯·æ±‚å¿…é¡»é¦–å…ˆä½¿ç”¨ OPTIONS æ–¹æ³•å‘èµ·ä¸€ä¸ªé¢„æ£€è¯·æ±‚åˆ°æœåŠ¡å™¨ï¼Œä»¥è·çŸ¥æœåŠ¡å™¨æ˜¯å¦å…è®¸è¯¥å®é™…è¯·æ±‚ï¼‰ã€‚</p><p>è‹¥è¯·æ±‚æ»¡è¶³æ‰€æœ‰ä¸‹è¿°æ¡ä»¶ï¼Œåˆ™è¯¥è¯·æ±‚å¯è§†ä¸ºâ€œç®€å•è¯·æ±‚â€ï¼š</p><ul><li>è¯·æ±‚æ–¹æ³•ï¼šGETã€HEADã€POST</li><li>é™¤äº†è¢«ç”¨æˆ·ä»£ç†è‡ªåŠ¨è®¾ç½®çš„é¦–éƒ¨å­—æ®µï¼ˆä¾‹å¦‚ Connectionï¼ŒUser-Agentï¼‰å’Œåœ¨ Fetch è§„èŒƒä¸­å®šä¹‰ä¸ºç¦ç”¨é¦–éƒ¨åç§°çš„å…¶ä»–é¦–éƒ¨ï¼Œå…è®¸<strong>äººä¸ºè®¾ç½®</strong>çš„å­—æ®µä¸º Fetch è§„èŒƒå®šä¹‰çš„ å¯¹ CORS å®‰å…¨çš„é¦–éƒ¨å­—æ®µé›†åˆã€‚è¯¥é›†åˆä¸ºï¼š<ul><li>Accept</li><li>Accept-Language</li><li>Content-Language</li><li>Content-Typeï¼šåªé™äºä¸‰ä¸ªå€¼ï¼šapplication&#x2F;x-www-form-urlencodedã€multipart&#x2F;form-dataã€text&#x2F;plain</li></ul></li><li>è¯·æ±‚ä¸­çš„ä»»æ„ XMLHttpRequest å¯¹è±¡å‡æ²¡æœ‰æ³¨å†Œä»»ä½•äº‹ä»¶ç›‘å¬å™¨ï¼›XMLHttpRequest å¯¹è±¡å¯ä»¥ä½¿ç”¨ XMLHttpRequest.upload å±æ€§è®¿é—®ã€‚</li><li>è¯·æ±‚ä¸­æ²¡æœ‰ä½¿ç”¨ ReadableStream å¯¹è±¡ã€‚</li></ul><h4 id="ç®€å•è¯·æ±‚"><a href="#ç®€å•è¯·æ±‚" class="headerlink" title="ç®€å•è¯·æ±‚"></a>ç®€å•è¯·æ±‚</h4><p>å¯¹äºç®€å•è¯·æ±‚ï¼Œæµè§ˆå™¨ç›´æ¥å‘å‡ºCORSè¯·æ±‚ã€‚å…·ä½“æ¥è¯´ï¼Œå°±æ˜¯åœ¨å¤´ä¿¡æ¯ä¹‹ä¸­ï¼Œå¢åŠ ä¸€ä¸ªOriginå­—æ®µã€‚Originå­—æ®µç”¨æ¥è¯´æ˜ï¼Œæœ¬æ¬¡è¯·æ±‚æ¥è‡ªå“ªä¸ªæºï¼ˆåè®® + åŸŸå + ç«¯å£ï¼‰ã€‚æœåŠ¡å™¨æ ¹æ®è¿™ä¸ªå€¼ï¼Œå†³å®šæ˜¯å¦åŒæ„è¿™æ¬¡è¯·æ±‚ã€‚</p><p>CORSè¯·æ±‚è®¾ç½®çš„å“åº”å¤´å­—æ®µï¼Œéƒ½ä»¥ Access-Control-å¼€å¤´ï¼š</p><ol><li><code>Access-Control-Allow-Origin</code>ï¼šå¿…é€‰ï¼Œ<ul><li>å®ƒçš„å€¼è¦ä¹ˆæ˜¯è¯·æ±‚æ—¶Originå­—æ®µçš„å€¼ï¼Œè¦ä¹ˆæ˜¯ä¸€ä¸ª*ï¼Œè¡¨ç¤ºæ¥å—ä»»æ„åŸŸåçš„è¯·æ±‚ã€‚</li></ul></li><li><code>Access-Control-Allow-Credentials</code>ï¼šå¯é€‰<ul><li>å®ƒçš„å€¼æ˜¯ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºæ˜¯å¦å…è®¸å‘é€Cookieã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒCookieä¸åŒ…æ‹¬åœ¨CORSè¯·æ±‚ä¹‹ä¸­ã€‚è®¾ä¸ºtrueï¼Œå³è¡¨ç¤ºæœåŠ¡å™¨æ˜ç¡®è®¸å¯ï¼ŒCookieå¯ä»¥åŒ…å«åœ¨è¯·æ±‚ä¸­ï¼Œä¸€èµ·å‘ç»™æœåŠ¡å™¨ã€‚</li></ul></li><li><code>Access-Control-Expose-Headers</code>ï¼šå¯é€‰<ul><li>CORSè¯·æ±‚æ—¶ï¼ŒXMLHttpRequestå¯¹è±¡çš„getResponseHeader()æ–¹æ³•åªèƒ½æ‹¿åˆ°6ä¸ªåŸºæœ¬å­—æ®µï¼šCache-Controlã€Content-Languageã€Content-Typeã€Expiresã€Last-Modifiedã€Pragmaã€‚å¦‚æœæƒ³æ‹¿åˆ°å…¶ä»–å­—æ®µï¼Œå°±å¿…é¡»åœ¨Access-Control-Expose-Headersé‡Œé¢æŒ‡å®šã€‚</li></ul></li></ol><h4 id="éç®€å•è¯·æ±‚"><a href="#éç®€å•è¯·æ±‚" class="headerlink" title="éç®€å•è¯·æ±‚"></a>éç®€å•è¯·æ±‚</h4><p>éç®€å•è¯·æ±‚çš„CORSè¯·æ±‚ï¼Œä¼šåœ¨æ­£å¼é€šä¿¡ä¹‹å‰ï¼Œå¢åŠ ä¸€æ¬¡HTTPæŸ¥è¯¢è¯·æ±‚ï¼Œç§°ä¸ºâ€é¢„æ£€â€è¯·æ±‚ï¼ˆpreflightï¼‰ã€‚æœåŠ¡ç«¯æ ¹æ®é¢„æ£€è¯·æ±‚é€‰æ‹©æ˜¯å¦å…è®¸è¯¥è·¨åŸŸè¯·æ±‚ã€‚</p><p>é¢„æ£€è¯·æ±‚ç”¨çš„è¯·æ±‚æ–¹æ³•æ˜¯OPTIONSï¼Œè¡¨ç¤ºè¿™ä¸ªè¯·æ±‚æ˜¯ç”¨æ¥è¯¢é—®çš„ã€‚è¯·æ±‚å¤´ä¿¡æ¯é‡Œé¢ï¼Œå…³é”®å­—æ®µæ˜¯Originï¼Œè¡¨ç¤ºè¯·æ±‚æ¥è‡ªå“ªä¸ªæºã€‚é™¤äº†Originå­—æ®µï¼Œâ€é¢„æ£€â€è¯·æ±‚çš„å¤´ä¿¡æ¯åŒ…æ‹¬ä¸¤ä¸ªç‰¹æ®Šå­—æ®µï¼š</p><ol><li><code>Access-Control-Request-Method</code>ï¼šå¿…é€‰<ul><li>ç”¨æ¥åˆ—å‡ºæµè§ˆå™¨çš„CORSè¯·æ±‚ä¼šç”¨åˆ°å“ªäº›HTTPæ–¹æ³•ã€‚</li></ul></li><li><code>Access-Control-Request-Headers</code>ï¼šå¯é€‰<ul><li>è¯¥å­—æ®µæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼ŒæŒ‡å®šæµè§ˆå™¨CORSè¯·æ±‚ä¼šé¢å¤–å‘é€çš„å¤´ä¿¡æ¯å­—æ®µã€‚</li></ul></li></ol><p>é¢„æ£€è¯·æ±‚çš„å“åº”ï¼š</p><p>æœåŠ¡å™¨æ”¶åˆ°â€é¢„æ£€â€è¯·æ±‚ä»¥åï¼Œæ£€æŸ¥äº†Originã€Access-Control-Request-Methodå’ŒAccess-Control-Request-Headerså­—æ®µä»¥åï¼Œç¡®è®¤å…è®¸è·¨æºè¯·æ±‚ï¼Œå°±å¯ä»¥åšå‡ºå›åº”ã€‚<br>â€ƒ<br>è¯·æ±‚å“åº”ä¸­ï¼Œé™¤äº†å…³é”®çš„<code>Access-Control-Allow-Origin</code> å’Œ<code>Access-Control-Allow-Credentials</code>å­—æ®µï¼Œå…¶ä»–CORSç›¸å…³å­—æ®µå¦‚ä¸‹ï¼š</p><ol><li><code>Access-Control-Allow-Methods</code>ï¼šå¿…é€‰<ul><li>å®ƒçš„å€¼æ˜¯é€—å·åˆ†éš”çš„ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰è·¨åŸŸè¯·æ±‚çš„æ–¹æ³•ã€‚æ³¨æ„ï¼Œè¿”å›çš„æ˜¯æ‰€æœ‰æ”¯æŒçš„æ–¹æ³•ï¼Œè€Œä¸å•æ˜¯æµè§ˆå™¨è¯·æ±‚çš„é‚£ä¸ªæ–¹æ³•ã€‚è¿™æ˜¯ä¸ºäº†é¿å…å¤šæ¬¡â€é¢„æ£€â€è¯·æ±‚ã€‚</li></ul></li><li><code>Access-Control-Allow-Headers</code><ul><li>å¦‚æœæµè§ˆå™¨è¯·æ±‚åŒ…æ‹¬<code>Access-Control-Request-Headers</code>å­—æ®µï¼Œåˆ™è¯¥å­—æ®µæ˜¯å¿…éœ€çš„ã€‚å®ƒä¹Ÿæ˜¯ä¸€ä¸ªé€—å·åˆ†éš”çš„å­—ç¬¦ä¸²ï¼Œè¡¨æ˜æœåŠ¡å™¨æ”¯æŒçš„æ‰€æœ‰å¤´ä¿¡æ¯å­—æ®µï¼Œä¸é™äºæµè§ˆå™¨åœ¨â€é¢„æ£€â€ä¸­è¯·æ±‚çš„å­—æ®µã€‚</li></ul></li><li><code>Access-Control-Max-Age</code>ï¼šå¯é€‰<ul><li>ç”¨æ¥æŒ‡å®šæœ¬æ¬¡é¢„æ£€è¯·æ±‚çš„æœ‰æ•ˆæœŸï¼Œå•ä½ä¸ºç§’ã€‚</li></ul></li></ol><h3 id="JSONP-è·¨åŸŸ"><a href="#JSONP-è·¨åŸŸ" class="headerlink" title="JSONP è·¨åŸŸ"></a>JSONP è·¨åŸŸ</h3><p>åŒæºé™åˆ¶æ˜¯è·¨åŸŸé™åˆ¶çš„æœ¬è´¨ã€‚å­˜åœ¨ä¸€äº›æ ‡ç­¾æ²¡æœ‰åŒæºé™åˆ¶ï¼Œåƒ<code>&lt;script&gt;</code>ã€<code>&lt;link&gt;</code>ã€<code>&lt;img&gt;</code>ç­‰æ ‡ç­¾ã€‚jsonpçš„åŸç†æ˜¯é€šè¿‡scriptæ ‡ç­¾è·³è¿‡åŒæºé™åˆ¶ã€‚åŸºäºæ­¤åŸç†ï¼Œå¯ä»¥é€šè¿‡åŠ¨æ€åˆ›å»º<code>&lt;script&gt;</code>ï¼Œå†è¯·æ±‚ä¸€ä¸ªå¸¦å‚ç½‘å€å®ç°è·¨åŸŸé€šä¿¡ã€‚</p><h4 id="å®ç°"><a href="#å®ç°" class="headerlink" title="å®ç°"></a>å®ç°</h4><ol><li><p>å®¢æˆ·ç«¯ï¼šå®šä¹‰ callbackï¼Œcallbackå†…æ˜¯è¯»å–æ•°æ®çš„é€»è¾‘ã€‚</p> <figure class="highlight html"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></div></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;script&#x27;</span>);</span><br><span class="language-javascript">    script.<span class="hljs-property">type</span> = <span class="hljs-string">&#x27;text/javascript&#x27;</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// ä¼ å‚ä¸€ä¸ªå›è°ƒå‡½æ•°åç»™åç«¯ï¼Œæ–¹ä¾¿åç«¯è¿”å›æ—¶æ‰§è¡Œè¿™ä¸ªåœ¨å‰ç«¯å®šä¹‰çš„å›è°ƒå‡½æ•°</span></span><br><span class="language-javascript">    script.<span class="hljs-property">src</span> = <span class="hljs-string">&#x27;http://www.domain2.com:8080/login?user=admin&amp;callback=handleCallback&#x27;</span>;</span><br><span class="language-javascript">    <span class="hljs-variable language_">document</span>.<span class="hljs-property">head</span>.<span class="hljs-title function_">appendChild</span>(script);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// å›è°ƒæ‰§è¡Œå‡½æ•°</span></span><br><span class="language-javascript">    <span class="hljs-keyword">function</span> <span class="hljs-title function_">handleCallback</span>(<span class="hljs-params">res</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res));</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li><li><p>æœåŠ¡ç«¯ï¼šè¾“å‡ºå¯¹ callback çš„è°ƒç”¨ï¼ˆå³<code>handleCallback(res)</code>ï¼‰ï¼ŒæŠŠç›®æ ‡æ•°æ®ä½œä¸ºå…¥å‚ä¼ ç»™ callback</p> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br><span class="hljs-keyword">var</span> urllib = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;url&#x27;</span>);<br><br><span class="hljs-keyword">var</span> port = <span class="hljs-number">8080</span>;<br><span class="hljs-comment">// ç›®æ ‡æ•°æ®</span><br><span class="hljs-keyword">var</span> data = &#123;<span class="hljs-string">&#x27;data&#x27;</span>:<span class="hljs-string">&#x27;world&#x27;</span>&#125;;<br><br>http.<span class="hljs-title function_">createServer</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">req,res</span>)&#123;<br>    <span class="hljs-keyword">var</span> params = urllib.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>,<span class="hljs-literal">true</span>);<br>    <span class="hljs-keyword">if</span>(params.<span class="hljs-property">query</span>.<span class="hljs-property">callback</span>)&#123;<br>        <span class="hljs-comment">// æŠŠç›®æ ‡æ•°æ®ä½œä¸ºå…¥å‚ä¼ ç»™ callback</span><br>        <span class="hljs-keyword">var</span> str = params.<span class="hljs-property">query</span>.<span class="hljs-property">callback</span> + <span class="hljs-string">&#x27;(&#x27;</span> + <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data) + <span class="hljs-string">&#x27;)&#x27;</span>;<br>        res.<span class="hljs-title function_">end</span>(str);<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        res.<span class="hljs-title function_">end</span>();<br>    &#125;<br>    <br>&#125;).<span class="hljs-title function_">listen</span>(port,<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;jsonp server is on&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure></li><li><p>å®¢æˆ·ç«¯ï¼šæ¥æ”¶åˆ°è¿”å›çš„ JS è„šæœ¬ï¼Œå¼€å§‹è§£æå’Œæ‰§è¡Œ<code>handleCallback(res)</code></p></li></ol><h3 id="Nginx-ä»£ç†è·¨åŸŸ"><a href="#Nginx-ä»£ç†è·¨åŸŸ" class="headerlink" title="Nginx ä»£ç†è·¨åŸŸ"></a>Nginx ä»£ç†è·¨åŸŸ</h3><p>è·¨åŸŸåŸç†ï¼š åŒæºç­–ç•¥æ˜¯æµè§ˆå™¨çš„å®‰å…¨ç­–ç•¥ï¼Œä¸æ˜¯HTTPåè®®çš„ä¸€éƒ¨åˆ†ã€‚æœåŠ¡å™¨ç«¯è°ƒç”¨HTTPæ¥å£åªæ˜¯ä½¿ç”¨HTTPåè®®ï¼Œä¸ä¼šæ‰§è¡ŒJSè„šæœ¬ï¼Œä¸éœ€è¦åŒæºç­–ç•¥ï¼Œä¹Ÿå°±ä¸å­˜åœ¨è·¨è¶Šé—®é¢˜ã€‚</p><p>å®ç°æ€è·¯ï¼šé€šè¿‡nginxé…ç½®ä¸€ä¸ªä»£ç†æœåŠ¡å™¨ï¼ˆåŸŸåä¸domain1ç›¸åŒï¼Œç«¯å£ä¸åŒï¼‰åšè·³æ¿æœºï¼Œåå‘ä»£ç†è®¿é—®domain2æ¥å£ã€‚å¹¶ä¸”å¯ä»¥é¡ºä¾¿ä¿®æ”¹cookieä¸­domainä¿¡æ¯ï¼Œæ–¹ä¾¿å½“å‰åŸŸcookieå†™å…¥ï¼Œå®ç°è·¨åŸŸç™»å½•ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-comment"># proxyæœåŠ¡å™¨</span><br>server &#123;<br>    listen       81;<br>    server_name  www.domain1.com;<br><br>    location / &#123;<br>        proxy_pass   http://www.domain2.com:8080;  <span class="hljs-comment">#åå‘ä»£ç†</span><br>        proxy_cookie_domain www.domain2.com www.domain1.com; <span class="hljs-comment">#ä¿®æ”¹cookieé‡ŒåŸŸå</span><br>        index  index.html index.htm;<br><br>        <span class="hljs-comment"># å½“ç”¨webpack-dev-serverç­‰ä¸­é—´ä»¶ä»£ç†æ¥å£è®¿é—®nignxæ—¶ï¼Œæ­¤æ—¶æ— æµè§ˆå™¨å‚ä¸ï¼Œæ•…æ²¡æœ‰åŒæºé™åˆ¶ï¼Œä¸‹é¢çš„è·¨åŸŸé…ç½®å¯ä¸å¯ç”¨</span><br>        add_header Access-Control-Allow-Origin http://www.domain1.com;  <span class="hljs-comment">#å½“å‰ç«¯åªè·¨åŸŸä¸å¸¦cookieæ—¶ï¼Œå¯ä¸º*</span><br>        add_header Access-Control-Allow-Credentials <span class="hljs-literal">true</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="postMessage-è·¨åŸŸ"><a href="#postMessage-è·¨åŸŸ" class="headerlink" title="postMessage è·¨åŸŸ"></a>postMessage è·¨åŸŸ</h3><p>postMessageæ˜¯HTML5 XMLHttpRequest Level 2ä¸­çš„APIï¼Œä¸”æ˜¯ä¸ºæ•°ä¸å¤šå¯ä»¥è·¨åŸŸæ“ä½œçš„windowå±æ€§ä¹‹ä¸€ï¼Œå®ƒå¯ç”¨äºè§£å†³ä»¥ä¸‹æ–¹é¢çš„é—®é¢˜ï¼š</p><ul><li>å¤šçª—å£ä¹‹é—´æ¶ˆæ¯ä¼ é€’</li><li>é¡µé¢ä¸åµŒå¥—çš„iframeæ¶ˆæ¯ä¼ é€’</li></ul><p>ç”¨æ³•ï¼š<code>postMessage(data, origin)</code>æ–¹æ³•æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š</p><ul><li>dataï¼š html5è§„èŒƒæ”¯æŒä»»æ„åŸºæœ¬ç±»å‹æˆ–å¯å¤åˆ¶çš„å¯¹è±¡ï¼Œä½†éƒ¨åˆ†æµè§ˆå™¨åªæ”¯æŒå­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¼ å‚æ—¶æœ€å¥½ç”¨JSON.stringify()åºåˆ—åŒ–ã€‚</li><li>originï¼š åè®®+ä¸»æœº+ç«¯å£å·ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºâ€*â€ï¼Œè¡¨ç¤ºå¯ä»¥ä¼ é€’ç»™ä»»æ„çª—å£ï¼Œå¦‚æœè¦æŒ‡å®šå’Œå½“å‰çª—å£åŒæºçš„è¯è®¾ç½®ä¸ºâ€&#x2F;â€œã€‚</li></ul><h4 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h4><p>1). a.htmlï¼š(<a href="http://www.domain1.com/a.html">www.domain1.com/a.html</a>)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">iframe</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;iframe&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;http://www.domain2.com/b.html&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display:none;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">iframe</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript">       </span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> iframe = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;iframe&#x27;</span>);</span><br><span class="language-javascript">    iframe.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> data = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;aym&#x27;</span></span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-comment">// å‘domain2ä¼ é€è·¨åŸŸæ•°æ®</span></span><br><span class="language-javascript">        iframe.<span class="hljs-property">contentWindow</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data), <span class="hljs-string">&#x27;http://www.domain2.com&#x27;</span>);</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// æ¥å—domain2è¿”å›æ•°æ®</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;message&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;data from domain2 ---&gt; &#x27;</span> + e.<span class="hljs-property">data</span>);</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">false</span>);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>2). b.htmlï¼š(<a href="http://www.domain1.com/b.html">www.domain1.com/b.html</a>)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// æ¥æ”¶domain1çš„æ•°æ®</span></span><br><span class="language-javascript">    <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;message&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;data from domain1 ---&gt; &#x27;</span> + e.<span class="hljs-property">data</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> data = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(e.<span class="hljs-property">data</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (data) &#123;</span><br><span class="language-javascript">            data.<span class="hljs-property">number</span> = <span class="hljs-number">16</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-comment">// å¤„ç†åå†å‘å›domain1</span></span><br><span class="language-javascript">            <span class="hljs-variable language_">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-title function_">postMessage</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data), <span class="hljs-string">&#x27;http://www.domain1.com&#x27;</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;, <span class="hljs-literal">false</span>);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="å‰åç«¯é‰´æƒ"><a href="#å‰åç«¯é‰´æƒ" class="headerlink" title="å‰åç«¯é‰´æƒ"></a>å‰åç«¯é‰´æƒ</h2><p><img src="/img/front-end-interview-preparation/web-jwt-session.png" alt="web-jwt-session"></p><h3 id="è®¤è¯ä¸æˆæƒçš„å…³ç³»"><a href="#è®¤è¯ä¸æˆæƒçš„å…³ç³»" class="headerlink" title="è®¤è¯ä¸æˆæƒçš„å…³ç³»"></a>è®¤è¯ä¸æˆæƒçš„å…³ç³»</h3><ul><li>è®¤è¯ï¼ˆAuthenticationï¼‰<br>è®¤è¯æ¶‰åŠä¸€æ–¹åº”ç”¨å’Œä¸€æ–¹ç”¨æˆ·ï¼Œç”¨äºæè¿°ç”¨æˆ·åœ¨è¯¥åº”ç”¨ä¸‹çš„èº«ä»½ã€‚è®¤è¯å¯ä»¥ç®€å•ç†è§£ä¸ºç™»å½•ï¼Œä»¥æ­¤ç¡®è®¤ä½ æ˜¯ä¸€ä¸ªåˆæ³•çš„ç”¨æˆ·ã€‚</li><li>æˆæƒï¼ˆAuthorisationï¼‰<br>æˆæƒæ¶‰åŠä¸¤æ–¹åº”ç”¨å’Œä¸€æ–¹ç”¨æˆ·ï¼Œç”¨äºæè¿°ç¬¬ä¸‰æ–¹åº”ç”¨æœ‰å“ªäº›æ“ä½œæƒé™ã€‚</li></ul><h3 id="å¸¸è§é‰´æƒæ–¹å¼"><a href="#å¸¸è§é‰´æƒæ–¹å¼" class="headerlink" title="å¸¸è§é‰´æƒæ–¹å¼"></a>å¸¸è§é‰´æƒæ–¹å¼</h3><h4 id="Session-Cookie"><a href="#Session-Cookie" class="headerlink" title="Session-Cookie"></a>Session-Cookie</h4><p>Session-Cookie çš„è®¤è¯æµç¨‹å¦‚ä¸‹ï¼š</p><ol><li>ç”¨æˆ·å‘æœåŠ¡å™¨å‘é€ç”¨æˆ·åå’Œå¯†ç ã€‚</li><li>æœåŠ¡å™¨éªŒè¯é€šè¿‡åï¼Œåœ¨å½“å‰å¯¹è¯ï¼ˆsessionï¼‰é‡Œé¢ä¿å­˜ç›¸å…³æ•°æ®ï¼Œæ¯”å¦‚ç”¨æˆ·è§’è‰²ã€ç™»å½•æ—¶é—´ç­‰ç­‰ã€‚</li><li>æœåŠ¡å™¨å‘ç”¨æˆ·è¿”å›ä¸€ä¸ª session_idï¼Œå†™å…¥ç”¨æˆ·çš„ Cookieã€‚</li><li>ç”¨æˆ·éšåçš„æ¯ä¸€æ¬¡è¯·æ±‚ï¼Œéƒ½ä¼šé€šè¿‡ Cookieï¼Œå°† session_id ä¼ å›æœåŠ¡å™¨ã€‚</li><li>æœåŠ¡å™¨æ”¶åˆ° session_idï¼Œæ‰¾åˆ°å‰æœŸä¿å­˜çš„æ•°æ®ï¼Œç”±æ­¤å¾—çŸ¥ç”¨æˆ·çš„èº«ä»½ã€‚</li></ol><p>ç®€å•æ¥è¯´ï¼š</p><ul><li>Session ä¿å­˜åœ¨æœåŠ¡ç«¯ï¼Œæ˜¯å•ç”¨æˆ·çš„ä¼šè¯çŠ¶æ€ã€‚</li><li>Cookie ä¿å­˜åœ¨å®¢æˆ·ç«¯ï¼Œæ¯æ¬¡å‘æœåŠ¡å™¨å‘é€è¯·æ±‚æ˜¯éƒ½ä¼šå¸¦ä¸Šè¿™ä¸ªcookieã€‚</li></ul><h4 id="Tokenè®¤è¯"><a href="#Tokenè®¤è¯" class="headerlink" title="Tokenè®¤è¯"></a>Tokenè®¤è¯</h4><p>ä¸ä¸Šé¢çš„Session-Cookie æœºåˆ¶ä¸åŒçš„åœ°æ–¹åœ¨äºï¼ŒåŸºäº token çš„ç”¨æˆ·è®¤è¯æ˜¯ä¸€ç§æœåŠ¡ç«¯æ— çŠ¶æ€çš„è®¤è¯æ–¹å¼ï¼ŒæœåŠ¡ç«¯å¯ä»¥ä¸ç”¨å­˜æ”¾token æ•°æ®ï¼Œä½†æ˜¯æœåŠ¡å™¨å¯ä»¥éªŒè¯ token çš„åˆæ³•æ€§å’Œæœ‰æ•ˆæ€§ã€‚</p><p>ä½¿ç”¨token è¿›è¡Œè®¤è¯çš„æ–¹å¼ä¸»è¦æœ‰ä¸¤ç§ï¼šSAML å’Œ JWTã€‚è¿™é‡Œä»‹ç»JWTï¼ˆJson Web Tokenï¼‰ã€‚</p><h5 id="JWT-çš„åŸç†"><a href="#JWT-çš„åŸç†" class="headerlink" title="JWT çš„åŸç†"></a>JWT çš„åŸç†</h5><p>JWT çš„åŸç†æ˜¯ï¼ŒæœåŠ¡å™¨è®¤è¯ä»¥åï¼Œç”Ÿæˆä¸€ä¸ª JSON å¯¹è±¡ï¼Œå‘å›ç»™ç”¨æˆ·ï¼Œå°±åƒä¸‹é¢è¿™æ ·ã€‚</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;å§“å&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;å¼ ä¸‰&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;è§’è‰²&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;ç®¡ç†å‘˜&quot;</span><span class="hljs-punctuation">,</span><br>  <span class="hljs-attr">&quot;åˆ°æœŸæ—¶é—´&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;2018å¹´7æœˆ1æ—¥0ç‚¹0åˆ†&quot;</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>ä»¥åï¼Œç”¨æˆ·ä¸æœåŠ¡ç«¯é€šä¿¡çš„æ—¶å€™ï¼Œéƒ½è¦å‘å›è¿™ä¸ª JSON å¯¹è±¡ã€‚æœåŠ¡å™¨å®Œå…¨åªé è¿™ä¸ªå¯¹è±¡è®¤å®šç”¨æˆ·èº«ä»½ã€‚ä¸ºäº†é˜²æ­¢ç”¨æˆ·ç¯¡æ”¹æ•°æ®ï¼ŒæœåŠ¡å™¨åœ¨ç”Ÿæˆè¿™ä¸ªå¯¹è±¡çš„æ—¶å€™ï¼Œä¼šåŠ ä¸Šç­¾åï¼ˆè¯¦è§åæ–‡ï¼‰ã€‚</p><h5 id="JWT-çš„ç»“æ„"><a href="#JWT-çš„ç»“æ„" class="headerlink" title="JWT çš„ç»“æ„"></a>JWT çš„ç»“æ„</h5><ul><li>Headerï¼ˆå¤´éƒ¨ï¼‰ï¼šå£°æ˜ç±»å‹å’ŒåŠ å¯†ç®—æ³•</li><li>Payloadï¼ˆè´Ÿè½½ï¼‰ï¼šå­˜æ”¾æœ‰æ•ˆä¿¡æ¯çš„åœ°æ–¹</li><li>Signatureï¼ˆç­¾åï¼‰ï¼šå¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹</li></ul><p><strong>1.Header éƒ¨åˆ†æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œæè¿° JWT çš„å…ƒæ•°æ®ï¼Œé€šå¸¸æ˜¯ä¸‹é¢çš„æ ·å­ã€‚</strong></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-punctuation">&#123;</span><br>  <span class="hljs-attr">&quot;alg&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;HS256&quot;</span><span class="hljs-punctuation">,</span> <span class="hljs-comment">// è¡¨ç¤ºç­¾åçš„ç®—æ³•ï¼ˆalgorithmï¼‰ï¼Œé»˜è®¤æ˜¯ HMAC SHA256ï¼ˆå†™æˆ HS256ï¼‰</span><br>  <span class="hljs-attr">&quot;typ&quot;</span><span class="hljs-punctuation">:</span> <span class="hljs-string">&quot;JWT&quot;</span> <span class="hljs-comment">// è¡¨ç¤ºè¿™ä¸ªä»¤ç‰Œï¼ˆtokenï¼‰çš„ç±»å‹ï¼ˆtypeï¼‰ï¼ŒJWT ä»¤ç‰Œç»Ÿä¸€å†™ä¸ºJWT</span><br><span class="hljs-punctuation">&#125;</span><br></code></pre></td></tr></table></figure><p>æœ€åï¼Œå°†ä¸Šé¢çš„ JSON å¯¹è±¡ä½¿ç”¨ Base64URL ç®—æ³•ï¼ˆè¯¦è§åæ–‡ï¼‰è½¬æˆå­—ç¬¦ä¸²ã€‚</p><p><strong>2.Payload éƒ¨åˆ†ä¹Ÿæ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼Œç”¨æ¥å­˜æ”¾å®é™…éœ€è¦ä¼ é€’çš„æ•°æ®ã€‚JWT è§„å®šäº†7ä¸ªå®˜æ–¹å­—æ®µï¼Œä¾›é€‰ç”¨ã€‚é™¤äº†å®˜æ–¹å­—æ®µï¼Œä¹Ÿå¯ä»¥å®šä¹‰ç§æœ‰å­—æ®µã€‚ä¹Ÿè¦ä½¿ç”¨ Base64URL ç®—æ³•è½¬æˆå­—ç¬¦ä¸²ã€‚</strong></p><blockquote><ul><li>iss (issuer)ï¼šç­¾å‘äºº</li><li>exp (expiration time)ï¼šè¿‡æœŸæ—¶é—´</li><li>sub (subject)ï¼šä¸»é¢˜</li><li>aud (audience)ï¼šå—ä¼—</li><li>nbf (Not Before)ï¼šç”Ÿæ•ˆæ—¶é—´</li><li>iat (Issued At)ï¼šç­¾å‘æ—¶é—´</li><li>jti (JWT ID)ï¼šç¼–å·</li></ul></blockquote><p><strong>3.Signature éƒ¨åˆ†æ˜¯å¯¹å‰ä¸¤éƒ¨åˆ†çš„ç­¾åï¼Œé˜²æ­¢æ•°æ®ç¯¡æ”¹ã€‚</strong></p><p>é¦–å…ˆï¼Œéœ€è¦æŒ‡å®šä¸€ä¸ªå¯†é’¥ï¼ˆsecretï¼‰ã€‚è¿™ä¸ªå¯†é’¥åªæœ‰æœåŠ¡å™¨æ‰çŸ¥é“ï¼Œä¸èƒ½æ³„éœ²ç»™ç”¨æˆ·ã€‚ç„¶åï¼Œä½¿ç”¨ Header é‡Œé¢æŒ‡å®šçš„ç­¾åç®—æ³•ï¼ˆé»˜è®¤æ˜¯ HMAC SHA256ï¼‰ï¼ŒæŒ‰ç…§ä¸‹é¢çš„å…¬å¼äº§ç”Ÿç­¾åã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">HMACSHA256</span>(<br>  <span class="hljs-title function_">base64UrlEncode</span>(header) + <span class="hljs-string">&quot;.&quot;</span> +<br>  <span class="hljs-title function_">base64UrlEncode</span>(payload),<br>  secret)<br></code></pre></td></tr></table></figure><p>ç®—å‡ºç­¾åä»¥åï¼ŒæŠŠ Headerã€Payloadã€Signature ä¸‰ä¸ªéƒ¨åˆ†æ‹¼æˆä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªéƒ¨åˆ†ä¹‹é—´ç”¨â€ç‚¹â€ï¼ˆ.ï¼‰åˆ†éš”ï¼Œå°±å¯ä»¥è¿”å›ç»™ç”¨æˆ·ã€‚</p><h5 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h5><ol><li>æœ‰æ•ˆæœŸçŸ­ï¼Œåªå¸Œæœ›è¢«ä½¿ç”¨ä¸€æ¬¡ã€‚<blockquote><p>æ¯”å¦‚ï¼Œç”¨æˆ·æ³¨å†Œåå‘ä¸€å°é‚®ä»¶è®©å…¶æ¿€æ´»è´¦æˆ·ï¼Œé€šå¸¸é‚®ä»¶ä¸­éœ€è¦æœ‰ä¸€ä¸ªé“¾æ¥ï¼Œè¿™ä¸ªé“¾æ¥éœ€è¦å…·å¤‡ä»¥ä¸‹çš„ç‰¹æ€§ï¼šèƒ½å¤Ÿæ ‡è¯†ç”¨æˆ·ï¼Œè¯¥é“¾æ¥å…·æœ‰æ—¶æ•ˆæ€§ï¼ˆé€šå¸¸åªå…è®¸å‡ å°æ—¶ä¹‹å†…æ¿€æ´»ï¼‰ï¼Œä¸èƒ½è¢«ç¯¡æ”¹ä»¥æ¿€æ´»å…¶ä»–å¯èƒ½çš„è´¦æˆ·ï¼Œä¸€æ¬¡æ€§çš„ã€‚</p></blockquote></li><li>jwtä¸­çš„payloadæ˜¯base64ç¼–ç çš„ï¼Œæ²¡æœ‰åŠ å¯†ï¼Œå› æ­¤ä¸èƒ½å­˜å‚¨æ•æ„Ÿæ•°æ®</li></ol><h4 id="OAuth2-0-æˆæƒ"><a href="#OAuth2-0-æˆæƒ" class="headerlink" title="OAuth2.0 æˆæƒ"></a>OAuth2.0 æˆæƒ</h4><p>å…è®¸ç”¨æˆ·æˆæƒç¬¬ä¸‰æ–¹ç½‘ç«™è®¿é—®ä»–ä»¬å­˜å‚¨åœ¨å¦å¤–çš„æœåŠ¡æä¾›è€…ä¸Šçš„ä¿¡æ¯ã€‚</p><h5 id="è¿è¡Œæµç¨‹"><a href="#è¿è¡Œæµç¨‹" class="headerlink" title="è¿è¡Œæµç¨‹"></a>è¿è¡Œæµç¨‹</h5><p>OAuth 2.0çš„è¿è¡Œæµç¨‹å¦‚ä¸‹å›¾ï¼Œæ‘˜è‡ª<a href="http://www.rfcreader.com/#rfc6749">RFC 6749</a>:</p><div class="code-wrapper"><pre><code class="hljs">+--------+                               +---------------+|        |--(A)- Authorization Request -&gt;|   Resource    ||        |                               |     Owner     ||        |&lt;-(B)-- Authorization Grant ---|               ||        |                               +---------------+|        ||        |                               +---------------+|        |--(C)-- Authorization Grant --&gt;| Authorization || Client |                               |     Server    ||        |&lt;-(D)----- Access Token -------|               ||        |                               +---------------+|        ||        |                               +---------------+|        |--(E)----- Access Token ------&gt;|    Resource   ||        |                               |     Server    ||        |&lt;-(F)--- Protected Resource ---|               | +--------+                               +---------------+           Figure 1: Abstract Protocol Flow</code></pre></div><p>é‡ç‚¹åœ¨äºBæ­¥éª¤ï¼šç”¨æˆ·æ€æ ·æ‰èƒ½ç»™äºå®¢æˆ·ç«¯æˆæƒã€‚æœ‰äº†è¿™ä¸ªæˆæƒä»¥åï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥è·å–ä»¤ç‰Œï¼Œè¿›è€Œå‡­ä»¤ç‰Œè·å–èµ„æºã€‚</p><h5 id="æˆæƒæ¨¡å¼"><a href="#æˆæƒæ¨¡å¼" class="headerlink" title="æˆæƒæ¨¡å¼"></a>æˆæƒæ¨¡å¼</h5><p>OAuth 2.0å®šä¹‰äº†å››ç§æˆæƒæ–¹å¼ï¼šæˆæƒç æ¨¡å¼ï¼ˆauthorization codeï¼‰ã€ç®€åŒ–æ¨¡å¼ï¼ˆimplicitï¼‰ã€å¯†ç æ¨¡å¼ï¼ˆresource owner password credentialsï¼‰ã€å®¢æˆ·ç«¯æ¨¡å¼ï¼ˆclient credentialsï¼‰ã€‚</p><p><strong>æˆæƒç æ¨¡å¼</strong>æ˜¯åŠŸèƒ½æœ€å®Œæ•´ã€æµç¨‹æœ€ä¸¥å¯†çš„æˆæƒæ¨¡å¼ã€‚å®ƒçš„ç‰¹ç‚¹å°±æ˜¯é€šè¿‡å®¢æˆ·ç«¯çš„åå°æœåŠ¡å™¨ï¼Œä¸â€æœåŠ¡æä¾›å•†â€çš„è®¤è¯æœåŠ¡å™¨è¿›è¡Œäº’åŠ¨ã€‚</p><div class="code-wrapper"><pre><code class="hljs"> +----------+ | Resource | |   Owner  | |          | +----------+      ^      |     (B) +----|-----+          Client Identifier      +---------------+ |         -+----(A)-- &amp; Redirection URI ----&gt;|               | |  User-   |                                 | Authorization | |  Agent  -+----(B)-- User authenticates ---&gt;|     Server    | |          |                                 |               | |         -+----(C)-- Authorization Code ---&lt;|               | +-|----|---+                                 +---------------+   |    |                                         ^      v  (A)  (C)                                        |      |   |    |                                         |      |   ^    v                                         |      | +---------+                                      |      | |         |&gt;---(D)-- Authorization Code ---------&#39;      | |  Client |          &amp; Redirection URI                  | |         |                                             | |         |&lt;---(E)----- Access Token -------------------&#39; +---------+       (w/ Optional Refresh Token)</code></pre></div><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><p>ï¼ˆAï¼‰ç”¨æˆ·è®¿é—®å®¢æˆ·ç«¯ï¼Œåè€…å°†å‰è€…å¯¼å‘è®¤è¯æœåŠ¡å™¨ã€‚</p><p>ï¼ˆBï¼‰ç”¨æˆ·é€‰æ‹©æ˜¯å¦ç»™äºˆå®¢æˆ·ç«¯æˆæƒã€‚</p><p>ï¼ˆCï¼‰å‡è®¾ç”¨æˆ·ç»™äºˆæˆæƒï¼Œè®¤è¯æœåŠ¡å™¨å°†ç”¨æˆ·å¯¼å‘å®¢æˆ·ç«¯äº‹å…ˆæŒ‡å®šçš„â€é‡å®šå‘URIâ€ï¼ˆredirection URIï¼‰ï¼ŒåŒæ—¶é™„ä¸Šä¸€ä¸ªæˆæƒç ã€‚</p><p>ï¼ˆDï¼‰å®¢æˆ·ç«¯æ”¶åˆ°æˆæƒç ï¼Œé™„ä¸Šæ—©å…ˆçš„â€é‡å®šå‘URIâ€ï¼Œå‘è®¤è¯æœåŠ¡å™¨ç”³è¯·ä»¤ç‰Œã€‚è¿™ä¸€æ­¥æ˜¯åœ¨å®¢æˆ·ç«¯çš„åå°çš„æœåŠ¡å™¨ä¸Šå®Œæˆçš„ï¼Œå¯¹ç”¨æˆ·ä¸å¯è§ã€‚</p><p>ï¼ˆEï¼‰è®¤è¯æœåŠ¡å™¨æ ¸å¯¹äº†æˆæƒç å’Œé‡å®šå‘URIï¼Œç¡®è®¤æ— è¯¯åï¼Œå‘å®¢æˆ·ç«¯å‘é€è®¿é—®ä»¤ç‰Œï¼ˆaccess tokenï¼‰å’Œæ›´æ–°ä»¤ç‰Œï¼ˆrefresh tokenï¼‰ã€‚</p><p>ä¸‹é¢æ˜¯è¿™äº›æ­¥éª¤æ‰€éœ€è¦çš„å‚æ•°ï¼š</p><p>ï¼ˆAï¼‰å®¢æˆ·ç«¯ç”³è¯·è®¤è¯çš„URIï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li>response_typeï¼šè¡¨ç¤ºæˆæƒç±»å‹ï¼Œå¿…é€‰é¡¹ï¼Œæ­¤å¤„çš„å€¼å›ºå®šä¸ºâ€codeâ€</li></ul><ul><li>client_idï¼šè¡¨ç¤ºå®¢æˆ·ç«¯çš„IDï¼Œå¿…é€‰é¡¹</li><li>redirect_uriï¼šè¡¨ç¤ºé‡å®šå‘URIï¼Œå¯é€‰é¡¹</li><li>scopeï¼šè¡¨ç¤ºç”³è¯·çš„æƒé™èŒƒå›´ï¼Œå¯é€‰é¡¹</li><li>stateï¼šè¡¨ç¤ºå®¢æˆ·ç«¯çš„å½“å‰çŠ¶æ€ï¼Œå¯ä»¥æŒ‡å®šä»»æ„å€¼ï¼Œè®¤è¯æœåŠ¡å™¨ä¼šåŸå°ä¸åŠ¨åœ°è¿”å›è¿™ä¸ªå€¼ã€‚ï¼ˆç”¨äºé¢„é˜²CSRFæ”»å‡»ï¼‰</li></ul><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs http">GET /authorize?response_type=code&amp;client_id=s6BhdRkqt3&amp;state=xyz<br>        &amp;redirect_uri=https%3A%2F%2Fclient%2Eexample%2Ecom%2Fcb HTTP/1.1<br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>server.example.com<br></code></pre></td></tr></table></figure></blockquote><p>ï¼ˆCï¼‰æœåŠ¡å™¨å›åº”å®¢æˆ·ç«¯çš„URIï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li>codeï¼šè¡¨ç¤ºæˆæƒç ï¼Œå¿…é€‰é¡¹ã€‚è¯¥ç çš„æœ‰æ•ˆæœŸåº”è¯¥å¾ˆçŸ­ï¼Œé€šå¸¸è®¾ä¸º10åˆ†é’Ÿï¼Œå®¢æˆ·ç«¯åªèƒ½ä½¿ç”¨è¯¥ç ä¸€æ¬¡ï¼Œå¦åˆ™ä¼šè¢«æˆæƒæœåŠ¡å™¨æ‹’ç»ã€‚è¯¥ç ä¸å®¢æˆ·ç«¯IDå’Œé‡å®šå‘URIï¼Œæ˜¯ä¸€ä¸€å¯¹åº”å…³ç³»ã€‚</li><li>stateï¼šå¦‚æœå®¢æˆ·ç«¯çš„è¯·æ±‚ä¸­åŒ…å«è¿™ä¸ªå‚æ•°ï¼Œè®¤è¯æœåŠ¡å™¨çš„å›åº”ä¹Ÿå¿…é¡»ä¸€æ¨¡ä¸€æ ·åŒ…å«è¿™ä¸ªå‚æ•°ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">302</span> Found<br><span class="hljs-attribute">Location</span><span class="hljs-punctuation">: </span>https://client.example.com/cb?code=SplxlOBeZQQYbYS6WxSbIA<br>          &amp;state=xyz<br></code></pre></td></tr></table></figure></blockquote><p>Dæ­¥éª¤ä¸­ï¼Œå®¢æˆ·ç«¯å‘è®¤è¯æœåŠ¡å™¨ç”³è¯·ä»¤ç‰Œçš„HTTPè¯·æ±‚ï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li>grant_typeï¼šè¡¨ç¤ºä½¿ç”¨çš„æˆæƒæ¨¡å¼ï¼Œå¿…é€‰é¡¹ï¼Œæ­¤å¤„çš„å€¼å›ºå®šä¸ºâ€authorization_codeâ€ã€‚</li><li>codeï¼šè¡¨ç¤ºä¸Šä¸€æ­¥è·å¾—çš„æˆæƒç ï¼Œå¿…é€‰é¡¹ã€‚</li><li>redirect_uriï¼šè¡¨ç¤ºé‡å®šå‘URIï¼Œå¿…é€‰é¡¹ï¼Œä¸”å¿…é¡»ä¸Aæ­¥éª¤ä¸­çš„è¯¥å‚æ•°å€¼ä¿æŒä¸€è‡´ã€‚</li><li>client_idï¼šè¡¨ç¤ºå®¢æˆ·ç«¯IDï¼Œå¿…é€‰é¡¹ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-keyword">POST</span> <span class="hljs-string">/token</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Host</span><span class="hljs-punctuation">: </span>server.example.com<br><span class="hljs-attribute">Authorization</span><span class="hljs-punctuation">: </span>Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/x-www-form-urlencoded<br><br><span class="language-llvm">grant_type<span class="hljs-operator">=</span>authorization_code&amp;code<span class="hljs-operator">=</span>SplxlOBeZQQYbYS<span class="hljs-number">6</span>WxSbIA</span><br><span class="language-llvm">&amp;redirect_uri<span class="hljs-operator">=</span>https<span class="hljs-variable">%3</span>A<span class="hljs-variable">%2</span>F<span class="hljs-variable">%2</span>Fclient<span class="hljs-variable">%2</span>Eexample<span class="hljs-variable">%2</span>Ecom<span class="hljs-variable">%2</span>Fcb</span><br></code></pre></td></tr></table></figure></blockquote><p>Eæ­¥éª¤ä¸­ï¼Œè®¤è¯æœåŠ¡å™¨å‘é€çš„HTTPå›å¤ï¼ŒåŒ…å«ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li>access_tokenï¼šè¡¨ç¤ºè®¿é—®ä»¤ç‰Œï¼Œå¿…é€‰é¡¹ã€‚</li><li>token_typeï¼šè¡¨ç¤ºä»¤ç‰Œç±»å‹ï¼Œè¯¥å€¼å¤§å°å†™ä¸æ•æ„Ÿï¼Œå¿…é€‰é¡¹ï¼Œå¯ä»¥æ˜¯bearerç±»å‹æˆ–macç±»å‹ã€‚</li><li>expires_inï¼šè¡¨ç¤ºè¿‡æœŸæ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚å¦‚æœçœç•¥è¯¥å‚æ•°ï¼Œå¿…é¡»å…¶ä»–æ–¹å¼è®¾ç½®è¿‡æœŸæ—¶é—´ã€‚</li><li>refresh_tokenï¼šè¡¨ç¤ºæ›´æ–°ä»¤ç‰Œï¼Œç”¨æ¥è·å–ä¸‹ä¸€æ¬¡çš„è®¿é—®ä»¤ç‰Œï¼Œå¯é€‰é¡¹ã€‚å¦‚æœç”¨æˆ·è®¿é—®çš„æ—¶å€™ï¼Œå®¢æˆ·ç«¯çš„â€è®¿é—®ä»¤ç‰Œâ€å·²ç»è¿‡æœŸï¼Œåˆ™éœ€è¦ä½¿ç”¨â€æ›´æ–°ä»¤ç‰Œâ€ç”³è¯·ä¸€ä¸ªæ–°çš„è®¿é—®ä»¤ç‰Œã€‚</li><li>scopeï¼šè¡¨ç¤ºæƒé™èŒƒå›´ï¼Œå¦‚æœä¸å®¢æˆ·ç«¯ç”³è¯·çš„èŒƒå›´ä¸€è‡´ï¼Œæ­¤é¡¹å¯çœç•¥ã€‚</li></ul><p>ä¸‹é¢æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</p><blockquote><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs http"><span class="hljs-meta">HTTP/1.1</span> <span class="hljs-number">200</span> OK<br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/json;charset=UTF-8<br><span class="hljs-attribute">Cache-Control</span><span class="hljs-punctuation">: </span>no-store<br><span class="hljs-attribute">Pragma</span><span class="hljs-punctuation">: </span>no-cache<br><br><span class="language-json"><span class="hljs-punctuation">&#123;</span></span><br><span class="language-json">  <span class="hljs-attr">&quot;access_token&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;2YotnFZFEjr1zCsicMWpAA&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="language-json">  <span class="hljs-attr">&quot;token_type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;example&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="language-json">  <span class="hljs-attr">&quot;expires_in&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">3600</span><span class="hljs-punctuation">,</span></span><br><span class="language-json">  <span class="hljs-attr">&quot;refresh_token&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;tGzv3JOkF0XG5Qx2TlKWIA&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="language-json">  <span class="hljs-attr">&quot;example_parameter&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;example_value&quot;</span></span><br><span class="language-json"><span class="hljs-punctuation">&#125;</span></span><br></code></pre></td></tr></table></figure></blockquote><p>ä»ä¸Šé¢ä»£ç å¯ä»¥çœ‹åˆ°ï¼Œç›¸å…³å‚æ•°ä½¿ç”¨JSONæ ¼å¼å‘é€ï¼ˆContent-Type: application&#x2F;jsonï¼‰ã€‚æ­¤å¤–ï¼ŒHTTPå¤´ä¿¡æ¯ä¸­æ˜ç¡®æŒ‡å®šä¸å¾—ç¼“å­˜ã€‚</p><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><h3 id="è¾“å…¥ä¸€ä¸ª-url-åˆ°æµè§ˆå™¨å±•ç¤ºéƒ½ç»å†äº†å“ªäº›è¿‡ç¨‹"><a href="#è¾“å…¥ä¸€ä¸ª-url-åˆ°æµè§ˆå™¨å±•ç¤ºéƒ½ç»å†äº†å“ªäº›è¿‡ç¨‹" class="headerlink" title="è¾“å…¥ä¸€ä¸ª url åˆ°æµè§ˆå™¨å±•ç¤ºéƒ½ç»å†äº†å“ªäº›è¿‡ç¨‹"></a>è¾“å…¥ä¸€ä¸ª url åˆ°æµè§ˆå™¨å±•ç¤ºéƒ½ç»å†äº†å“ªäº›è¿‡ç¨‹</h3><ol><li><p>æµè§ˆå™¨æŸ¥çœ‹ç¼“å­˜</p><ul><li>å¼ºç¼“å­˜ï¼šå¦‚æœå·²ç¼“å­˜ä¸”è¶³å¤Ÿæ–°é²œï¼ˆExpires å’Œ Cache-Controlï¼‰ç›´æ¥æä¾›ç»™å®¢æˆ·ç«¯</li><li>åå•†ç¼“å­˜ï¼šå¦åˆ™ä¸æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ï¼ˆEtagå’ŒIf-Modifiedï¼‰</li></ul></li><li><p>DNSè§£æ</p><ul><li>åˆ†åˆ«æŸ¥çœ‹æµè§ˆå™¨ã€æœ¬æœºã€hostsã€è·¯ç”±ç¼“å­˜ã€ISPç¼“å­˜</li><li>æ²¡æœ‰çš„è¯åšDNSé€’å½’æŸ¥è¯¢</li></ul></li><li><p>TCP è¿æ¥ï¼ŒTCP ä¸‰æ¬¡æ¡æ‰‹</p><ol><li>åœ¨å®¢æˆ·ç«¯å‘é€æ•°æ®å‰ä¼šå‘èµ· TCP ä¸‰æ¬¡æ¡æ‰‹ç”¨ä»¥åŒæ­¥å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯çš„åºåˆ—å·å’Œç¡®è®¤å·ï¼Œå¹¶äº¤æ¢ TCP çª—å£çš„å¤§å°ä¿¡æ¯ã€‚<ul><li>å®¢æˆ·ç«¯å‘é€SYN&#x3D;1ï¼ŒSeq&#x3D;X</li><li>æœåŠ¡å™¨å‘é€SYN&#x3D;1ï¼ŒACK&#x3D;X+1ï¼ŒSeq&#x3D;Y</li><li>è¯¾åç«¯å‘é€ACK&#x3D;y+1ï¼ŒSeq&#x3D;Z</li></ul></li><li>ä¸‰æ¬¡æ¡æ‰‹çš„ç›®çš„æ˜¯ï¼šä¿è¯æœåŠ¡å™¨å’Œå®¢æˆ·ç«¯éƒ½ç»å†äº†ä¸€æ¬¡è¯·æ±‚å’Œä¸€æ¬¡å“åº”ï¼Œæ•°æ®èƒ½å¯é ä¼ è¾“ã€‚</li><li>ä¸ºäº†é˜²æ­¢å·²å¤±æ•ˆçš„è¿æ¥è¯·æ±‚æŠ¥æ–‡æ®µçªç„¶åˆä¼ é€åˆ°äº†æœåŠ¡ç«¯ï¼Œå› è€Œäº§ç”Ÿé”™è¯¯ã€‚</li></ol></li><li><p>å‘é€ HTTP è¯·æ±‚</p><ul><li>æœåŠ¡å™¨æ£€æŸ¥HTTPè¯·æ±‚å¤´æ˜¯å¦åŒ…å«ç¼“å­˜éªŒè¯ä¿¡æ¯å¦‚æœéªŒè¯ç¼“å­˜æ–°é²œï¼Œè¿”å›304ç­‰å¯¹åº”çŠ¶æ€ç </li></ul></li><li><p>æœåŠ¡å™¨å¤„ç†è¯·æ±‚å¹¶è¿”å› HTTP æŠ¥æ–‡</p></li><li><p>æµè§ˆå™¨è§£ææ¸²æŸ“é¡µé¢</p><ol><li>è§£æHTMLæ–‡æ¡£ï¼Œæ„å»ºDOMæ ‘<ul><li>ä»¤ç‰ŒåŒ–ï¼šæ ¹æ®HTMLè§„èŒƒ<strong>å°†å­—ç¬¦æµè§£æä¸ºæ ‡è®°æµ</strong></li><li>è¯æ³•åˆ†æï¼šå°†æ ‡è®°è½¬æ¢ä¸ºå¯¹è±¡ï¼Œå¹¶å®šä¹‰å±æ€§å’Œè§„åˆ™</li><li>æ„å»ºDOMï¼šæ ¹æ®HTMLæ ‡è®°å…³ç³»å°†å¯¹è±¡ç»„æˆDOMæ ‘</li></ul></li><li>è§£æCSSï¼Œæ„å»ºCSSOMæ ‘</li><li>æ ¹æ®DOMæ ‘å’ŒCSSOMæ ‘æ„å»ºæ¸²æŸ“æ ‘<ul><li>ä»DOMæ ‘æ ¹èŠ‚ç‚¹éå†æ‰€æœ‰å¯è§èŠ‚ç‚¹</li><li>å¯¹å¯è§èŠ‚ç‚¹ï¼Œåº”ç”¨ç›¸åº”çš„CSSOMè§„åˆ™</li><li>å‘å¸ƒå¯è§†èŠ‚ç‚¹çš„å†…å®¹å’Œè®¡ç®—æ ·å¼</li></ul></li><li>æ‰§è¡ŒJSè„šæœ¬</li></ol></li><li><p>æ–­å¼€è¿æ¥ï¼ŒTCP å››æ¬¡æŒ¥æ‰‹</p><ol><li>å…³é—­TCPè¿æ¥çš„è¿‡ç¨‹<ol><li>ä¸»åŠ¨â½…å‘é€Fin&#x3D;1ï¼Œ Ack&#x3D;Zï¼Œ Seq&#x3D; XæŠ¥â½‚</li></ol></li></ol></li><li><p>è¢«åŠ¨â½…å‘é€ACK&#x3D;X+1ï¼Œ Seq&#x3D;ZæŠ¥â½‚</p><ol start="3"><li>è¢«åŠ¨â½…å‘é€Fin&#x3D;1ï¼Œ ACK&#x3D;Xï¼Œ Seq&#x3D;YæŠ¥â½‚</li></ol></li><li><p>ä¸»åŠ¨â½…å‘é€ACK&#x3D;Yï¼Œ Seq&#x3D;XæŠ¥â½‚</p></li><li><p>ç›®çš„æ˜¯ï¼š</p><ul><li>å‰ä¸¤æ¬¡æŒ¥æ‰‹ï¼Œåªæ˜¯æ–­å¼€è¿æ¥è¿™ä»¶äº‹åšç¡®è®¤ï¼Œä½†å¹¶ä¸ä¼šç«‹å³è¡Œè¿™ä»¶äº‹<ul><li>ç¬¬ä¸‰æ¬¡æŒ¥æ‰‹å‰ï¼ŒæœåŠ¡å™¨ä¼šæŠŠè‡ªå·±æƒ³è¯´çš„è¯è¯´å®Œï¼Œç„¶åå†é€šçŸ¥ä¸€æ¬¡å®¢æˆ·ç«¯ã€‚</li><li>ç¬¬å››æ¬¡æŒ¥æ‰‹ï¼Œå®¢æˆ·ç«¯æ¥æ”¶å¹¶å“åº”æ¥è‡ªæœåŠ¡ç«¯çš„åˆ†æ‰‹è¯·æ±‚</li></ul></li></ul></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://chinese.freecodecamp.org/news/tcp-vs-udp-which-is-faster/">tcp vs udp</a></li><li><a href="https://juejin.cn/post/6844903958624878606">é¢è¯•å®˜ï¼Œä¸è¦å†é—®æˆ‘ä¸‰æ¬¡æ¡æ‰‹å’Œå››æ¬¡æŒ¥æ‰‹</a></li><li><a href="https://juejin.cn/post/6844903865410650126">é¢è¯•å®˜ï¼ˆ9ï¼‰ï¼šå¯èƒ½æ˜¯å…¨ç½‘æœ€å…¨çš„httpé¢è¯•ç­”æ¡ˆ</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CORS">MDN: CORS</a></li><li><a href="https://www.runoob.com/http/http-methods.html">èœé¸Ÿæ•™ç¨‹ï¼šHTTP Methods</a></li><li><a href="https://www.jdon.com/53766">HTTPæœ‰å“ªäº›ä¿è¯å¹‚ç­‰æ€§å’Œå®‰å…¨æ€§çš„æ–¹æ³•ï¼Ÿ - mscharhag</a></li><li><a href="https://www.runoob.com/http/http-status-codes.html">èœé¸Ÿæ•™ç¨‹ï¼šHTTP çŠ¶æ€ç </a></li><li><a href="https://segmentfault.com/a/1190000023110443">å‰åç«¯é‰´æƒäºŒä¸‰äº‹</a></li><li><a href="http://www.ruanyifeng.com/blog/2018/07/json_web_token-tutorial.html">JSON Web Token å…¥é—¨æ•™ç¨‹</a></li><li><a href="https://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html">ç†è§£OAuth 2.0</a></li><li><a href="https://segmentfault.com/a/1190000011145364">å‰ç«¯å¸¸è§è·¨åŸŸè§£å†³æ–¹æ¡ˆï¼ˆå…¨ï¼‰</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>Web</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>What is Aromanticism?</title>
    <link href="/2022/05/30/aromantic/"/>
    <url>/2022/05/30/aromantic/</url>
    
    <content type="html"><![CDATA[<h2 id="Sexual-Orientation-amp-Romantic-Orientation"><a href="#Sexual-Orientation-amp-Romantic-Orientation" class="headerlink" title="Sexual Orientation &amp; Romantic Orientation"></a>Sexual Orientation &amp; Romantic Orientation</h2><p>Most people are unfamiliar with the term â€œAromanticâ€.Â  Aromantic people, in brief, have little or no romantic attraction to others. You may be familiar with the term â€œAsexualâ€.Â  But itâ€™s different. Individuals who are asexual have little or no sexual attraction to others. Take a look at the illustration below:</p><p><img src="/img/aromantic-and-asexual.png" alt="Aromantic &amp; Asexual"></p><p>Youâ€™re probably smart enough to tell the difference. Itâ€™s actually the distinction between sexual and romantic orientations. Five distinct orientations are shown in the table below.</p><table><thead><tr><th>Descriptation</th><th>Sexual Orientation</th><th>Romantic Orientation</th></tr></thead><tbody><tr><td>Attracted to people of a different gender</td><td>Straight&#x2F;Heterosexual</td><td>Heteroromantic</td></tr><tr><td>Attracted to people of the same gender</td><td>Gay&#x2F;Lesbian&#x2F;Homosexual</td><td>Homoromantic</td></tr><tr><td>Attracted to more than one gender of people</td><td>Bisexual</td><td>Biromantic</td></tr><tr><td>Attracted to people of all genders&#x2F;regardless of gender</td><td>Pansexual</td><td>Panromantic</td></tr><tr><td>Attracted to people rarely, weakly, or not at all</td><td>Asexual</td><td>Aromantic</td></tr></tbody></table><h2 id="Characteristics-of-Aromanticism"><a href="#Characteristics-of-Aromanticism" class="headerlink" title="Characteristics of Aromanticism"></a>Characteristics of Aromanticism</h2><p>Some signs that you might be aromantic include:</p><ul><li>You donâ€™t experience feelings of romantic attraction.</li><li>You feel that you do not need a romantic relationship to feel complete or fulfilled.</li><li>You donâ€™t experience â€œcrushesâ€ or being â€œin loveâ€ with someone else.</li><li>You have a hard time relating to romantic stories.</li></ul><h2 id="Aromantic-Spectrum"><a href="#Aromantic-Spectrum" class="headerlink" title="Aromantic Spectrum"></a>Aromantic Spectrum</h2><p>Everyoneâ€™s experience is unique, so feelings about romance and relationships can vary greatly among aromantic people. Like other sexual orientations, Aromanticism is a spectrum. Different people have different level of ramantic attraction to others. The aromantic flag shows the spectrum:</p><p><img src="/img/aromantic-flag.jpg" alt="the meaning of the Aromantic flag"></p><ul><li>Gray - Gray-romantic: These terms refer to individuals who fall somewhere in the middle of aromantic and romantic. They may experience some romantic feelings but only under certain conditions.</li><li>Black - WTF-romantic: someone who finds romantic attraction confusing, or cannot differentiate between platonic and romantic attraction, or is unsure of whether they experience romantic attraction.</li></ul><h2 id="My-story-about-how-I-realized-Iâ€™m-aromantic"><a href="#My-story-about-how-I-realized-Iâ€™m-aromantic" class="headerlink" title="My story about how I realized Iâ€™m aromantic"></a>My story about how I realized Iâ€™m aromantic</h2><p>In my nation, most parents forbid their children from having a girlfriend or boyfriend. They believe that the most essential thing for their children at this age is to work hard and earn good grades so that they can attend the best universities. As a direct consequence, I rarely consider romantic relationships before going to college. For us, staying alone is the most normalÂ option.</p><p>When I was in college, my roommates would frequently discuss their crushes. I donâ€™t know how they could have a crush on others so simply. When people askedÂ me, â€œWhat would your perfect boyfriend look like?â€ I realizedÂ Iâ€™ve never imagined my ideal partnerâ€™s characteristics. In fact, I really enjoy romantic stories, but I donâ€™t think itâ€™ll ever happen to me. It will not be romantic if it occurs to me. It will be lengthy and tedious. </p><p>â€œBe single is pathetic.â€ they said, â€œWhen you ages, you will know what I mean.â€</p><p>I began to wonder why there are numerous festivals dedicated to lovers and why I am different from others. Then I came across the term Aromantic. After consulting the explanation, I was relieved to learn that the term â€œexplain who I amâ€ exists! I regain my confidence! I donâ€™t need a romantic relationship to feel fulfilled. </p><p>Iâ€™d want to clarify that being aromantic does not imply that we donâ€™t feel love or any romantic attractions. Under certain circumstances, I may feel romantic desires. But itâ€™s too short, and I donâ€™t think I want the romantic attraction to turn into a realÂ relationship.</p><h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><ol><li><a href="https://warwick.ac.uk/services/wss/topics/sexuality_and_coming_out/">Sexuality, Sexual and Romantic Orientation, and â€˜Coming Outâ€™</a></li><li><a href="https://www.verywellmind.com/what-does-it-mean-to-be-aromantic-5189571">What Does It Mean to Be Aromantic?</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>Notes of Living</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>English Learning Skills &amp; English Materials Recommendation</title>
    <link href="/2022/05/28/english-learning-skills/"/>
    <url>/2022/05/28/english-learning-skills/</url>
    
    <content type="html"><![CDATA[<p>For the past six months, Iâ€™ve been studying English in my spare time and have made significant progress. Though Iâ€™m not a fluent English speaker yet, I still want to share my thoughts in English and as for me, itâ€™s a good chance to practice my writing skills. So, in this article, Iâ€™ll share my English learning experiences in the hopes that it would be useful to you.</p><p>In the first part, Iâ€™ll talk about top 5 practical skills, and In the second part, Iâ€™ll introduce my favorite English materials.</p><h2 id="English-Learning-Skills"><a href="#English-Learning-Skills" class="headerlink" title="English Learning Skills"></a>English Learning Skills</h2><ol><li>stimulate your interest in English.</li><li>get used to the native English environment.</li><li>build up English mind.</li><li>try to create, not just accept.</li><li>be patient with yourself.</li></ol><h3 id="1-stimulate-your-interest-in-English"><a href="#1-stimulate-your-interest-in-English" class="headerlink" title="1.stimulate your interest in English."></a>1.stimulate your interest in English.</h3><p>The most important thing is to ignite your interest in the English language. If you read or listen to some English materials every day in your leisure time, you will spend far more time on English materials than you will in class, and you will make enormous progress without painstakingÂ effort!</p><p>Textbooks are so boring! Why not try some tv series or viedo games? For instance, I guess many people like watching tv series on Netflix or playing games on Steam. All you need to do is to keep your habit and switch the language to English. You may find it difficult to adjust at first, but after you do, youâ€™ll be so engrossed in the show that youâ€™ll forget youâ€™re watching it in English! Thatâ€™s the second thing Iâ€™d like to mention!</p><h3 id="2-get-used-to-the-native-English-environment"><a href="#2-get-used-to-the-native-English-environment" class="headerlink" title="2.get used to the native English environment."></a>2.get used to the native English environment.</h3><p>The English you learned in school is not the same as the English you will encounter in the real world. When communicating, people employ idioms or acronyms and donâ€™t care muchÂ about grammar. As a result, non-native speakersÂ may find it more difficult to comprehend.</p><p>I recommend this video on YouTube: <a href="https://www.youtube.com/watch?v=D6_qpaSxAQc&list=PLk_6yjq2hyTZw2nNE5HAi73Mwvq-x0fap&index=2&t=28s">Understand Native English Speakers with this Advanced Listening Lesson</a>.</p><p>It clarifies why native speakers are so difficult to understand. The most common blunder is focusing on words and attempting to translate them. For example, when we put two words together, the sounds often change. As a result, we should spend more time watching, listening, and acclimating to the original English environment.</p><h3 id="3-build-up-English-mind"><a href="#3-build-up-English-mind" class="headerlink" title="3.build up English mind."></a>3.build up English mind.</h3><p>Build up English mind means thinking in English, instead of translating every words! So How can I think in English? Refer to this viedo: <a href="https://www.youtube.com/watch?v=MdUkC7Vz3rg&list=PLdz6EbLJcjJ-CeRilbye_lWwqGhmc3qPP&index=4">5 Smart Ways to Improve your Speaking Skills</a>, there are two main steps:</p><p><strong>Step 1: only use words you already  know</strong></p><p>describe an image or just surroundings around you in English. First of all, you can describe it as simple words, then some phrases, eventually a sentence. And you should do this as a daily habit.</p><p>Tips: If you donâ€™t know the correct word, you just need to do:</p><ul><li>find a word round it</li><li>let the idea go</li></ul><p><strong>Step 2: practice with others.</strong> </p><p>Only in this way, you can know whether your English have been improved after the task of step 1.</p><h3 id="4-try-to-create-not-just-accept"><a href="#4-try-to-create-not-just-accept" class="headerlink" title="4.try to create, not just accept."></a>4.try to create, not just accept.</h3><p>When we say someone â€œspeaksâ€ a language fluently, we usually mean they are proficient in all four skills: listening, speaking, reading, and writing. IELTS (International English Language Testing System) assesses these four abilities.</p><p>But the most of time we accept the knowledge, andÂ rarely express what weâ€™ve learned. most of us perform poorly in speaking and writing. I propose that whenever we have the opportunity, such as in a presentation or an essay, we should endeavor to express ourselves in English.</p><h3 id="5-be-patient-with-yourself"><a href="#5-be-patient-with-yourself" class="headerlink" title="5.be patient with yourself."></a>5.be patient with yourself.</h3><p>Language learning is a long-term process. Nobody can gain English proficiency in a couple of months. Just be patient with yourself!</p><h2 id="Great-English-Materials"><a href="#Great-English-Materials" class="headerlink" title="Great English Materials"></a>Great English Materials</h2><p>Woo~! I eagerly want to share my favorite English materials with you guys! These make me love learning English!</p><h3 id="Video-Games"><a href="#Video-Games" class="headerlink" title="Video Games"></a>Video Games</h3><p>Language options, including subtitles and audio, would be available in most games. I strongly advise you to play games based on richÂ plots. I constantly pay attention to what the characters are saying in order to assist them in making the best decisions possible. When I played <em>Life Is Strange</em>, I was intrigued by the attractive plot and overwhelmed for the whole day! Iâ€™ve never read English material for such a long time. The LIS series is fantastic. LIS is my favorite. <em>Life Is Stranger:Before The Storm</em> and LIS2 are also excellent.</p><p><img src="/img/LIS.png" alt="Life Is Strange"></p><p><em>Life Is Strange</em>: It follows the exploits of 18-year old Max Caulfield, a high school senior who learns she has the power to rewind time when she saves her childhood friend, Chloe Price, from being killed.</p><p><img src="/img/LIS2.jpeg" alt="Life Is Strange2"></p><p><em>Life Is Strange2</em>: After a tragic incident, brothers Sean and Daniel Diaz run away from home. Fearing the police, and dealing with Danielâ€™s new telekinetic power, the boys head to Mexico. Each stop on their journey brings new friends and new challenges.</p><p><img src="/img/detriot.png" alt="Detriot: Become Human"></p><p>Detriot: Become Human depicts a fictional near-future story about a world where humans are served by lifelike androids. It has three storylines: Kara (Valorie Curry), who escapes her owner to explore her newfound sentience and protect a young girl; Connor (Bryan Dechart), whose job is to hunt down sentient androids; and Markus (Jesse Williams), who devotes himself to releasing other androids from servitude.</p><p>It has much more branches and endings than LIS. However, because there are many technical jargons, the terms are more challenging. Sometimes we must choose choices quickly within 30 seconds. It requires you a higher level ofÂ English comprehension.</p><p><img src="/img/a-plague-tale.png" alt="A Plague Tale: Innocence"></p><p><em>A Plague Tale: Innocence</em>: it features two young orphans on the run from the Inquisitio.</p><p>Itâ€™s a little bit scary with the dim atmosphere. I die a lot since I have no hand-eye coordination!</p><h3 id="TV-Series"><a href="#TV-Series" class="headerlink" title="TV Series"></a>TV Series</h3><p>I used to think that classic sitcoms were the greatest option. While I was watching <em>Friends</em>, I just couldnâ€™t follow their speaking speed! A sitcom is a genre of comedy focused on character dialogue. Many expressions may contain other implications, making them more difficult to comprehend.</p><p>All in all, I recommend you these TV Show Genres:</p><ul><li>Documentaries, Historical Fictions</li><li>Coming-of-age story, Romantic Fictions</li><li>Thriller, Horror</li></ul><p>They have a common ground: the plots are drived by vision, not speeches.</p><p><img src="/img/stranger-things.jpg" alt="Stranger Things"></p><p><em>Stranger Things</em>: In 1980s Indiana, a group of young friends witness supernatural forces and secret government exploits. As they search for answers, the children unravel a series of extraordinary mysteries.</p><p>Recently, Stranger Things 4 is coming! I like this TV series a lot. I think it suits everybody!</p><p><img src="/img/all-of-us-are-dead.png" alt="All Of Us Are Dead"></p><p><em>All Of Us Are Dead</em>: It depicts how trapped students escape their high school which has become ground zero for a zombie virus outbreak.</p><p>Itâ€™s a Korean horror TV show, and you can choose the English audio and subtitle. I have an amazing discovery that it would be easier to understand if the main characters are teenagers or children!</p><h3 id="Books"><a href="#Books" class="headerlink" title="Books"></a>Books</h3><p>I believe the key to reading is your interests. So if you arenâ€™t obsessed with classical books, just read some popular novels. Personally, I adore reading fan-fiction stories on AO3. I also enjoy male&#x2F;male romantic stories which are kind of guilty pleasure for me. (haha</p><p>I highly recommend this reading App. It helps me a lot. You can download it here: <a href="https://apps.apple.com/id/app/tingyue-for-english-learners/id645926554">App Store: tingyue for english learners</a>. TYReader is an app for improving your English skills via reading novels. It can highlight the difficult words in the left section and show their meaning in the right section.</p><p><img src="/img/tingyue-reader.png" alt="TingYue Reader"></p><h3 id="Podcasts"><a href="#Podcasts" class="headerlink" title="Podcasts"></a>Podcasts</h3><p>My ability to listen in English is inadequate. Iâ€™m trying to improve it by listening to slower-paced podcasts. The following is the list that I prefer:</p><ol><li><a href="https://open.spotify.com/show/4Ek2MUWDh5ZdiSY9UOuWXG?si=46436e57e5b44010">Spotlight English</a></li><li><a href="https://www.bbc.co.uk/learningenglish/oromo/features/6-minute-english">BBC: 6-minute English</a></li><li><a href="https://www.bbc.co.uk/learningenglish">BBC: Learning English</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>Notes of Living</category>
      
    </categories>
    
    
    <tags>
      
      <tag>English</tag>
      
      <tag>English Learning</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆäº”ï¼‰ï¼šDOM &amp; BOM</title>
    <link href="/2022/05/12/front-end-interview-preparation-5/"/>
    <url>/2022/05/12/front-end-interview-preparation-5/</url>
    
    <content type="html"><![CDATA[<p>JavaScript ç”±ä¸‹é¢ä¸‰éƒ¨åˆ†ç»„æˆï¼š</p><ul><li>ECMAScriptï¼ˆES5ï¼‰ï¼šæè¿°äº† JS çš„è¯­æ³•å’ŒåŸºæœ¬å¯¹è±¡</li><li>æ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆDOMï¼‰ï¼šå¤„ç†ç½‘é¡µå†…å®¹çš„æ–¹æ³•å’Œæ¥å£</li><li>æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆBOMï¼‰ï¼šä¸æµè§ˆå™¨äº¤äº’çš„æ–¹æ³•å’Œæ¥å£</li></ul><p>DOM å’Œ BOM å°±æ˜¯æœ¬ç« è¦é‡ç‚¹ä»‹ç»çš„å†…å®¹ã€‚</p><p><img src="/img/front-end-interview-preparation/DOM-outline.png" alt="DOM å¤§çº²"></p><h2 id="DOM-èŠ‚ç‚¹"><a href="#DOM-èŠ‚ç‚¹" class="headerlink" title="DOM èŠ‚ç‚¹"></a>DOM èŠ‚ç‚¹</h2><p>æ ¹æ® W3C çš„ HTML DOM æ ‡å‡†ï¼ŒHTML æ–‡æ¡£ä¸­çš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯èŠ‚ç‚¹ï¼š</p><ul><li>æ•´ä¸ªæ–‡æ¡£æ˜¯ä¸€ä¸ªæ–‡æ¡£èŠ‚ç‚¹</li><li>æ¯ä¸ª HTML å…ƒç´ æ˜¯å…ƒç´ èŠ‚ç‚¹</li><li>HTML å…ƒç´ å†…çš„æ–‡æœ¬æ˜¯æ–‡æœ¬èŠ‚ç‚¹</li><li>æ¯ä¸ª HTML å±æ€§æ˜¯å±æ€§èŠ‚ç‚¹</li><li>æ³¨é‡Šæ˜¯æ³¨é‡ŠèŠ‚ç‚¹</li></ul><p>DOM å°† HTML æ–‡æ¡£è§†ä½œæ ‘ç»“æ„ã€‚è¿™ç§ç»“æ„è¢«ç§°ä¸ºèŠ‚ç‚¹æ ‘ï¼š<br><img src="/img/front-end-interview-preparation/dom-tree.png" alt="Dom èŠ‚ç‚¹æ ‘"></p><h2 id="DOM-æ–¹æ³•å’Œå±æ€§"><a href="#DOM-æ–¹æ³•å’Œå±æ€§" class="headerlink" title="DOM æ–¹æ³•å’Œå±æ€§"></a>DOM æ–¹æ³•å’Œå±æ€§</h2><p>DOM æ–¹æ³•æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨èŠ‚ç‚¹ï¼ˆHTML å…ƒç´ ï¼‰ä¸Šæ‰§è¡Œçš„åŠ¨ä½œã€‚<br>DOM å±æ€§æ˜¯æˆ‘ä»¬å¯ä»¥åœ¨èŠ‚ç‚¹ï¼ˆHTML å…ƒç´ ï¼‰è®¾ç½®å’Œä¿®æ”¹çš„å€¼ã€‚</p><p>ä¸€äº›å¸¸ç”¨çš„ HTML DOM æ–¹æ³•ï¼š</p><ul><li>æŸ¥æ‰¾èŠ‚ç‚¹ï¼š<code>getElementById</code>ã€<code>getElementsByTagName</code>ã€<code>getElementsByClassName</code>ã€<code>querySelectorAll</code></li><li>åˆ›å»ºèŠ‚ç‚¹ï¼š<code>createAttribute</code>ã€<code>createElement</code>ã€<code>createTextNode</code></li><li>æ’å…¥èŠ‚ç‚¹ï¼š<code>appendChild</code>ã€<code>insertBefore</code></li><li>åˆ é™¤èŠ‚ç‚¹ï¼š<code>removeChild</code></li><li>ä¿®æ”¹èŠ‚ç‚¹ï¼š<code>replaceChild</code></li></ul><p>ä¸€äº›å¸¸ç”¨çš„ HTML DOM å±æ€§ï¼š</p><ul><li><code>parentNode</code> - èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</li><li><code>childNodes</code> - èŠ‚ç‚¹çš„å­èŠ‚ç‚¹</li><li><code>innerHTML</code> - èŠ‚ç‚¹çš„æ–‡æœ¬å€¼</li><li><code>nodeValue</code> - èŠ‚ç‚¹çš„å€¼</li><li><code>nodeType</code> - èŠ‚ç‚¹çš„ç±»å‹ï¼ˆå…ƒç´  1ï¼›å±æ€§ 2ï¼›æ–‡æœ¬ 3ï¼›æ³¨é‡Š 8ï¼›æ–‡æ¡£ 9ï¼‰</li><li><code>nodeName</code> - èŠ‚ç‚¹çš„åç§°</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼Œæ·»åŠ ä¸€ä¸ªå…ƒç´ ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></div></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;div1&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p1&quot;</span>&gt;</span>è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;p2&quot;</span>&gt;</span>è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> para = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;p&quot;</span>);</span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> node = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createTextNode</span>(<span class="hljs-string">&quot;è¿™æ˜¯ä¸€ä¸ªæ–°æ®µè½ã€‚&quot;</span>);</span><br><span class="language-javascript">  para.<span class="hljs-title function_">appendChild</span>(node);</span><br><span class="language-javascript">  <span class="hljs-keyword">var</span> div1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;div1&quot;</span>);</span><br><span class="language-javascript">  div1.<span class="hljs-title function_">appendChild</span>(para);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><h2 id="DOM-äº‹ä»¶ä½“ç³»"><a href="#DOM-äº‹ä»¶ä½“ç³»" class="headerlink" title="DOM äº‹ä»¶ä½“ç³»"></a>DOM äº‹ä»¶ä½“ç³»</h2><h3 id="DOM-äº‹ä»¶æœºåˆ¶"><a href="#DOM-äº‹ä»¶æœºåˆ¶" class="headerlink" title="DOM äº‹ä»¶æœºåˆ¶"></a>DOM äº‹ä»¶æœºåˆ¶</h3><ul><li>DOM0ï¼š<code>el.onClick = function()&#123;&#125;</code></li><li>DOM2ï¼š<code>el.addEventListener(event-name, callback, useCapture)</code>ï¼š<code>useCapture</code>é»˜è®¤ä¸º falseï¼Œå³åœ¨è®©äº‹ä»¶åœ¨å†’æ³¡ä¼ æ’­æ—¶æ‰§è¡Œï¼Œä¸º true åˆ™ä»£è¡¨åœ¨æ•è·é˜¶æ®µæ‰§è¡Œ</li><li>DOM3ï¼šåœ¨ DOM 2 çº§äº‹ä»¶çš„åŸºç¡€ä¸Šæ·»åŠ äº†æ›´å¤šçš„äº‹ä»¶ç±»å‹<ul><li>UI äº‹ä»¶ï¼Œå½“ç”¨æˆ·ä¸é¡µé¢ä¸Šçš„å…ƒç´ äº¤äº’æ—¶è§¦å‘ï¼Œå¦‚ï¼šloadã€scroll</li><li>ç„¦ç‚¹äº‹ä»¶ï¼Œå½“å…ƒç´ è·å¾—æˆ–å¤±å»ç„¦ç‚¹æ—¶è§¦å‘ï¼Œå¦‚ï¼šblurã€focus</li><li>é¼ æ ‡äº‹ä»¶ï¼Œå½“ç”¨æˆ·é€šè¿‡é¼ æ ‡åœ¨é¡µé¢æ‰§è¡Œæ“ä½œæ—¶è§¦å‘å¦‚ï¼šdblclickã€mouseup</li><li>â€¦ï¼ˆçœç•¥æ›´å¤šäº‹ä»¶ï¼‰ï¼ŒåŒæ—¶ DOM3 çº§äº‹ä»¶ä¹Ÿå…è®¸ä½¿ç”¨è€…è‡ªå®šä¹‰ä¸€äº›äº‹ä»¶ã€‚</li></ul></li></ul><p>ï¼ˆDOM çº§åˆ«ä¸€å…±å¯ä»¥åˆ†ä¸ºå››ä¸ªçº§åˆ«ï¼šDOM0 çº§ã€DOM1 çº§ã€DOM2 çº§å’Œ DOM3 çº§ã€‚ç”±äº DOM 1 çº§ä¸­æ²¡æœ‰äº‹ä»¶çš„ç›¸å…³å†…å®¹ï¼Œæ‰€ä»¥æ²¡æœ‰ DOM 1 çº§äº‹ä»¶ã€‚ï¼‰</p><h3 id="DOM-çº§åˆ«"><a href="#DOM-çº§åˆ«" class="headerlink" title="DOM çº§åˆ«"></a>DOM çº§åˆ«</h3><p>DOM æ˜¯ç”¨æ¥è®¿é—®æˆ–æ“ä½œ HTML æ–‡æ¡£ã€XHTML æ–‡æ¡£ã€XML æ–‡æ¡£ä¸­çš„èŠ‚ç‚¹å…ƒç´ ã€‚<br>ç°åœ¨åŸºæœ¬ä¸Šæ‰€æœ‰çš„æµè§ˆå™¨éƒ½éƒ½æ‰§è¡Œäº† W3C å‘å¸ƒçš„ DOM è§„èŒƒï¼Œæ‰€ä»¥åœ¨æµè§ˆå™¨ä¸Šå°±å¯ä»¥ç”¨ DOM çš„è¿™äº› APIã€‚</p><ul><li>DOM0ï¼šä¸æ˜¯ W3C è§„èŒƒã€‚</li><li>DOM1ï¼šå¼€å§‹æ˜¯ W3C è§„èŒƒã€‚ä¸“æ³¨äº HTML æ–‡æ¡£å’Œ XML æ–‡æ¡£ã€‚</li><li>DOM2ï¼šå¯¹ DOM1 å¢åŠ äº†æ ·å¼è¡¨å¯¹è±¡æ¨¡å‹</li><li>DOM3ï¼šå¯¹ DOM2 å¢åŠ äº†å†…å®¹æ¨¡å‹ (DTD ã€Schemas) å’Œæ–‡æ¡£éªŒè¯ã€‚</li></ul><h3 id="äº‹ä»¶å¯¹è±¡-Event"><a href="#äº‹ä»¶å¯¹è±¡-Event" class="headerlink" title="äº‹ä»¶å¯¹è±¡ Event"></a>äº‹ä»¶å¯¹è±¡ Event</h3><p>äº‹ä»¶å¯¹è±¡ï¼Œå½“å…ƒç´ çš„æŸä¸ªäº‹ä»¶è¡Œä¸ºè¢«è§¦å‘ï¼Œä¸ä»…ä¼šæŠŠä¹‹å‰ç»‘å®šçš„æ–¹æ³•æ‰§è¡Œï¼Œè¿˜ä¼šç»™ç»‘å®šçš„æ–¹æ³•ä¼ é€’ä¸€ä¸ªå€¼ï¼ˆæµè§ˆå™¨é»˜è®¤ä¼ é€’çš„ï¼‰ã€‚è¿™ä¸ªå€¼æ˜¯ä¸ªå¯¹è±¡ç±»å‹çš„å€¼ï¼Œé‡Œé¢å­˜å‚¨äº†å¾ˆå¤šçš„å±æ€§å’Œæ–¹æ³•ã€‚</p><ul><li><code>currentTarget</code>ï¼šäº‹ä»¶æ­£åœ¨ç»è¿‡å“ªä¸ªå…ƒç´ ï¼Œå³äº‹ä»¶ç»‘å®šçš„å…ƒç´ </li><li><code>target</code>ï¼šè§¦å‘äº‹ä»¶çš„å…·ä½“ç›®æ ‡</li><li><code>preventDefault()</code>ï¼šé˜»æ­¢é»˜è®¤è¡Œä¸º</li><li><code>stopPropagation()</code>ï¼šé˜»æ­¢äº‹ä»¶å†’æ³¡</li></ul><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;outer&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;inner&quot;</span>&gt;</span>Click Me!<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&#x27;outer&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;target:&#x27;</span>, event.<span class="hljs-property">target</span>.<span class="hljs-property">id</span>);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;currentTarget:&#x27;</span>, event.<span class="hljs-property">currentTarget</span>.<span class="hljs-property">id</span>);<br>&#125;);<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œå½“ä½ ç‚¹å‡» inner å…ƒç´ æ—¶ï¼Œæ§åˆ¶å°å°†ä¼šæ‰“å°ï¼š</p><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs awk">target: inner <span class="hljs-regexp">//</span> å®é™…è§¦å‘äº‹ä»¶çš„å…ƒç´ <br>currentTarget: outer <span class="hljs-regexp">//</span> ç»‘å®šäº‹ä»¶çš„å…ƒç´ <br></code></pre></td></tr></table></figure><h3 id="DOM-äº‹ä»¶æµ"><a href="#DOM-äº‹ä»¶æµ" class="headerlink" title="DOM äº‹ä»¶æµ"></a>DOM äº‹ä»¶æµ</h3><ol><li>äº‹ä»¶æ•è·é˜¶æ®µï¼šè‡ªä¸Šè€Œä¸‹å‘ç›®æ ‡èŠ‚ç‚¹ä¼ æ’­</li><li>ç›®æ ‡é˜¶æ®µ</li><li>äº‹ä»¶å†’æ³¡é˜¶æ®µï¼š<ul><li>è‡ªä¸‹è€Œä¸Šå‘ window å¯¹è±¡ï¼›</li><li>éƒ¨åˆ†äº‹ä»¶ä¸æ”¯æŒå†’æ³¡ï¼šUI äº‹ä»¶ã€ç„¦ç‚¹äº‹ä»¶ã€é¼ æ ‡äº‹ä»¶ã€‚</li></ul></li></ol><p><img src="/img/front-end-interview-preparation/dom-event-propagation-mechanism.png" alt="dom äº‹ä»¶ä¼ æ’­æœºåˆ¶"></p><h3 id="äº‹ä»¶å§”æ‰˜"><a href="#äº‹ä»¶å§”æ‰˜" class="headerlink" title="äº‹ä»¶å§”æ‰˜"></a>äº‹ä»¶å§”æ‰˜</h3><p>äº‹ä»¶ä»£ç†æ˜¯æŒ‡å¤šä¸ªå­å…ƒç´ çš„åŒä¸€ç±»å‹çš„ç›‘å¬é€»è¾‘ï¼Œåˆå¹¶åˆ°çˆ¶å…ƒç´ ä¸Šé€šè¿‡ä¸€ä¸ªç›‘å¬å‡½æ•°æ¥ç®¡ç†ã€‚ä¸»è¦ä¼˜åŠ¿æ˜¯å‡å°‘å†…å­˜æ¶ˆè€—ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>item 1<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>item 2<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>item 3<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>  <span class="hljs-comment">&lt;!-- ... --&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item&quot;</span>&gt;</span>item n<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;list&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> target = e.<span class="hljs-property">target</span>;</span><br><span class="language-javascript">    <span class="hljs-keyword">if</span> (target.<span class="hljs-property">className</span> === <span class="hljs-string">&quot;item&quot;</span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;the content is: &quot;</span>, target.<span class="hljs-property">innerHTML</span>);</span><br><span class="language-javascript">      <span class="hljs-comment">// ...äº‹ä»¶å¤„ç†</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure><p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œå‡è®¾æœ‰ nï¼ˆn å¾ˆå¤§ï¼‰ä¸ªåˆ—è¡¨é¡¹ï¼Œé‡‡å–äº‹ä»¶å§”æ‰˜çš„æ–¹å¼ï¼Œåªéœ€è¦åœ¨çˆ¶å…ƒç´ ä¸Šç»‘å®šç›‘å¬äº‹ä»¶å‡½æ•°ï¼Œå†…å­˜æ¶ˆè€—å°å¾ˆå¤šã€‚</p><h3 id="è‡ªå®šä¹‰äº‹ä»¶"><a href="#è‡ªå®šä¹‰äº‹ä»¶" class="headerlink" title="è‡ªå®šä¹‰äº‹ä»¶"></a>è‡ªå®šä¹‰äº‹ä»¶</h3><p>åˆ›å»ºè‡ªå®šä¹‰äº‹ä»¶ï¼š<code>event = new CustomEvent(typeArg, customEventInit);</code></p><ul><li><code>typeArg</code> äº‹ä»¶å</li><li><code>customEventInit</code> äº‹ä»¶è®¾ç½®<ul><li><code>detail</code> æ˜¯ä¸€ä¸ªä¸ event ç›¸å…³çš„å€¼ï¼Œå¯¹è±¡</li><li><code>bubbles</code> ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶èƒ½å¦å†’æ³¡ã€‚</li><li><code>cancelable</code> ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºè¯¥äº‹ä»¶æ˜¯å¦å¯ä»¥å–æ¶ˆ</li></ul></li></ul><p>è§¦å‘äº‹ä»¶ï¼š<code>dispatchEvent(event)</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> custom = <span class="hljs-keyword">new</span> <span class="hljs-title class_">CustomEvent</span>(<span class="hljs-string">&quot;test_event&quot;</span>, &#123;<br>  <span class="hljs-attr">detail</span>: &#123; <span class="hljs-attr">e_name</span>: <span class="hljs-string">&quot; this is a test &quot;</span> &#125;,<br>&#125;);<br><span class="hljs-comment">// æŸä¸ªdomå…ƒç´ ç›‘å¬è‡ªå®šä¹‰äº‹ä»¶</span><br><span class="hljs-keyword">let</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);<br>div.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;test_event&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">detail</span>.<span class="hljs-property">e_name</span>);<br>&#125;);<br><span class="hljs-comment">// è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼ˆdispatchEvent é™¤éäº‹ä»¶çš„å‚æ•°æ˜¯å¿…å¡«é¡¹ï¼Œåˆ‡å¿…é¡»ä¸ºäº‹ä»¶å¯¹è±¡ï¼‰</span><br>div.<span class="hljs-title function_">dispatchEvent</span>(custom); <span class="hljs-comment">// this is a test</span><br></code></pre></td></tr></table></figure><h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>æµè§ˆå™¨å¯¹è±¡æ¨¡å‹ï¼ˆBrowser Object Model (BOM)ï¼‰å°šæ— æ­£å¼æ ‡å‡†ã€‚</p><p>ç”±äºç°ä»£æµè§ˆå™¨å·²ç»ï¼ˆå‡ ä¹ï¼‰å®ç°äº† JavaScript äº¤äº’æ€§æ–¹é¢çš„ç›¸åŒæ–¹æ³•å’Œå±æ€§ï¼Œå› æ­¤å¸¸è¢«è®¤ä¸ºæ˜¯ BOM çš„æ–¹æ³•å’Œå±æ€§ã€‚</p><h3 id="Window-å¯¹è±¡"><a href="#Window-å¯¹è±¡" class="headerlink" title="Window å¯¹è±¡"></a>Window å¯¹è±¡</h3><p>æ‰€æœ‰æµè§ˆå™¨éƒ½æ”¯æŒ window å¯¹è±¡ã€‚å®ƒè¡¨ç¤ºæµè§ˆå™¨çª—å£ã€‚æ‰€æœ‰ JavaScript å…¨å±€å¯¹è±¡ã€å‡½æ•°ä»¥åŠå˜é‡å‡è‡ªåŠ¨æˆä¸º window å¯¹è±¡çš„æˆå‘˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-variable language_">window</span>.<span class="hljs-property">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;header&quot;</span>);<br><span class="hljs-comment">// ä¸ä¸Šé¢ç›¸åŒ</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;header&quot;</span>);<br></code></pre></td></tr></table></figure><h3 id="Window-å°ºå¯¸"><a href="#Window-å°ºå¯¸" class="headerlink" title="Window å°ºå¯¸"></a>Window å°ºå¯¸</h3><p>å¦‚ä½•è·å¾—æµè§ˆå™¨çš„å°ºå¯¸ï¼Ÿ</p><p>å…¼å®¹çš„ JavaScript æ–¹æ¡ˆï¼ˆæ¶µç›–æ‰€æœ‰æµè§ˆå™¨ï¼ŒåŒ…å« IE8 åŠä»¥ä¸‹ç‰ˆæœ¬çš„æµè§ˆå™¨ï¼‰ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// æµè§ˆå™¨å®½åº¦</span><br><span class="hljs-keyword">var</span> w=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerWidth</span><br>|| <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientWidth</span><br>|| <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">clientWidth</span>;<br><span class="hljs-comment">// æµè§ˆå™¨é«˜åº¦</span><br><span class="hljs-keyword">var</span> h=<span class="hljs-variable language_">window</span>.<span class="hljs-property">innerHeight</span><br>|| <span class="hljs-variable language_">document</span>.<span class="hljs-property">documentElement</span>.<span class="hljs-property">clientHeight</span><br>|| <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-property">clientHeight</span>;<br></code></pre></td></tr></table></figure><h3 id="å¦‚ä½•è®°å¿†å„ç§å°ºå¯¸ï¼Ÿ"><a href="#å¦‚ä½•è®°å¿†å„ç§å°ºå¯¸ï¼Ÿ" class="headerlink" title="å¦‚ä½•è®°å¿†å„ç§å°ºå¯¸ï¼Ÿ"></a>å¦‚ä½•è®°å¿†å„ç§å°ºå¯¸ï¼Ÿ</h3><p>ç½‘ç»œä¸Šå¹¿ä¸ºæµä¼ çš„è¿™å¼ å›¾å¯è°“æ˜¯çœ¼èŠ±ç¼­ä¹±ã€‚åŸæœ¬æˆ‘ä»¥ä¸ºè‡ªå·±å·²ç»å®Œå…¨æŒæ¡äº†ã€‚å¯æ¯æ¬¡å†™ä»£ç æ—¶è¿˜æ€»æœ‰ä¸ç¡®å®šçš„ï¼Œç»å¸¸éœ€è¦æŠŠä¸‹å›¾æ‹¿å‡ºæ¥å†ä¸‰ç¡®è®¤ã€‚è¿™ä¸€æ¬¡æˆ‘å°±å¥½å¥½æ¢³ç†ä¸€ä¸‹ä»–ä»¬ä¹‹é—´çš„å…³ç³»ï¼š</p><p><img src="/img/front-end-interview-preparation/bom-offsetTop.jpg" alt="ç¤ºæ„å›¾"></p><p>åˆ†æä¸Šå›¾ï¼Œè·ç¦»å±æ€§ä¸€å…±æœ‰ä¸¤ä¸ªç»´åº¦ï¼š</p><ul><li>ç±»å‹ï¼šclient ã€ offsetã€scroll</li><li>å±æ€§ï¼š<ul><li>ä½ç½®ï¼štopã€left</li><li>å¤§å°ï¼šwidthã€height</li></ul></li></ul><p>ä¸¤ä¸ªæ‹¼åœ¨ä¸€èµ·ï¼Œå°±ç»„æˆä¸€ä¸ªå®Œæ•´çš„è·ç¦»å±æ€§ã€‚</p><table><thead><tr><th>ç±»å‹</th><th>ä½ç½®ï¼ˆtopã€leftï¼‰</th><th>å¤§å°ï¼ˆwidthã€heightï¼‰</th></tr></thead><tbody><tr><td>client</td><td>borderçš„è·ç¦»</td><td>client</td></tr><tr><td>offset</td><td>å…ƒç´ ç›¸å¯¹äº offsetParent è¾¹ç•Œæ¡†çš„è·ç¦»</td><td>client(+border+æ»šåŠ¨æ¡)</td></tr><tr><td>scroll</td><td>border+ä¸å¯è§æ»šåŠ¨åŒºåŸŸ</td><td>offset(+ä¸å¯è§æ»šåŠ¨åŒºåŸŸ)</td></tr><tr><td>å¤‡æ³¨</td><td>&#x2F;</td><td>client &lt; offset &lt; scroll</td></tr></tbody></table><p>ä¸‹å›¾æ˜¯æ›´ä¸ºç²¾ç®€çš„ç¤ºæ„å›¾ï¼š</p><p><img src="/img/front-end-interview-preparation/bom-offsetTop2.jpg" alt="ç¤ºæ„å›¾"></p><p>æœ€å¸¸ç”¨çš„æ˜¯ä»¥ä¸‹ä¸¤ä¸ªï¼š<br>scrollTopï¼šè·ç¦»é¡¶éƒ¨çš„æ»šåŠ¨è·ç¦»<br>clientHeightï¼šå¯è§†åŒºåŸŸçš„é«˜åº¦</p><p><img src="/img/front-end-interview-preparation/bom-scrolltop.png" alt="ç¤ºæ„å›¾"></p><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><h3 id="document-ready-å’Œ-onload-çš„åŒºåˆ«"><a href="#document-ready-å’Œ-onload-çš„åŒºåˆ«" class="headerlink" title="document.ready å’Œ onload çš„åŒºåˆ«"></a>document.ready å’Œ onload çš„åŒºåˆ«</h3><ol><li><code>document.ready</code>ï¼š<ul><li>åœ¨ DOM åŠ è½½å®Œæˆåå°±å¯ä»¥å¯ä»¥å¯¹ DOM è¿›è¡Œæ“ä½œã€‚</li><li>å¯ä»¥å†™å¤šä¸ª.readyï¼Œå¯ä»¥æ‰§è¡Œå¤šæ¬¡</li><li>æ‰§è¡Œæ›´å¿«</li></ul></li><li><code>document.onload</code>ï¼š<ul><li>åœ¨ document æ–‡æ¡£åŠ è½½å®Œæˆåå°±å¯ä»¥å¯ä»¥å¯¹ DOM è¿›è¡Œæ“ä½œï¼Œdocument æ–‡æ¡£åŒ…æ‹¬äº†<strong>åŠ è½½å›¾ç‰‡</strong>ç­‰å…¶ä»–ä¿¡æ¯ã€‚</li><li>åªèƒ½æ‰§è¡Œä¸€æ¬¡</li><li>è¦ç­‰å¾…å›¾ç‰‡åŠ è½½ï¼Œæ‰§è¡Œæ›´æ…¢</li></ul></li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CustomEvent">MDNï¼šè‡ªå®šä¹‰äº‹ä»¶</a></li><li><a href="https://www.runoob.com/htmldom/htmldom-tutorial.html">èœé¸Ÿæ•™ç¨‹ï¼šDOM</a></li><li><a href="https://www.runoob.com/js/js-window.html">èœé¸Ÿæ•™ç¨‹ï¼šBOM</a></li><li><a href="https://www.cnblogs.com/gagarinwjj/p/conflict_client_offset_scroll.html">ä»¤äººå¤´ç–¼çš„ clientTopã€scrollTopã€offsetTop</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>DOM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆå››ï¼‰ï¼šES6 &amp; å¼‚æ­¥</title>
    <link href="/2022/05/08/front-end-interview-preparation-4/"/>
    <url>/2022/05/08/front-end-interview-preparation-4/</url>
    
    <content type="html"><![CDATA[<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6+"></a>ES6+</h2><p>ECMAScript5ï¼Œå³ ES5ï¼Œæ˜¯ ECMAScript çš„ç¬¬äº”æ¬¡ä¿®è®¢ï¼Œäº 2009 å¹´å®Œæˆæ ‡å‡†åŒ–ã€‚<br>ECMAScript6ï¼Œå³ ES6ï¼Œæ˜¯ ECMAScript çš„ç¬¬å…­æ¬¡ä¿®è®¢ï¼Œäº 2015 å¹´å®Œæˆï¼Œä¹Ÿç§° ES2015ã€‚ES6 æ˜¯ç»§ ES5 ä¹‹åçš„ä¸€æ¬¡æ”¹è¿›ï¼Œç›¸å¯¹äº ES5 æ›´åŠ ç®€æ´ï¼Œæé«˜äº†å¼€å‘æ•ˆç‡ã€‚è‡³æ­¤ä¹‹åï¼Œæ¯ä¸€å¹´éƒ½ä¼šå‡ºæ–°ç‰ˆæœ¬ï¼Œå¦‚ ES7ï¼ˆES2016ï¼‰ã€ES8ï¼ˆES2017ï¼‰ä»¥æ­¤ç±»æ¨ã€‚</p><p><img src="/img/front-end-interview-preparation/ES6-outline.png" alt="ES6+å¤§çº²"></p><h3 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol"></a>Symbol</h3><p>ES6 å¼•å…¥äº†ä¸€ç§æ–°çš„åŸå§‹æ•°æ®ç±»å‹ Symbol ï¼Œè¡¨ç¤ºç‹¬ä¸€æ— äºŒçš„å€¼ï¼Œæœ€å¤§çš„ç”¨æ³•æ˜¯ç”¨æ¥å®šä¹‰å¯¹è±¡çš„å”¯ä¸€å±æ€§åã€‚</p><p>Symbol å‡½æ•°æ ˆä¸èƒ½ç”¨ new å‘½ä»¤ï¼Œå› ä¸º Symbol æ˜¯åŸå§‹æ•°æ®ç±»å‹ï¼Œä¸æ˜¯å¯¹è±¡ã€‚å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œä¸ºæ–°åˆ›å»ºçš„ Symbol æä¾›æè¿°ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></div></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> sy1 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;KK&quot;</span>);<br><span class="hljs-keyword">let</span> sy2 = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;kk&quot;</span>);<br>sy1 === sy2;       <span class="hljs-comment">// falseï¼Œç›¸åŒå‚æ•° Symbol() è¿”å›çš„å€¼ä¸ç›¸ç­‰</span><br></code></pre></td></tr></table></figure><h4 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h4><p>ç”±äºæ¯ä¸€ä¸ª Symbol çš„å€¼éƒ½æ˜¯ä¸ç›¸ç­‰çš„ï¼Œæ‰€ä»¥ Symbol ä½œä¸ºå¯¹è±¡çš„å±æ€§åï¼Œå¯ä»¥ä¿è¯å±æ€§ä¸é‡åã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> sy = <span class="hljs-title class_">Symbol</span>(<span class="hljs-string">&quot;key1&quot;</span>);<br><br><span class="hljs-comment">// å†™æ³•1</span><br><span class="hljs-keyword">let</span> syObject = &#123;&#125;;<br>syObject[sy] = <span class="hljs-string">&quot;kk&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(syObject);    <span class="hljs-comment">// &#123;Symbol(key1): &quot;kk&quot;&#125;</span><br><br><span class="hljs-comment">// å†™æ³•2</span><br><span class="hljs-keyword">let</span> syObject = &#123;<br>  [sy]: <span class="hljs-string">&quot;kk&quot;</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(syObject);    <span class="hljs-comment">// &#123;Symbol(key1): &quot;kk&quot;&#125;</span><br><br><span class="hljs-comment">// å†™æ³•3</span><br><span class="hljs-keyword">let</span> syObject = &#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(syObject, sy, &#123;<span class="hljs-attr">value</span>: <span class="hljs-string">&quot;kk&quot;</span>&#125;);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(syObject);   <span class="hljs-comment">// &#123;Symbol(key1): &quot;kk&quot;&#125;</span><br></code></pre></td></tr></table></figure><p>Symbol ä½œä¸ºå¯¹è±¡å±æ€§åæ—¶ä¸èƒ½ç”¨.è¿ç®—ç¬¦ï¼Œè¦ç”¨æ–¹æ‹¬å·ã€‚å› ä¸º.è¿ç®—ç¬¦åé¢æ˜¯å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥å–åˆ°çš„æ˜¯å­—ç¬¦ä¸² sy å±æ€§ï¼Œè€Œä¸æ˜¯ Symbol å€¼ sy å±æ€§ã€‚</p><h3 id="Map-ä¸-Set"><a href="#Map-ä¸-Set" class="headerlink" title="Map ä¸ Set"></a>Map ä¸ Set</h3><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><p>Map å¯¹è±¡ä¿å­˜é”®å€¼å¯¹ã€‚ä»»ä½•å€¼(å¯¹è±¡æˆ–è€…åŸå§‹å€¼) éƒ½å¯ä»¥ä½œä¸ºä¸€ä¸ªé”®æˆ–ä¸€ä¸ªå€¼ã€‚</p><p>Map ä¸ Object çš„åŒºåˆ«ï¼š</p><ul><li>Map çš„é”®å¯ä»¥æ˜¯ä»»æ„å€¼ï¼Œè€Œ Object çš„é”®åªèƒ½æ˜¯å­—ç¬¦ä¸²æˆ–è€… Symbolã€‚</li><li>Map ä¸­çš„é”®å€¼æ˜¯æœ‰åºçš„ï¼ˆFIFO åŸåˆ™ï¼‰ï¼Œè€Œæ·»åŠ åˆ°å¯¹è±¡ä¸­çš„é”®åˆ™ä¸æ˜¯ã€‚</li><li>åœ¨æ€§èƒ½ä¸Šï¼ŒMapåœ¨é¢‘ç¹å¢åˆ é”®å€¼å¯¹çš„åœºæ™¯ä¸‹è¡¨ç°æ›´å¥½ã€‚ï¼ˆåŸå› æ˜¯Mapåº•å±‚æ˜¯å“ˆå¸Œè¡¨ï¼Œå“ˆå¸Œè¡¨çš„æ ¸å¿ƒæ€æƒ³æ˜¯ä½¿ç”¨å“ˆå¸Œå‡½æ•°å°†é”®è½¬æ¢æˆæ•°ç»„ç´¢å¼•ï¼Œç„¶ååœ¨è¯¥ç´¢å¼•å¤„å­˜å‚¨å¯¹åº”çš„å€¼ã€‚ï¼‰</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&#x27;key1&#x27;</span>, <span class="hljs-string">&#x27;value1&#x27;</span>]); <span class="hljs-comment">//default key-value</span><br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;key2&#x27;</span>, <span class="hljs-string">&quot;value2&quot;</span>);<br>map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;key2&#x27;</span>);  <span class="hljs-comment">// value2</span><br><span class="hljs-comment">// å°† Map è½¬ Array</span><br><span class="hljs-keyword">let</span> outArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(myMap);<br></code></pre></td></tr></table></figure><h4 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h4><p>Set å¯¹è±¡å…è®¸ä½ å­˜å‚¨ä»»ä½•ç±»å‹çš„å”¯ä¸€å€¼ï¼Œæ— è®ºæ˜¯åŸå§‹å€¼æˆ–è€…æ˜¯å¯¹è±¡å¼•ç”¨ã€‚</p><p>Set å¯¹è±¡å­˜å‚¨çš„å€¼æ€»æ˜¯å”¯ä¸€çš„ï¼Œæ‰€ä»¥éœ€è¦åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦æ’ç­‰ã€‚æœ‰å‡ ä¸ªç‰¹æ®Šå€¼éœ€è¦ç‰¹æ®Šå¯¹å¾…ï¼š</p><ul><li>+0 ä¸ -0 åœ¨å­˜å‚¨åˆ¤æ–­å”¯ä¸€æ€§çš„æ—¶å€™æ˜¯æ’ç­‰çš„ï¼Œæ‰€ä»¥é‡å¤ï¼›</li><li>undefined ä¸ undefined æ˜¯æ’ç­‰çš„ï¼Œæ‰€ä»¥é‡å¤ï¼›</li><li>NaN ä¸ NaN æ˜¯ä¸æ’ç­‰çš„ï¼Œä½†æ˜¯åœ¨ Set ä¸­åªèƒ½å­˜ä¸€ä¸ªã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]); <span class="hljs-comment">// default value</span><br>set.<span class="hljs-title function_">add</span>(<span class="hljs-number">3</span>); <span class="hljs-comment">// set(3) &#123;1, 2, 3&#125;</span><br>set.<span class="hljs-title function_">add</span>(&#123;<span class="hljs-attr">a</span>: <span class="hljs-number">1</span>&#125;); <span class="hljs-comment">// set(4) &#123;1, 2, 3, &#123;a: 1&#125;&#125;</span><br><span class="hljs-comment">// ç”¨...æ“ä½œç¬¦ï¼Œå°† Set è½¬ Array</span><br><span class="hljs-keyword">var</span> outArray = [...set];<br></code></pre></td></tr></table></figure><p>Set å¯ä»¥å®ç°æ•°ç»„å»é‡</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> mySet = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">4</span>]);<br>[...mySet]; <span class="hljs-comment">// [1, 2, 3, 4]</span><br></code></pre></td></tr></table></figure><h3 id="Reflect-ä¸-Proxy"><a href="#Reflect-ä¸-Proxy" class="headerlink" title="Reflect ä¸ Proxy"></a>Reflect ä¸ Proxy</h3><p>Proxy ä¸ Reflect æ˜¯ ES6 ä¸ºäº†æ“ä½œå¯¹è±¡å¼•å…¥çš„ API ã€‚</p><p>Proxy å¯ä»¥å¯¹ç›®æ ‡å¯¹è±¡çš„è¯»å–ã€å‡½æ•°è°ƒç”¨ç­‰æ“ä½œè¿›è¡Œ<strong>æ‹¦æˆª</strong>ï¼Œç„¶åè¿›è¡Œæ“ä½œå¤„ç†ã€‚å®ƒä¸ç›´æ¥æ“ä½œå¯¹è±¡ï¼Œè€Œæ˜¯åƒä»£ç†æ¨¡å¼ï¼Œé€šè¿‡å¯¹è±¡çš„ä»£ç†å¯¹è±¡è¿›è¡Œæ“ä½œã€‚</p><p>Reflect å¯ä»¥ç”¨äºè·å–ç›®æ ‡å¯¹è±¡çš„è¡Œä¸ºï¼Œä½¿ç”¨å‡½æ•°çš„æ–¹å¼å®ç°äº† Object çš„<strong>å‘½ä»¤å¼</strong>æ“ä½œã€‚å®ƒçš„æ–¹æ³•ä¸ Proxy æ˜¯å¯¹åº”çš„ã€‚</p><p><code>new Proxy(target, handler)</code></p><ul><li>targetï¼šç›®æ ‡å¯¹è±¡</li><li>handlerï¼šå£°æ˜ä»£ç† target çš„æŒ‡å®šè¡Œä¸ºã€‚</li></ul><h4 id="åº”ç”¨ï¼šä»£ç†æ¨¡å¼"><a href="#åº”ç”¨ï¼šä»£ç†æ¨¡å¼" class="headerlink" title="åº”ç”¨ï¼šä»£ç†æ¨¡å¼"></a>åº”ç”¨ï¼šä»£ç†æ¨¡å¼</h4><p>ä»£ç†æ¨¡å¼ ï¼ˆProxy Patternï¼‰åˆç§°å§”æ‰˜æ¨¡å¼ï¼Œå®ƒä¸ºç›®æ ‡å¯¹è±¡åˆ›é€ äº†ä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œä»¥æ§åˆ¶å¯¹ç›®æ ‡å¯¹è±¡çš„è®¿é—®ã€‚<br>æ˜æ˜Ÿå°±ç›¸å½“äºè¢«ä»£ç†çš„ç›®æ ‡å¯¹è±¡ï¼ˆTargetï¼‰ï¼Œè€Œç»çºªäººå°±ç›¸å½“äºä»£ç†å¯¹è±¡ï¼ˆProxyï¼‰ï¼Œå¸Œæœ›æ‰¾æ˜æ˜Ÿçš„äººæ˜¯è®¿é—®è€…ï¼ˆVisitorï¼‰ï¼Œä»–ä»¬ç›´æ¥æ‰¾ä¸åˆ°æ˜æ˜Ÿï¼Œåªèƒ½æ‰¾æ˜æ˜Ÿçš„ç»çºªäººæ¥è¿›è¡Œä¸šåŠ¡å•†æ´½ã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li>Targetï¼š ç›®æ ‡å¯¹è±¡ï¼Œä¹Ÿæ˜¯è¢«ä»£ç†å¯¹è±¡ï¼Œæ˜¯å…·ä½“ä¸šåŠ¡çš„å®é™…æ‰§è¡Œè€…ï¼›</li><li>Proxyï¼š ä»£ç†å¯¹è±¡ï¼Œè´Ÿè´£å¼•ç”¨ç›®æ ‡å¯¹è±¡ï¼Œä»¥åŠå¯¹è®¿é—®çš„è¿‡æ»¤å’Œé¢„å¤„ç†ï¼›</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> handler = &#123;<br>    <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, propKey, receiver</span>)&#123;&#125;,<br>    <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, propKey, value, receiver</span>)&#123;&#125;<br>    <span class="hljs-attr">apply</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">target, ctx, args</span>)&#123;&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>çœ‹ä¸‹é¢çš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> superStar = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;å¤å¤&quot;</span>,<br>  <span class="hljs-attr">act</span>: <span class="hljs-function">(<span class="hljs-params">...actions</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;å¤å¤è¡¨æ¼”&quot;</span>, ...actions);<br>  &#125;,<br>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">ProxyAssistant</span> = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;assistant&quot;</span>,<br>  <span class="hljs-attr">schedule</span>: <span class="hljs-function">(<span class="hljs-params">...actions</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Proxy</span>(superStar.<span class="hljs-property">act</span>, &#123;<br>      <span class="hljs-title function_">apply</span>(<span class="hljs-params">target, ctx, args</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;ç»çºªäººå·²é€šçŸ¥&quot;</span> + superStar.<span class="hljs-property">name</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">Reflect</span>.<span class="hljs-title function_">apply</span>(target, ctx, [...actions]);<br>      &#125;,<br>    &#125;)();<br>  &#125;,<br>&#125;;<br><br><span class="hljs-title class_">ProxyAssistant</span>.<span class="hljs-title function_">schedule</span>(<span class="hljs-string">&quot;å”±&quot;</span>, <span class="hljs-string">&quot;è·³&quot;</span>, <span class="hljs-string">&quot;RAP&quot;</span>, <span class="hljs-string">&quot;ç¯®çƒ&quot;</span>);<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">ç»çºªäººå·²é€šçŸ¥å¤å¤</span><br><span class="hljs-comment">å¤å¤è¡¨æ¼” å”± è·³ RAP ç¯®çƒ</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h4 id="åº”ç”¨ï¼šVue3-çš„åŒå‘æ•°æ®ç»‘å®š"><a href="#åº”ç”¨ï¼šVue3-çš„åŒå‘æ•°æ®ç»‘å®š" class="headerlink" title="åº”ç”¨ï¼šVue3 çš„åŒå‘æ•°æ®ç»‘å®š"></a>åº”ç”¨ï¼šVue3 çš„åŒå‘æ•°æ®ç»‘å®š</h4><p>è¯¦è§è¿™ç¯‡æ–‡ç« : TODO.</p><h3 id="Class-ç±»"><a href="#Class-ç±»" class="headerlink" title="Class ç±»"></a>Class ç±»</h3><h4 id="ä½¿ç”¨åŸå‹å®ç°ç±»"><a href="#ä½¿ç”¨åŸå‹å®ç°ç±»" class="headerlink" title="ä½¿ç”¨åŸå‹å®ç°ç±»"></a>ä½¿ç”¨åŸå‹å®ç°ç±»</h4><p>è¯­æ³•ç³–ï¼Œæœ¬è´¨ä¸ºå¯¹åŸå‹é“¾çš„äºŒæ¬¡åŒ…è£…ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// ä½¿ç”¨classï¼š</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name ,age</span>) &#123;<br>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>   <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>  &#125;<br><br>  <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è‚‰éª¨å¤´çœŸå¥½åƒ&#x27;</span>)<br>  &#125;<br>&#125;<br><span class="hljs-comment">// ä½¿ç”¨åŸå‹ï¼š</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params">name, age</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = age<br>&#125;<br><span class="hljs-title class_">Dog</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;è‚‰éª¨å¤´çœŸå¥½åƒ&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç±»çš„ç”¨æ³•"><a href="#ç±»çš„ç”¨æ³•" class="headerlink" title="ç±»çš„ç”¨æ³•"></a>ç±»çš„ç”¨æ³•</h4><p>ç±»å®šä¹‰ä¸ä¼šè¢«æå‡ï¼Œä¸”ä¸å¯é‡å¤å£°æ˜ã€‚</p><ul><li>é™æ€å±æ€§ï¼šclass æœ¬èº«çš„å±æ€§ï¼Œå³ç›´æ¥å®šä¹‰åœ¨ç±»å†…éƒ¨çš„å±æ€§ï¼Œä¸éœ€è¦å®ä¾‹åŒ–ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> &#123;<br>  <span class="hljs-keyword">static</span> a = <span class="hljs-number">2</span>; <span class="hljs-comment">// æ–°ææ¡ˆ</span><br>&#125;<br><span class="hljs-title class_">Example</span>.<span class="hljs-property">a</span> = <span class="hljs-number">3</span>; <span class="hljs-comment">// æ”¹å˜ç±»çš„é™æ€å±æ€§</span><br></code></pre></td></tr></table></figure></li><li>å…¬å…±å±æ€§ï¼šå®šä¹‰åœ¨ç±»ä¸Šçš„å±æ€§ã€‚<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span>&#123;&#125;<br><span class="hljs-title class_">Example</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">a</span> = <span class="hljs-number">2</span>;<br></code></pre></td></tr></table></figure></li><li>å®ä¾‹å±æ€§ï¼šå®šä¹‰åœ¨å®ä¾‹å¯¹è±¡ä¸Šçš„å±æ€§ã€‚<br>ES6 ä¸­å®ä¾‹å±æ€§åªèƒ½é€šè¿‡æ„é€ å‡½æ•°ä¸­çš„<code>this.xxx</code>æ¥å®šä¹‰ï¼ŒES7 ææ¡ˆä¸­å¯ä»¥ç›´æ¥åœ¨ç±»é‡Œé¢å®šä¹‰ï¼š<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> &#123;<br>    a = <span class="hljs-number">2</span>; <span class="hljs-comment">// ES7ï¼Œç›´æ¥åœ¨ç±»ä¸­å®šä¹‰å±æ€§</span><br>    <span class="hljs-title function_">constructor</span> () &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">a</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h4 id="ç±»çš„è®¿é—®ï¼ˆJSå’ŒTSï¼‰"><a href="#ç±»çš„è®¿é—®ï¼ˆJSå’ŒTSï¼‰" class="headerlink" title="ç±»çš„è®¿é—®ï¼ˆJSå’ŒTSï¼‰"></a>ç±»çš„è®¿é—®ï¼ˆJSå’ŒTSï¼‰</h4><p>åœ¨ JavaScript ä¸­ï¼Œç±»å±æ€§åœ¨é»˜è®¤æƒ…å†µä¸‹æ˜¯<strong>å…¬æœ‰</strong>çš„ï¼Œä½†å¯ä»¥ä½¿ç”¨å¢åŠ å“ˆå¸Œå‰ç¼€<code>#</code>çš„æ–¹æ³•æ¥å®šä¹‰ç§æœ‰ç±»å­—æ®µï¼Œè¿™ä¸€éšç§˜å°è£…çš„ç±»ç‰¹æ€§ç”± JS è‡ªèº«å¼ºåˆ¶æ‰§è¡Œã€‚</p><p>è€Œåœ¨ TypeScript ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ä¸‰ç§è®¿é—®ä¿®é¥°ç¬¦ï¼ˆAccess Modifiersï¼‰ï¼Œåˆ†åˆ«æ˜¯ <code>public</code>ã€<code>private</code> å’Œ <code>protected</code>ã€‚</p><ul><li><code>public</code> ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å…¬æœ‰çš„ï¼Œå¯ä»¥åœ¨ä»»ä½•åœ°æ–¹è¢«è®¿é—®åˆ°ï¼Œé»˜è®¤æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•éƒ½æ˜¯ <code>public</code> çš„</li><li><code>private</code> ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯ç§æœ‰çš„ï¼Œä¸èƒ½åœ¨å£°æ˜å®ƒçš„ç±»çš„å¤–éƒ¨è®¿é—®</li><li><code>protected</code> ä¿®é¥°çš„å±æ€§æˆ–æ–¹æ³•æ˜¯å—ä¿æŠ¤çš„ï¼Œå®ƒå’Œ <code>private</code> ç±»ä¼¼ï¼ŒåŒºåˆ«æ˜¯å®ƒåœ¨å­ç±»ä¸­æ˜¯å…è®¸è¢«è®¿é—®çš„</li></ul><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼šè®¿é—®ä¿®é¥°ç¬¦ä»…åœ¨TSå±‚æœ‰æ•ˆï¼Œç¼–è¯‘æˆJSåprivateä¿®é¥°çš„å­—æ®µå¹¶æ²¡æœ‰è½¬åŒ–æˆåŸç”Ÿç§æœ‰å­—æ®µã€‚</p><h4 id="decorator"><a href="#decorator" class="headerlink" title="decorator"></a>decorator</h4><p>decorator æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œç”¨æ¥ä¿®æ”¹ç±»çš„è¡Œä¸ºï¼Œåœ¨ä»£ç ç¼–è¯‘æ—¶äº§ç”Ÿä½œç”¨ã€‚</p><p>3 ä¸ªå‚æ•°ï¼štargetï¼ˆç±»çš„åŸå‹å¯¹è±¡ï¼‰ã€nameï¼ˆä¿®é¥°çš„å±æ€§åï¼‰ã€descriptorï¼ˆè¯¥å±æ€§çš„æè¿°å¯¹è±¡ï¼‰ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">readonly</span>(<span class="hljs-params">target, name, descriptor</span>) &#123;<br>    <span class="hljs-comment">// descriptorå¯¹è±¡åŸæ¥çš„å€¼å¦‚ä¸‹</span><br>    <span class="hljs-comment">// &#123;</span><br>    <span class="hljs-comment">//   value: specifiedFunction,</span><br>    <span class="hljs-comment">//   enumerable: false,</span><br>    <span class="hljs-comment">//   configurable: true,</span><br>    <span class="hljs-comment">//   writable: true</span><br>    <span class="hljs-comment">// &#125;;</span><br>    descriptor.<span class="hljs-property">writable</span> = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">return</span> descriptor; <span class="hljs-comment">// å¿…é¡»è¿”å›</span><br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> &#123;<br>    @readonly<br>    <span class="hljs-title function_">sum</span>(<span class="hljs-params">a, b</span>) &#123;<br>        <span class="hljs-keyword">return</span> a + b;<br>    &#125;<br>&#125;<br><span class="hljs-comment">// ç±»ä¼¼äº</span><br><span class="hljs-comment">// Object.defineProperty(Example.prototype, &#x27;sum&#x27;, descriptor);</span><br></code></pre></td></tr></table></figure><p>ä¿®é¥°å™¨æ‰§è¡Œé¡ºåºï¼šç”±å¤–å‘å†…è¿›å…¥ï¼Œç”±å†…å‘å¤–æ‰§è¡Œã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Example</span> &#123;<br>    @<span class="hljs-title function_">logMethod</span>(<span class="hljs-number">1</span>)<br>    @<span class="hljs-title function_">logMethod</span>(<span class="hljs-number">2</span>)<br>    <span class="hljs-title function_">sum</span>(<span class="hljs-params">a, b</span>)&#123;<br>        <span class="hljs-keyword">return</span> a + b;<br>    &#125;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">logMethod</span>(<span class="hljs-params">id</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;evaluated logMethod&#x27;</span>+id);<br>    <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">target, name, desctiptor</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;excuted logMethod &#x27;</span>+id);<br>&#125;<br><span class="hljs-comment">// evaluated logMethod 1</span><br><span class="hljs-comment">// evaluated logMethod 2</span><br><span class="hljs-comment">// excuted logMethod 2</span><br><span class="hljs-comment">// excuted logMethod 1</span><br></code></pre></td></tr></table></figure><h4 id="ç±»çš„ç»§æ‰¿"><a href="#ç±»çš„ç»§æ‰¿" class="headerlink" title="ç±»çš„ç»§æ‰¿"></a>ç±»çš„ç»§æ‰¿</h4><p>es5 åˆ†ä¸¤ç§ç»§æ‰¿æ–¹å¼ï¼šæ„é€ å‡½æ•°ç»§æ‰¿å’ŒåŸå‹ç»§æ‰¿ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Parents</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">country</span> = <span class="hljs-string">&#x27;CHINA&#x27;</span><br>&#125;<br><br><span class="hljs-title class_">Parents</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">eat</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">food</span>)&#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;eat &#x27;</span> + food);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Child</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-comment">// 1. æ„é€ å‡½æ•°ç»§æ‰¿ï¼ŒæŠŠthisç»‘å®šåˆ°childä¸Š</span><br>  <span class="hljs-title class_">Parents</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>);<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;little John&#x27;</span><br>&#125;<br><span class="hljs-comment">// 2. åŸå‹ç»§æ‰¿</span><br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Parents</span>();<br><span class="hljs-title class_">Child</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> = <span class="hljs-title class_">Child</span>;<br></code></pre></td></tr></table></figure><p>es6 çš„ç»§æ‰¿</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Parents</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>)&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = props.<span class="hljs-property">name</span> || <span class="hljs-string">&#x27;UNKONWN&#x27;</span><br>  &#125;<br>  <span class="hljs-title function_">eat</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> + <span class="hljs-string">&#x27;å°±å–œæ¬¢åƒ&#x27;</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-comment">// extendså®ç°ç±»çš„ç»§æ‰¿</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Child</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_ inherited__">Parents</span> &#123;<br>  <span class="hljs-comment">// propsæ˜¯ç»§æ‰¿è¿‡æ¥çš„å±æ€§ï¼ŒmyAttributeæ˜¯è‡ªå·±çš„å±æ€§</span><br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">props</span>) &#123;<br>    <span class="hljs-variable language_">super</span>(props) <span class="hljs-comment">// æ¨¡æ‹Ÿæ„é€ å‡½æ•°ç»§æ‰¿ï¼Œæ¨¡æ‹ŸES5çš„Parent.apply(this, args)</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span> = props.<span class="hljs-property">height</span>; <span class="hljs-comment">// è‡ªå·±çš„ç§æœ‰å±æ€§</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">weight</span> = props.<span class="hljs-property">weight</span>; <span class="hljs-comment">// è‡ªå·±çš„ç§æœ‰å±æ€§</span><br>  &#125;<br>  <span class="hljs-title function_">info</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">//è‡ªå·±ç§æœ‰çš„æ–¹æ³•</span><br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">height</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">weight</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> child = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Child</span>(&#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;å°æ˜&#x27;</span>, <span class="hljs-attr">height</span>: <span class="hljs-number">183</span>, <span class="hljs-attr">weight</span>: <span class="hljs-number">75</span> &#125;);<br>child.<span class="hljs-title function_">eat</span>(); <span class="hljs-comment">// å°æ˜å°±å–œæ¬¢åƒ</span><br>child.<span class="hljs-title function_">info</span>(); <span class="hljs-comment">// å°æ˜ 183 75</span><br></code></pre></td></tr></table></figure><h3 id="ES6-æ¨¡å—"><a href="#ES6-æ¨¡å—" class="headerlink" title="ES6 æ¨¡å—"></a>ES6 æ¨¡å—</h3><h4 id="AMDã€CMD-ä¸-CommonJS"><a href="#AMDã€CMD-ä¸-CommonJS" class="headerlink" title="AMDã€CMD ä¸ CommonJS"></a>AMDã€CMD ä¸ CommonJS</h4><p>åœ¨ ES6 ä¹‹å‰ï¼Œå®ç°æ¨¡å—åŒ–çš„æ˜¯ RequireJS(AMD)å’Œ SeaJS(CMD)ï¼š</p><ul><li>RequireJS(AMD)ï¼šå¼‚æ­¥åŠ è½½ JS æ–‡ä»¶ï¼Œé€šè¿‡ define()å‡½æ•°å®šä¹‰</li><li>SeaJS(CMD)ï¼šåŒæ­¥æ¨¡å—</li></ul><p>ä¸Šè¿°è¿™ä¿©éƒ½æ˜¯åŸºäºæµè§ˆå™¨çš„æ¨¡å—åŒ–ï¼ŒåŸºäº Node çš„æ¨¡å—åŒ–æ˜¯ CommonJS è§„èŒƒï¼Œæ˜¯é€šè¿‡ module.exports å®šä¹‰ã€‚</p><h4 id="ES6-æ¨¡å—åŒ–ç‰¹ç‚¹"><a href="#ES6-æ¨¡å—åŒ–ç‰¹ç‚¹" class="headerlink" title="ES6 æ¨¡å—åŒ–ç‰¹ç‚¹"></a>ES6 æ¨¡å—åŒ–ç‰¹ç‚¹</h4><p>ES6 å¼•å…¥æ¨¡å—åŒ–ï¼Œè®¾è®¡æ€æƒ³æ˜¯ï¼šé™æ€åŠ è½½ï¼Œåœ¨ç¼–è¯‘æ—¶å°±ç¡®å®šæ¨¡å—çš„ä¾èµ–å…³ç³»ã€‚ES6 çš„æ¨¡å—åŒ–åˆ†ä¸ºå¯¼å‡ºï¼ˆexportï¼‰ä¸å¯¼å…¥ï¼ˆimportï¼‰ä¸¤ä¸ªæ¨¡å—ã€‚</p><ul><li>ES6 çš„æ¨¡å—è‡ªåŠ¨å¼€å¯ä¸¥æ ¼æ¨¡å¼ï¼Œä¸ç®¡ä½ æœ‰æ²¡æœ‰åœ¨æ¨¡å—å¤´éƒ¨åŠ ä¸Š use strict;ã€‚</li><li>æ¨¡å—ä¸­å¯ä»¥å¯¼å…¥å’Œå¯¼å‡ºå„ç§ç±»å‹çš„å˜é‡ï¼Œå¦‚å‡½æ•°ï¼Œå¯¹è±¡ï¼Œå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œå¸ƒå°”å€¼ï¼Œç±»ç­‰ã€‚</li><li>æ¯ä¸ªæ¨¡å—éƒ½æœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œæ¯ä¸€ä¸ªæ¨¡å—å†…å£°æ˜çš„å˜é‡éƒ½æ˜¯å±€éƒ¨å˜é‡ï¼Œä¸ä¼šæ±¡æŸ“å…¨å±€ä½œç”¨åŸŸã€‚</li><li>æ¯ä¸€ä¸ªæ¨¡å—åªåŠ è½½ä¸€æ¬¡ï¼ˆæ˜¯å•ä¾‹çš„ï¼‰ï¼Œ è‹¥å†å»åŠ è½½åŒç›®å½•ä¸‹åŒæ–‡ä»¶ï¼Œç›´æ¥ä»å†…å­˜ä¸­è¯»å–ã€‚</li></ul><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><h4 id="è¿­ä»£å™¨çš„æ¦‚å¿µå’Œéå†è¿‡ç¨‹"><a href="#è¿­ä»£å™¨çš„æ¦‚å¿µå’Œéå†è¿‡ç¨‹" class="headerlink" title="è¿­ä»£å™¨çš„æ¦‚å¿µå’Œéå†è¿‡ç¨‹"></a>è¿­ä»£å™¨çš„æ¦‚å¿µå’Œéå†è¿‡ç¨‹</h4><p>è¿­ä»£å™¨æ˜¯ä¸€ç§æ¥å£ï¼Œä¸ºå„ç§ä¸åŒçš„æ•°æ®ç»“æ„æä¾›ç»Ÿä¸€çš„éå†æœºåˆ¶ã€‚ä»»ä½•æ•°æ®ç»“æ„åªè¦éƒ¨ç½² Iterator æ¥å£ï¼Œå°±å¯ä»¥å®Œæˆéå†æ“ä½œï¼ˆå³ä¾æ¬¡å¤„ç†è¯¥æ•°æ®ç»“æ„çš„æ‰€æœ‰æˆå‘˜ï¼‰ã€‚ ES6 åˆ›é€ äº†ä¸€ç§æ–°çš„éå†å‘½ä»¤<code>for...of</code>å¾ªç¯ï¼ŒIterator æ¥å£ä¸»è¦ä¾›<code>for...of</code>æ¶ˆè´¹ã€‚</p><p>éå†è¿‡ç¨‹ï¼š</p><ol><li>é€šè¿‡<code>Symbol.iterator</code>åˆ›å»ºè¿­ä»£å™¨</li><li>é€šè¿‡ next æ–¹æ³•å‘ä¸‹è¿­ä»£ï¼Œè¿”å›å½“å‰ä½ç½®çš„å¯¹è±¡ï¼Œå¯¹è±¡åŒ…å«äº† value å’Œ done ä¸¤ä¸ªå±æ€§</li><li>å½“ done ä¸º true æ—¶éå†ç»“æŸ</li></ol><p>ä¸‹é¢è¿™ä¸ªä¾‹å­æ˜¯æ¨¡æ‹Ÿ<code>next</code>çš„å®ç°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> it = <span class="hljs-title function_">makeIterator</span>([<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>]);<br><br>it.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// &#123; value: &quot;a&quot;, done: false &#125;</span><br>it.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// &#123; value: &quot;b&quot;, done: false &#125;</span><br>it.<span class="hljs-title function_">next</span>() <span class="hljs-comment">// &#123; value: undefined, done: true &#125;</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">makeIterator</span>(<span class="hljs-params">array</span>) &#123;<br>  <span class="hljs-keyword">var</span> nextIndex = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">next</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">hasNext</span>() ?<br>        &#123;<span class="hljs-attr">value</span>: array[nextIndex++], <span class="hljs-attr">done</span>: <span class="hljs-literal">false</span>&#125; :<br>        &#123;<span class="hljs-attr">value</span>: <span class="hljs-literal">undefined</span>, <span class="hljs-attr">done</span>: <span class="hljs-literal">true</span>&#125;;<br>    &#125;,<br>    <span class="hljs-attr">hasNext</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> nextIndex &lt; array.<span class="hljs-property">length</span>;<br>    &#125;<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="é»˜è®¤-Iterator-æ¥å£"><a href="#é»˜è®¤-Iterator-æ¥å£" class="headerlink" title="é»˜è®¤ Iterator æ¥å£"></a>é»˜è®¤ Iterator æ¥å£</h4><p>ä¸€ç§æ•°æ®ç»“æ„åªè¦éƒ¨ç½²äº† Iterator æ¥å£ï¼Œæˆ‘ä»¬å°±ç§°è¿™ç§æ•°æ®ç»“æ„æ˜¯â€œå¯éå†çš„â€ï¼ˆiterableï¼‰ã€‚ES6 è§„å®šï¼Œé»˜è®¤çš„ Iterator æ¥å£éƒ¨ç½²åœ¨æ•°æ®ç»“æ„çš„<code>Symbol.iterator</code>å±æ€§ã€‚</p><p>åŸç”Ÿå…·å¤‡ Iterator æ¥å£çš„æ•°æ®ç»“æ„æœ‰ï¼šArrayã€Mapã€Setã€Stringã€TypedArrayã€å‡½æ•°çš„ arguments å¯¹è±¡ã€NodeList å¯¹è±¡ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> arr = [<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>];<br><span class="hljs-keyword">let</span> iter = arr[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>](); <span class="hljs-comment">//å¾—åˆ°æ•°ç»„çš„éå†å™¨å¯¹è±¡ã€‚</span><br>iter.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// &#123;value: &#x27;a&#x27;, done: false&#125;</span><br><span class="hljs-comment">// Stringä¹Ÿå·®ä¸å¤šï¼š</span><br><span class="hljs-keyword">let</span> str = <span class="hljs-string">&#x27;hello world&#x27;</span>;<br><span class="hljs-keyword">let</span> iter2 = str[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>](); <span class="hljs-comment">//å¾—åˆ°å­—ç¬¦ä¸²çš„éå†å™¨å¯¹è±¡ã€‚</span><br>iter2.<span class="hljs-title function_">next</span>(); <span class="hljs-comment">// &#123;value: &#x27;h&#x27;, done: false&#125;</span><br></code></pre></td></tr></table></figure><h4 id="å¯è¿­ä»£å¯¹è±¡"><a href="#å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="å¯è¿­ä»£å¯¹è±¡"></a>å¯è¿­ä»£å¯¹è±¡</h4><p>è¦æˆä¸ºå¯è¿­ä»£å¯¹è±¡ï¼Œ ä¸€ä¸ªå¯¹è±¡å¿…é¡»å…·æœ‰ä¸€ä¸ªå¸¦ Symbol.iterator é”®ï¼ˆkeyï¼‰çš„å±æ€§ã€‚<br>ç”Ÿæˆå™¨å‡½æ•°ä½¿ç”¨ function* è¯­æ³•ç¼–å†™ï¼Œè¿”å› <a href="#Generator">generator</a></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> obj = &#123;<br>  * [<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]() &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;hello&#x27;</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;world&#x27;</span>;<br>  &#125;<br>&#125;;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x <span class="hljs-keyword">of</span> obj) &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>&#125;<br><span class="hljs-comment">// &quot;hello&quot;</span><br><span class="hljs-comment">// &quot;world&quot;</span><br><span class="hljs-comment">// ------ è½¬æ¢æˆæ•°ç»„ ------</span><br>[...obj] <span class="hljs-comment">// [&#x27;hello&#x27;, &#x27;world&#x27;]</span><br></code></pre></td></tr></table></figure><h2 id="å¼‚æ­¥"><a href="#å¼‚æ­¥" class="headerlink" title="å¼‚æ­¥"></a>å¼‚æ­¥</h2><p><img src="/img/front-end-interview-preparation/js-asynchrony.png" alt="å¼‚æ­¥-å¤§çº²"></p><h3 id="å¯¹å¼‚æ­¥çš„ç†è§£"><a href="#å¯¹å¼‚æ­¥çš„ç†è§£" class="headerlink" title="å¯¹å¼‚æ­¥çš„ç†è§£"></a>å¯¹å¼‚æ­¥çš„ç†è§£</h3><p>JS æ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯å´èƒ½æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼Œè¿™ä¸»è¦æ˜¯å› ä¸º JS ä¸­å­˜åœ¨äº‹ä»¶å¾ªç¯å’Œä»»åŠ¡é˜Ÿåˆ—ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯ä¸»çº¿ç¨‹å¾ªç¯å¾€å¤åœ°ä»â€ä»»åŠ¡é˜Ÿåˆ—â€ä¸­è¯»å–äº‹ä»¶ã€‚</p><ul><li>ä¸»çº¿ç¨‹ï¼šJS åªæœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œç§°ä¹‹ä¸ºä¸»çº¿ç¨‹ã€‚è€Œäº‹ä»¶å¾ªç¯æ˜¯ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ ˆé‡Œçš„ä»£ç æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œæ‰å¼€å§‹æ‰§è¡Œçš„ã€‚æ‰€ä»¥ï¼Œä¸»çº¿ç¨‹ä¸­è¦æ‰§è¡Œçš„ä»£ç æ—¶é—´è¿‡é•¿ï¼Œä¼šé˜»å¡äº‹ä»¶å¾ªç¯çš„æ‰§è¡Œï¼Œä¹Ÿå°±ä¼šé˜»å¡å¼‚æ­¥æ“ä½œçš„æ‰§è¡Œã€‚åªæœ‰å½“ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œæ ˆä¸ºç©ºçš„æ—¶å€™ï¼ˆå³åŒæ­¥ä»£ç æ‰§è¡Œå®Œåï¼‰ï¼Œæ‰ä¼šè¿›è¡Œäº‹ä»¶å¾ªç¯æ¥è§‚å¯Ÿè¦æ‰§è¡Œçš„äº‹ä»¶å›è°ƒï¼Œå½“äº‹ä»¶å¾ªç¯æ£€æµ‹åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­æœ‰äº‹ä»¶å°±å–å‡ºç›¸å…³å›è°ƒæ”¾å…¥æ‰§è¡Œæ ˆä¸­ç”±ä¸»çº¿ç¨‹æ‰§è¡Œã€‚</li><li>äº‹ä»¶å¾ªç¯ï¼ˆEvent Loopï¼‰ï¼šJS ä¼šåˆ›å»ºä¸€ä¸ªç±»ä¼¼äº<code>while (true)</code>çš„å¾ªç¯ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“çš„è¿‡ç¨‹ç§°ä¹‹ä¸º<code>Tick</code>ã€‚æ¯æ¬¡ Tick çš„è¿‡ç¨‹å°±æ˜¯æŸ¥çœ‹æ˜¯å¦æœ‰å¾…å¤„ç†äº‹ä»¶ï¼Œå¦‚æœæœ‰åˆ™å–å‡ºç›¸å…³äº‹ä»¶åŠå›è°ƒå‡½æ•°æ”¾å…¥æ‰§è¡Œæ ˆä¸­ç”±ä¸»çº¿ç¨‹æ‰§è¡Œã€‚å¾…å¤„ç†çš„äº‹ä»¶ä¼šå­˜å‚¨åœ¨ä¸€ä¸ªä»»åŠ¡é˜Ÿåˆ—ä¸­ï¼Œä¹Ÿå°±æ˜¯æ¯æ¬¡ Tick ä¼šæŸ¥çœ‹ä»»åŠ¡é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚</li><li>ä»»åŠ¡é˜Ÿåˆ—ï¼ˆTask Queueï¼‰ï¼šå¼‚æ­¥æ“ä½œä¼šå°†ç›¸å…³å›è°ƒæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚è€Œä¸åŒçš„å¼‚æ­¥æ“ä½œæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—çš„æ—¶æœºä¹Ÿä¸åŒï¼Œå¦‚<code>onclick</code>, <code>setTimeout</code>, <code>ajax</code> å¤„ç†çš„æ–¹å¼éƒ½ä¸åŒï¼Œè¿™äº›å¼‚æ­¥æ“ä½œæ˜¯ç”±æµè§ˆå™¨å†…æ ¸çš„ webcore æ¥æ‰§è¡Œçš„ï¼Œwebcore åŒ…å«ä¸Šå›¾ä¸­çš„ 3 ç§ webAPIï¼Œåˆ†åˆ«æ˜¯ DOM Bindingã€timerã€network æ¨¡å—ã€‚<ul><li>onclick ç”±æµè§ˆå™¨å†…æ ¸çš„ DOM Binding æ¨¡å—æ¥å¤„ç†ï¼Œå½“äº‹ä»¶è§¦å‘çš„æ—¶å€™ï¼Œå›è°ƒå‡½æ•°ä¼šç«‹å³æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚</li><li>setTimeout ä¼šç”±æµè§ˆå™¨å†…æ ¸çš„ timer æ¨¡å—æ¥è¿›è¡Œå»¶æ—¶å¤„ç†ï¼Œå½“æ—¶é—´åˆ°è¾¾çš„æ—¶å€™ï¼Œæ‰ä¼šå°†å›è°ƒå‡½æ•°æ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚</li><li>ajax åˆ™ä¼šç”±æµè§ˆå™¨å†…æ ¸çš„ network æ¨¡å—æ¥å¤„ç†ï¼Œåœ¨ç½‘ç»œè¯·æ±‚å®Œæˆè¿”å›ä¹‹åï¼Œæ‰å°†å›è°ƒæ·»åŠ åˆ°ä»»åŠ¡é˜Ÿåˆ—ä¸­ã€‚</li></ul></li></ul><p>äº‹ä»¶å¾ªç¯æ­¤å¤„ä¸ä½œè¯¦ç»†è§£é‡Šï¼Œå¯å‚è€ƒä¸‹é¢çš„å¤§çº²ï¼š<br><img src="/img/front-end-interview-preparation/event-loop.png" alt="äº‹ä»¶å¾ªç¯"></p><h3 id="å¼‚æ­¥è§£å†³æ–¹æ¡ˆ"><a href="#å¼‚æ­¥è§£å†³æ–¹æ¡ˆ" class="headerlink" title="å¼‚æ­¥è§£å†³æ–¹æ¡ˆ"></a>å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</h3><p>å¼‚æ­¥åœ¨å®ç°ä¸Šï¼Œä¾èµ–ä¸€äº›ç‰¹æ®Šçš„è¯­æ³•è§„åˆ™ã€‚ä»æ•´ä½“ä¸Šæ¥è¯´ï¼Œå¼‚æ­¥æ–¹æ¡ˆç»å†äº†å¦‚ä¸‹çš„å››ä¸ªè¿›åŒ–é˜¶æ®µï¼š</p><p>å›è°ƒå‡½æ•° â€”&gt; Promise â€”&gt; Generator â€”&gt; async&#x2F;awaitã€‚</p><h4 id="å›è°ƒåœ°ç‹±"><a href="#å›è°ƒåœ°ç‹±" class="headerlink" title="å›è°ƒåœ°ç‹±"></a>å›è°ƒåœ°ç‹±</h4><p>å½“å›è°ƒåªæœ‰ä¸€å±‚çš„æ—¶å€™ï¼Œçœ‹èµ·æ¥æ„Ÿè§‰æ²¡ä»€ä¹ˆé—®é¢˜ã€‚ä½†æ˜¯ä¸€æ—¦å›è°ƒå‡½æ•°åµŒå¥—çš„å±‚çº§å˜å¤šäº†ä¹‹åï¼Œä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§å°†é¢ä¸´ä¸¥å³»çš„æŒ‘æˆ˜ã€‚æ¯”å¦‚å½“æˆ‘ä»¬æƒ³å‘èµ·è¿ç¯ç½‘ç»œè¯·æ±‚æ—¶ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> https = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;https&#x27;</span>);<br><br><br>https.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;ç›®æ ‡æ¥å£1&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>  https.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;ç›®æ ‡æ¥å£2&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>    https.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;ç›®æ ‡æ¥å£3&#x27;</span>),  <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>        https.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;ç›®æ ‡æ¥å£4&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>          https.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;ç›®æ ‡æ¥å£5&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data)<br>            .....<br>            <span class="hljs-comment">// æ— å°½çš„å›è°ƒ</span><br>          &#125;<br>        &#125;<br>    &#125;<br>  &#125;<br>&#125;)<br></code></pre></td></tr></table></figure><p>é¢å¯¹æ— ç©·æ— å°½çš„â€œå›è°ƒåœ°ç‹±â€ï¼Œæ–°çš„è§£å†³æ–¹æ¡ˆäºŸéœ€å¼€å‘ã€‚Promise çš„å‡ºç°è§£å†³äº†ä»€ä¹ˆç—›ç‚¹ï¼Ÿ<br>æå‡ºé“¾å¼è°ƒç”¨ï¼Œè§£å†³å›è°ƒåœ°ç‹±çš„é—®é¢˜ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// é“¾å¼è°ƒç”¨</span><br><span class="hljs-title function_">httpPromise</span>(url1)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">httpPromise</span>(url2);<br>    &#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">httpPromise</span>(url3);<br>    &#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">httpPromise</span>(url4);<br>    &#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res));ã€‚<br></code></pre></td></tr></table></figure><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><h4 id="ä»£ç†å¯¹è±¡"><a href="#ä»£ç†å¯¹è±¡" class="headerlink" title="ä»£ç†å¯¹è±¡"></a>ä»£ç†å¯¹è±¡</h4><p><code>new Promise(executor)</code>æ¥å—ä¼ å…¥çš„ executorï¼ˆæ‰§è¡Œå™¨ï¼‰ä½œä¸ºå…¥å‚ï¼Œå…è®¸ä½ æŠŠå¼‚æ­¥ä»»åŠ¡çš„æˆåŠŸå’Œå¤±è´¥åˆ†åˆ«ç»‘å®šåˆ°å¯¹åº”çš„å¤„ç†æ–¹æ³•ï¼ˆresolveã€rejectï¼‰ä¸Šå»ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> https = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;https&#x27;</span>);<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">httpPromise</span>(<span class="hljs-params">url</span>)&#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve,reject</span>)&#123;<br>    https.<span class="hljs-title function_">get</span>(url, <span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(data);<br>    &#125;).<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;error&quot;</span>, <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">reject</span>(error);<br>    &#125;);<br>  &#125;)<br>&#125;<br><br><span class="hljs-title function_">httpPromise</span>().<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">data</span>)&#123;&#125;, <span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)&#123;&#125;);<br></code></pre></td></tr></table></figure><h4 id="çŠ¶æ€"><a href="#çŠ¶æ€" class="headerlink" title="çŠ¶æ€"></a>çŠ¶æ€</h4><p>åœ¨ Promise å®ä¾‹åˆ›å»ºåï¼Œæ‰§è¡Œå™¨é‡Œçš„é€»è¾‘ä¼šç«‹åˆ»æ‰§è¡Œï¼Œåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œæ ¹æ®å¼‚æ­¥è¿”å›çš„ç»“æœï¼Œå†³å®šå¦‚ä½•ä½¿ç”¨ resolve æˆ– reject æ¥æ”¹å˜ Promiseå®ä¾‹çš„çŠ¶æ€ã€‚ Promise å®ä¾‹æœ‰ä¸‰ç§çŠ¶æ€ï¼š</p><ul><li>pending çŠ¶æ€ï¼Œè¡¨ç¤ºè¿›è¡Œä¸­ã€‚è¿™æ˜¯ Promise å®ä¾‹åˆ›å»ºåçš„ä¸€ä¸ªåˆå§‹æ€ã€‚å¯ä»¥è½¬å˜æˆ fulfilled æˆ– rejectedã€‚</li><li>fulfilled çŠ¶æ€ï¼Œè¡¨ç¤ºæˆåŠŸå®Œæˆã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡Œå™¨ä¸­è°ƒç”¨ resolve åè¾¾æˆçš„çŠ¶æ€ã€‚å¿…é¡»æœ‰ä¸€ä¸ª valueï¼Œå¹¶ä¸”ä¸å¯å†è½¬å˜ä¸ºå…¶ä»–çŠ¶æ€ã€‚</li><li>rejected çŠ¶æ€ï¼Œè¡¨ç¤ºæ“ä½œå¤±è´¥ã€è¢«æ‹’ç»ã€‚è¿™æ˜¯æˆ‘ä»¬åœ¨æ‰§è¡Œå™¨ä¸­è°ƒç”¨ reject åè¾¾æˆçš„çŠ¶æ€ã€‚å¿…é¡»æœ‰ä¸€ä¸ª reasonï¼Œå¹¶ä¸”ä¸å¯å†è½¬å˜ä¸ºå…¶ä»–çŠ¶æ€ã€‚</li></ul><p>åœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­é‡Œï¼Œå½“æˆ‘ä»¬ç”¨ resolve åˆ‡æ¢åˆ°äº†æˆåŠŸæ€åï¼ŒPromise çš„é€»è¾‘å°±ä¼šèµ°åˆ° then ä¸­çš„ç¬¬ä¸€ä¸ªå‚æ•°ä¼ å…¥çš„æ–¹æ³•é‡Œå»ï¼›ç”¨ reject åˆ‡æ¢åˆ°å¤±è´¥æ€åï¼ŒPromise çš„é€»è¾‘å°±ä¼šèµ°åˆ° then ä¸­çš„ç¬¬äºŒä¸ªå‚æ•°ä¼ å…¥çš„æ–¹æ³•é‡Œã€‚</p><p>çŠ¶æ€è½¬æ¢æœºåˆ¶ï¼šçŠ¶æ€æ˜¯å¯ä»¥æ”¹å˜çš„ï¼Œä½†å®ƒåªå…è®¸è¢«æ”¹å˜ä¸€æ¬¡ã€‚</p><h4 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h4><p><code>Promise.then</code>ï¼šæ¥å—ä¸¤ä¸ªå‚æ•°ï¼ŒonFulfilled æˆ– onRejectedã€‚å¯ä»¥è¢«é“¾å¼è°ƒç”¨ã€‚<br><code>Promise.catch</code>ï¼šå¤„ç† onRejected çš„æƒ…å†µã€‚<br><code>Promise.all</code>ï¼šå…¨éƒ¨ promise å¯¹è±¡éƒ½æˆåŠŸè§¦å‘æˆåŠŸï¼Œä»»ä½•ä¸€ä¸ªå¤±è´¥åˆ™å¤±è´¥ã€‚<br><code>Promise.race</code>ï¼šä»»æ„ä¸€ä¸ªå­ promise è¢«æˆåŠŸæˆ–å¤±è´¥åç«‹å³è¿”å›ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// å‡è®¾å·²å®ç°æ»¡è¶³Promise/A+è§„èŒƒçš„myPromise</span><br><span class="hljs-comment">// 1.æ‰‹å†™Promise.all</span><br><span class="hljs-comment">// æ¥å—ä¸€ä¸ªpromiseæ•°ç»„ï¼Œå½“æ‰€æœ‰promiseçŠ¶æ€resolveåï¼Œæ‰§è¡Œresolve</span><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">all</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(len);<br>    <span class="hljs-keyword">let</span> done = <span class="hljs-number">0</span>;<br><br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++)&#123;<br>      promises[i].<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>        done++;<br>        res[i] = value;<br>        <span class="hljs-keyword">if</span> (done === len) <span class="hljs-title function_">resolve</span>(res);<br>      &#125;, <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">reject</span>(reason);<br>        <span class="hljs-keyword">return</span>;<br>      &#125;)<br>    &#125;<br>  &#125;)<br>&#125;;<br><span class="hljs-comment">// 2.æ‰‹å†™Promise.race</span><br><span class="hljs-comment">// æ¥å—ä¸€ä¸ªpromiseæ•°ç»„ï¼Œå½“æœ‰ä¸€ä¸ªpromiseçŠ¶æ€resolveåï¼Œæ‰§è¡Œresolve</span><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">race</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">promises</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> len = promises.<span class="hljs-property">length</span>;<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; len; i++) &#123;<br>      promises[i].<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(value);<br>      &#125;, <span class="hljs-function">(<span class="hljs-params">reason</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">reject</span>(reason);<br>      &#125;)<br>    &#125;<br>  &#125;)<br>&#125;<br><span class="hljs-comment">// 3.æ‰‹å†™Promise.catch</span><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">catch</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">onRejected</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">then</span>(<span class="hljs-literal">null</span>, onRejected);<br>&#125;;<br></code></pre></td></tr></table></figure><h4 id="ã€é«˜é˜¶ã€‘Promise-x2F-A-è§„èŒƒ"><a href="#ã€é«˜é˜¶ã€‘Promise-x2F-A-è§„èŒƒ" class="headerlink" title="ã€é«˜é˜¶ã€‘Promise&#x2F;A+è§„èŒƒ"></a>ã€é«˜é˜¶ã€‘Promise&#x2F;A+è§„èŒƒ</h4><p>å¦‚æœä½ è¦æ‰‹å†™ä¸€ä¸ªPromiseï¼Œå®ƒå¿…é¡»è¦æ»¡è¶³Promise&#x2F;A+è§„èŒƒï¼Œæ¦‚å†µå¦‚ä¸‹ï¼š</p><ol><li>æœ‰ä¸‰ä¸ªçŠ¶æ€ï¼špendingã€fulfilledã€rejected</li><li>æ”¯æŒé“¾å¼è°ƒç”¨ï¼šæä¾›thenæ–¹æ³•</li><li>å®ç°Promiseå†³è®®ç¨‹åºï¼šçº¦æŸçš„å°±æ˜¯ resolve åº”è¯¥å¦‚ä½•è¡¨ç°</li></ol><p>ç¬¬ä¸‰ç‚¹æœ‰ç‚¹æŠ½è±¡ï¼Œå…ˆæ”¾ç½®ä¸€æ—ã€‚è®©æˆ‘ä»¬å…ˆçœ‹å‰ä¸¤ç‚¹ã€‚å¦‚ä½•å®ç°ä¸€ä¸ªPromiseï¼Œèƒ½å¤Ÿæ”¯æŒå‰ä¸¤ç‚¹å‘¢ã€‚</p><p>è¦æƒ³å®ç°é“¾å¼è°ƒç”¨ï¼Œè¦è€ƒè™‘ä»¥ä¸‹å‡ ä¸ªé‡ç‚¹ï¼š</p><ul><li>thenæ–¹æ³•ä¸­åº”è¯¥ç›´æ¥æŠŠ this ç»™ return å‡ºå»ï¼ˆé“¾å¼è°ƒç”¨å¸¸è§„æ“ä½œï¼‰ï¼›</li><li>é“¾å¼è°ƒç”¨å…è®¸æˆ‘ä»¬å¤šæ¬¡è°ƒç”¨ thenï¼Œå¤šä¸ª then ä¸­ä¼ å…¥çš„ onResolved å’Œ onRejected ä»»åŠ¡ï¼Œæˆ‘ä»¬éœ€è¦æŠŠå®ƒä»¬ç»´æŠ¤åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼›</li><li>è¦æƒ³åŠæ³•ç¡®ä¿ then æ–¹æ³•æ‰§è¡Œçš„æ—¶æœºï¼ŒåŠ¡å¿…åœ¨ onResolved é˜Ÿåˆ— å’Œ onRejected é˜Ÿåˆ—æ‰¹é‡æ‰§è¡Œå‰ã€‚ä¸ç„¶é˜Ÿåˆ—ä»»åŠ¡æ‰¹é‡æ‰§è¡Œçš„æ—¶å€™ï¼Œä»»åŠ¡æœ¬èº«éƒ½è¿˜æ²¡æ”¶é›†å®Œï¼Œå°±ä¹Œé¾™äº†ã€‚ä¸€ä¸ªæ¯”è¾ƒå®¹æ˜“æƒ³åˆ°çš„åŠæ³•å°±æ˜¯æŠŠæ‰¹é‡æ‰§è¡Œè¿™ä¸ªåŠ¨ä½œåŒ…è£…æˆå¼‚æ­¥ä»»åŠ¡ï¼Œè¿™æ ·å°±èƒ½ç¡®ä¿å®ƒä¸€å®šå¯ä»¥åœ¨åŒæ­¥ä»£ç ä¹‹åæ‰§è¡Œäº†ã€‚</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myPromise</span>(<span class="hljs-params">executor</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;pending&quot;</span>;<br><br>  <span class="hljs-comment">// ç¼“å­˜ä¸¤ä¸ªé˜Ÿåˆ—ï¼Œç»´æŠ¤ resolved å’Œ rejected å„è‡ªå¯¹åº”çš„å¤„ç†å‡½æ•°</span><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedQueue</span> = [];<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedQueue</span> = [];<br><br>  <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> !== <span class="hljs-string">&quot;pending&quot;</span>) <span class="hljs-keyword">return</span>;<br>    self.<span class="hljs-property">value</span> = value;<br>    self.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;fulfilled&quot;</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      self.<span class="hljs-property">onResolvedQueue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">resolved</span>) =&gt;</span> <span class="hljs-title function_">resolved</span>());<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">reject</span>(<span class="hljs-params">reason</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> !== <span class="hljs-string">&quot;pending&quot;</span>) <span class="hljs-keyword">return</span>;<br>    self.<span class="hljs-property">reason</span> = reason;<br>    self.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;rejected&quot;</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      self.<span class="hljs-property">onRejectedQueue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">rejected</span>) =&gt;</span> <span class="hljs-title function_">rejected</span>());<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-title function_">executor</span>(resolve, reject);<br>&#125;<br><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">then</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">onResolved, onRejected</span>) &#123;<br>  <span class="hljs-comment">// æ³¨æ„ï¼ŒonResolved å’Œ onRejected å¿…é¡»æ˜¯å‡½æ•°ï¼›å¦‚æœä¸æ˜¯ï¼Œæˆ‘ä»¬æ­¤å¤„ç”¨ä¸€ä¸ªé€ä¼ æ¥å…œåº•</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onResolved !== <span class="hljs-string">&quot;function&quot;</span>) onResolved = <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onRejected !== <span class="hljs-string">&quot;function&quot;</span>)<br>    onRejected = <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">throw</span> x;<br>    &#125;;<br><br>  <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-comment">// å¦‚æœæ˜¯ fulfilled çŠ¶æ€ï¼Œæ‰§è¡Œå¯¹åº”çš„å¤„ç†æ–¹æ³•</span><br>  <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;fulfilled&quot;</span>) <span class="hljs-title function_">onResolved</span>(self.<span class="hljs-property">value</span>);<br>  <span class="hljs-comment">// è‹¥æ˜¯ rejected çŠ¶æ€ï¼Œåˆ™æ‰§è¡Œ rejected å¯¹åº”æ–¹æ³•</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;rejected&quot;</span>) <span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>);  <br>  <span class="hljs-comment">// è‹¥æ˜¯ pending çŠ¶æ€ï¼Œåˆ™åªå¯¹ä»»åŠ¡åšå…¥é˜Ÿå¤„ç†</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;pending&quot;</span>) &#123;  <br>    self.<span class="hljs-property">onResolvedQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-title function_">onResolved</span>(self.<span class="hljs-property">value</span>)&#125;);<br>    self.<span class="hljs-property">onRejectedQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-function">() =&gt;</span> &#123;<span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>)&#125;);<br>  &#125;<br>  <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æµ‹è¯•ä¸€ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">new</span> <span class="hljs-title function_">myPromise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>  <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;æˆåŠŸ!&quot;</span>);<br>&#125;)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯ç¬¬ 1 ä¸ªä»»åŠ¡&quot;</span>);<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;123&#x27;</span>;<br>  &#125;)<br>  .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">value</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);  <span class="hljs-comment">// è¿™é‡Œåº”è¯¥è¾“å‡º 123</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;æˆ‘æ˜¯ç¬¬ 2 ä¸ªä»»åŠ¡&quot;</span>);<br>  &#125;);<br><span class="hljs-comment">/* </span><br><span class="hljs-comment">  æˆåŠŸ!</span><br><span class="hljs-comment">æˆ‘æ˜¯ç¬¬ 1 ä¸ªä»»åŠ¡</span><br><span class="hljs-comment">æˆåŠŸ!</span><br><span class="hljs-comment">æˆ‘æ˜¯ç¬¬ 2 ä¸ªä»»åŠ¡</span><br><span class="hljs-comment">  */</span><br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å®ç°çš„myPromiseï¼Œæœ€æ˜æ˜¾çš„ä¸€ä¸ªç¼ºé™·å°±æ˜¯ä¸‹ä¸€ä¸ªthenæ‹¿ä¸åˆ°ä¸Šä¸€ä¸ªthençš„ç»“æœã€‚è¿™æ˜¯å› ä¸ºæˆ‘ä»¬å¯¹thenå‡½æ•°çš„å¤„ç†å¤ªè¿‡ç²—ç³™ï¼Œè¿™ä¹Ÿè¿«ä½¿æˆ‘ä»¬é‡æ–°å®¡è§†ä¸Šæ–‡ä¸­çš„ç¬¬ä¸‰ç‚¹ï¼Œå¦‚ä½•å®ç°Promiseå†³è®®ç¨‹åºã€‚</p><p>å†³è®®ç¨‹åºå¤„ç†æ˜¯ä»¥ä¸€ä¸ªpromiseå’Œä¸€ä¸ªvalueä¸ºè¾“å…¥çš„æŠ½è±¡æ“ä½œï¼Œæˆ‘ä»¬æŠŠå®ƒè¡¨ç¤ºä¸º<code>[[Resolve]](promise, x)</code>ã€‚</p><p>å¯ä»¥ç†è§£æˆï¼š<code>promise2 = promise1.then(onFulfilled, onRejected);</code></p><p>æ„æ€æ˜¯è¯´å¦‚æœonFulfilled æˆ– onRejected è¿”å›äº†å€¼xï¼Œ åˆ™æ‰§è¡Œ Promise è§£ææµç¨‹ <code>[[Resolve]](promise2, x)</code>ã€‚</p><p>åªè¦éƒ½å®ç°äº†promise&#x2F;A+æ ‡å‡†ï¼Œé‚£ä¹ˆä¸åŒçš„Promiseéƒ½å¯ä»¥ä¹‹é—´ç›¸äº’è°ƒç”¨ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myPromise</span>(<span class="hljs-params">executor</span>) &#123;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">reason</span> = <span class="hljs-literal">null</span>;<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;pending&quot;</span>;<br><br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onResolvedQueue</span> = [];<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">onRejectedQueue</span> = [];<br><br>  <span class="hljs-keyword">const</span> self = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">resolve</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> !== <span class="hljs-string">&quot;pending&quot;</span>) <span class="hljs-keyword">return</span>;<br>    self.<span class="hljs-property">value</span> = value;<br>    self.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;fulfilled&quot;</span>;<br>    <span class="hljs-comment">// æŠŠå¼‚æ­¥å¤„ç†æ”¾åˆ° then æ–¹æ³•ä¸­çš„ resolveByStatus/ rejectByStatus é‡Œé¢æ¥åšã€‚</span><br>    self.<span class="hljs-property">onResolvedQueue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">resolved</span>) =&gt;</span> <span class="hljs-title function_">resolved</span>());<br>  &#125;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">reject</span>(<span class="hljs-params">reason</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> !== <span class="hljs-string">&quot;pending&quot;</span>) <span class="hljs-keyword">return</span>;<br>    self.<span class="hljs-property">reason</span> = reason;<br>    self.<span class="hljs-property">status</span> = <span class="hljs-string">&quot;rejected&quot;</span>;<br>    <span class="hljs-comment">// æŠŠå¼‚æ­¥å¤„ç†æ”¾åˆ° then æ–¹æ³•ä¸­çš„ resolveByStatus/ rejectByStatus é‡Œé¢æ¥åšã€‚</span><br>    self.<span class="hljs-property">onRejectedQueue</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">rejected</span>) =&gt;</span> <span class="hljs-title function_">rejected</span>());<br>  &#125;<br><br>  <span class="hljs-title function_">executor</span>(resolve, reject);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">resolutionProcedure</span>(<span class="hljs-params">promise2, x, resolve, reject</span>) &#123;<br>  <span class="hljs-comment">// è¿™é‡Œ hasCalled è¿™ä¸ªæ ‡è¯†ï¼Œæ˜¯ä¸ºäº†ç¡®ä¿ resolveã€reject ä¸è¦è¢«é‡å¤æ‰§è¡Œ</span><br>  <span class="hljs-keyword">let</span> hasCalled;<br>  <span class="hljs-keyword">if</span> (x === promise2) &#123;<br>    <span class="hljs-comment">// å†³è®®ç¨‹åºè§„èŒƒï¼šå¦‚æœ resolve ç»“æœå’Œ promise2ç›¸åŒåˆ™rejectï¼Œè¿™æ˜¯ä¸ºäº†é¿å…æ­»å¾ªç¯</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">reject</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">TypeError</span>(<span class="hljs-string">&quot;ä¸ºé¿å…æ­»å¾ªç¯ï¼Œæ­¤å¤„æŠ›é”™&quot;</span>));<br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (x !== <span class="hljs-literal">null</span> &amp;&amp; (<span class="hljs-keyword">typeof</span> x === <span class="hljs-string">&quot;object&quot;</span> || <span class="hljs-keyword">typeof</span> x === <span class="hljs-string">&quot;function&quot;</span>)) &#123;<br>    <span class="hljs-comment">// å†³è®®ç¨‹åºè§„èŒƒï¼šå¦‚æœxæ˜¯ä¸€ä¸ªå¯¹è±¡æˆ–è€…å‡½æ•°ï¼Œåˆ™éœ€è¦é¢å¤–å¤„ç†ä¸‹</span><br>    <span class="hljs-keyword">try</span> &#123;<br>      <span class="hljs-comment">// é¦–å…ˆæ˜¯çœ‹å®ƒæœ‰æ²¡æœ‰ then æ–¹æ³•ï¼ˆæ˜¯ä¸æ˜¯ thenable å¯¹è±¡ï¼‰</span><br>      <span class="hljs-keyword">let</span> then = x.<span class="hljs-property">then</span>;<br>      <span class="hljs-comment">// å¦‚æœæ˜¯ thenable å¯¹è±¡ï¼Œåˆ™å°†promiseçš„thenæ–¹æ³•æŒ‡å‘x.thenã€‚</span><br>      <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> then === <span class="hljs-string">&quot;function&quot;</span>) &#123;<br>        <span class="hljs-comment">// å¦‚æœ then æ˜¯æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œé‚£ä¹ˆç”¨xä¸ºthisæ¥è°ƒç”¨å®ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¸º resolvePromiseï¼Œç¬¬äºŒä¸ªå‚æ•°ä¸ºrejectPromise</span><br>        then.<span class="hljs-title function_">call</span>(<br>          x,<br>          <span class="hljs-function">(<span class="hljs-params">y</span>) =&gt;</span> &#123;<br>            <span class="hljs-comment">// å¦‚æœå·²ç»è¢« resolve/reject è¿‡äº†ï¼Œé‚£ä¹ˆç›´æ¥ return</span><br>            <span class="hljs-keyword">if</span> (hasCalled) <span class="hljs-keyword">return</span>;<br>            hasCalled = <span class="hljs-literal">true</span>;<br>            <span class="hljs-comment">// è¿›å…¥å†³è®®ç¨‹åºï¼ˆé€’å½’è°ƒç”¨è‡ªèº«ï¼‰</span><br>            <span class="hljs-title function_">resolutionProcedure</span>(promise2, y, resolve, reject);<br>          &#125;,<br>          <span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>            <span class="hljs-comment">// è¿™é‡Œ hascalled ç”¨æ³•å’Œä¸Šé¢æ„æ€ä¸€æ ·</span><br>            <span class="hljs-keyword">if</span> (hasCalled) <span class="hljs-keyword">return</span>;<br>            hasCalled = <span class="hljs-literal">true</span>;<br>            <span class="hljs-title function_">reject</span>(err);<br>          &#125;<br>        );<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// å¦‚æœthenä¸æ˜¯functionï¼Œç”¨xä¸ºå‚æ•°æ‰§è¡Œpromise</span><br>        <span class="hljs-title function_">resolve</span>(x);<br>      &#125;<br>    &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>      <span class="hljs-keyword">if</span> (hasCalled) <span class="hljs-keyword">return</span>;<br>      hasCalled = <span class="hljs-literal">true</span>;<br>      <span class="hljs-title function_">reject</span>(e);<br>    &#125;<br>  &#125; <span class="hljs-keyword">else</span> &#123;<br>    <span class="hljs-comment">// å¦‚æœxä¸æ˜¯ä¸€ä¸ªobjectæˆ–è€…functionï¼Œç”¨xä¸ºå‚æ•°æ‰§è¡Œpromise</span><br>    <span class="hljs-title function_">resolve</span>(x);<br>  &#125;<br>&#125;<br><br>myPromise.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">then</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">onResolved, onRejected</span>) &#123;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onResolved !== <span class="hljs-string">&quot;function&quot;</span>) onResolved = <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> x;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> onRejected !== <span class="hljs-string">&quot;function&quot;</span>)<br>    onRejected = <span class="hljs-function">(<span class="hljs-params">x</span>) =&gt;</span> &#123;<br>      <span class="hljs-keyword">throw</span> x;<br>    &#125;;<br><br>  <span class="hljs-keyword">var</span> self = <span class="hljs-variable language_">this</span>;<br>  <span class="hljs-comment">// è¿™ä¸ªå˜é‡ç”¨æ¥å­˜è¿”å›å€¼ x</span><br>  <span class="hljs-keyword">let</span> x;<br><br>  <span class="hljs-comment">// resolveæ€çš„å¤„ç†å‡½æ•°</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">resolveByStatus</span>(<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-comment">// è¿”å›å€¼èµ‹å€¼ç»™ x</span><br>        x = <span class="hljs-title function_">onResolved</span>(self.<span class="hljs-property">value</span>);<br>        <span class="hljs-comment">// è¿›å…¥å†³è®®ç¨‹åº</span><br>        <span class="hljs-title function_">resolutionProcedure</span>(promise2, x, resolve, reject);<br>      &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>        <span class="hljs-comment">// å¦‚æœonResolvedæˆ–è€…onRejectedæŠ›å‡ºå¼‚å¸¸errorï¼Œåˆ™promise2å¿…é¡»è¢«rejectedï¼Œç”¨erroråšreason</span><br>        <span class="hljs-title function_">reject</span>(e);<br>      &#125;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-comment">// rejectæ€çš„å¤„ç†å‡½æ•°</span><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">rejectByStatus</span>(<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-comment">// åŒ…è£…æˆå¼‚æ­¥ä»»åŠ¡ï¼Œç¡®ä¿å†³è®®ç¨‹åºåœ¨ then åæ‰§è¡Œ</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-comment">// è¿”å›å€¼èµ‹å€¼ç»™ x</span><br>        x = <span class="hljs-title function_">onRejected</span>(self.<span class="hljs-property">reason</span>);<br>        <span class="hljs-comment">// è¿›å…¥å†³è®®ç¨‹åº</span><br>        <span class="hljs-title function_">resolutionProcedure</span>(promise2, x, resolve, reject);<br>      &#125; <span class="hljs-keyword">catch</span> (e) &#123;<br>        <span class="hljs-title function_">reject</span>(e);<br>      &#125;<br>    &#125;);<br>  &#125;<br><br>  <span class="hljs-comment">// æ³¨æ„ï¼Œè¿™é‡Œæˆ‘ä»¬ä¸èƒ½å†ç®€å•ç²—æš´ return this äº†ï¼Œéœ€è¦ return ä¸€ä¸ªç¬¦åˆè§„èŒƒçš„ Promise å¯¹è±¡</span><br>  <span class="hljs-keyword">var</span> promise2 = <span class="hljs-keyword">new</span> <span class="hljs-title function_">myPromise</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) &#123;<br>    <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;resolved&quot;</span>) <span class="hljs-title function_">resolveByStatus</span>(resolve, reject);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;rejected&quot;</span>) <span class="hljs-title function_">rejectByStatus</span>(resolve, reject);<br>    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (self.<span class="hljs-property">status</span> === <span class="hljs-string">&quot;pending&quot;</span>) &#123;<br>      self.<span class="hljs-property">onResolvedQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-title function_">resolveByStatus</span>(resolve, reject); &#125;);<br>      self.<span class="hljs-property">onRejectedQueue</span>.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-title function_">rejectByStatus</span>(resolve, reject); &#125;);<br>    &#125;<br>  &#125;);<br><br>  <span class="hljs-keyword">return</span> promise2;<br>&#125;;<br></code></pre></td></tr></table></figure><p>æ€»è€Œè¨€ä¹‹ï¼Œæ‰‹å†™Promiseèƒ½è¾¾åˆ°ç¬¬ä¸€ä¸ªä¾‹å­çš„ç¨‹åº¦å°±å·²ç»è¶³å¤Ÿé€šè¿‡æ ¡æ‹›é¢è¯•äº†ã€‚ç¬¬äºŒä¸ªä¾‹å­ä¾›å­¦ä¹ å‚è€ƒä½¿ç”¨ã€‚</p><h3 id="Generator"><a href="#Generator" class="headerlink" title="Generator"></a>Generator</h3><p>Generator å‡½æ•°å¯ä»¥åœ¨æ‰§è¡Œä¸­è¢«ä¸­æ–­ã€ç„¶åç­‰å¾…ä¸€æ®µæ—¶é—´å†è¢«æˆ‘ä»¬å”¤é†’ã€‚åˆ©ç”¨ yield å…³é”®å­—ï¼Œå®ç°å¯¹å¼‚æ­¥ä»»åŠ¡çš„ç­‰å¾…ã€‚</p><p>Generator æœ‰ä¸¤ä¸ªåŒºåˆ†äºæ™®é€šå‡½æ•°çš„éƒ¨åˆ†ï¼š</p><ul><li>ä¸€æ˜¯åœ¨ function åé¢ï¼Œå‡½æ•°åä¹‹å‰æœ‰ä¸ª * ï¼›</li><li>å‡½æ•°å†…éƒ¨æœ‰ yield è¡¨è¾¾å¼ã€‚</li></ul><p>æ‰§è¡Œæœºåˆ¶ï¼šè°ƒç”¨éå†å™¨å¯¹è±¡ Iterator çš„ next æ–¹æ³•</p><p>æ–¹æ³•ï¼š</p><ol><li>next æ–¹æ³•ä¸ä¼ å…¥å‚æ•°çš„æ—¶å€™ï¼Œyield è¡¨è¾¾å¼çš„è¿”å›å€¼æ˜¯ undefined ã€‚å½“ next ä¼ å…¥å‚æ•°çš„æ—¶å€™ï¼Œè¯¥å‚æ•°ä¼šä½œä¸ºä¸Šä¸€æ­¥yieldçš„è¿”å›å€¼</li><li>return æ–¹æ³•è¿”å›ç»™å®šå€¼ï¼Œå¹¶ç»“æŸéå† Generator å‡½æ•°ã€‚</li></ol><p>ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span>* <span class="hljs-title function_">sendParameter</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;start&quot;</span>);<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;2&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;one:&quot;</span> + x);<br>    <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">yield</span> <span class="hljs-string">&#x27;3&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;two:&quot;</span> + y);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;total:&quot;</span> + (x + y));<br>&#125;<br></code></pre></td></tr></table></figure><p>nextä¼ å‚:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> sendp1 = <span class="hljs-title function_">sendParameter</span>();<br>sendp1.<span class="hljs-title function_">next</span>(<span class="hljs-number">10</span>);<br><span class="hljs-comment">// start</span><br><span class="hljs-comment">// &#123;value: &quot;2&quot;, done: false&#125;</span><br>sendp1.<span class="hljs-title function_">next</span>(<span class="hljs-number">20</span>);<br><span class="hljs-comment">// one:20</span><br><span class="hljs-comment">// &#123;value: &quot;3&quot;, done: false&#125;</span><br>sendp1.<span class="hljs-title function_">next</span>(<span class="hljs-number">30</span>);<br><span class="hljs-comment">// two:30</span><br><span class="hljs-comment">// total:50</span><br><span class="hljs-comment">// &#123;value: undefined, done: true&#125;</span><br></code></pre></td></tr></table></figure><p>returnç»“æŸå‡½æ•°ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> sendp2 = <span class="hljs-title function_">sendParameter</span>();<br>sendp2.<span class="hljs-title function_">next</span>(); <br><span class="hljs-comment">// start</span><br><span class="hljs-comment">// &#123;value: &quot;2&quot;, done: false&#125;</span><br>sendp2.<span class="hljs-keyword">return</span>(<span class="hljs-number">100</span>);<br><span class="hljs-comment">// &#123;value: 100, done: true&#125;</span><br></code></pre></td></tr></table></figure><h3 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async&#x2F;await"></a>async&#x2F;await</h3><p>await å…³é”®å­—ä»…åœ¨ async function ä¸­æœ‰æ•ˆã€‚await è¿”å› Promise å¯¹è±¡çš„å¤„ç†ç»“æœã€‚å¦‚æœç­‰å¾…çš„ä¸æ˜¯ Promise å¯¹è±¡ï¼Œåˆ™è¿”å›è¯¥å€¼æœ¬èº«ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">testAwait</span> (x) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function"><span class="hljs-params">resolve</span> =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">resolve</span>(x);<br>    &#125;, <span class="hljs-number">2000</span>);<br>  &#125;);<br>&#125;<br> <br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">helloAsync</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> x = <span class="hljs-keyword">await</span> testAwait (<span class="hljs-string">&quot;hello world&quot;</span>);<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x); <br>&#125;<br>helloAsync ();<br><span class="hljs-comment">// hello world</span><br></code></pre></td></tr></table></figure><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><h3 id="for-in-å’Œ-for-of-çš„åŒºåˆ«"><a href="#for-in-å’Œ-for-of-çš„åŒºåˆ«" class="headerlink" title="for in å’Œ for of çš„åŒºåˆ«"></a><code>for in</code> å’Œ <code>for of</code> çš„åŒºåˆ«</h3><p><code>for in</code></p><ul><li>å¾ªç¯çš„æ˜¯ key</li><li>æ¨èå¾ªç¯å¯¹è±¡å±æ€§</li></ul><p><code>for of</code>ï¼ˆES6 æ–°å¼•å…¥çš„ç‰¹æ€§ï¼Œä¿®å¤ for in çš„ä¸è¶³ï¼‰</p><ul><li>å¾ªç¯çš„æ˜¯ value</li><li>æ¨èéå†æ•°ç»„</li><li>ä¸èƒ½å¾ªç¯æ™®é€šçš„å¯¹è±¡ï¼Œéœ€è¦é€šè¿‡å’Œ<code>Object.keys()</code>æ­é…ä½¿ç”¨</li></ul><h3 id="Promiseä¸²è¡Œ"><a href="#Promiseä¸²è¡Œ" class="headerlink" title="Promiseä¸²è¡Œ"></a>Promiseä¸²è¡Œ</h3><p>ä¿è¯æ‰§è¡Œæ—¶ä¸²è¡Œã€‚è¿­ä»£è¿™ä¸ªä»»åŠ¡æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œåæ‰èƒ½æ‰§è¡Œä¸‹ä¸€ä¸ªã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">const</span> sequence = <span class="hljs-keyword">function</span> (<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">let</span> result = [];<br><br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      (<span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">next</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> arr)&#123;<br>          <span class="hljs-keyword">let</span> temp = <span class="hljs-keyword">await</span> <span class="hljs-title function_">item</span>();<br>          result.<span class="hljs-title function_">push</span>(temp)<br>        &#125;<br>        <span class="hljs-title function_">resolve</span>(result);<br>      &#125;)()<br>  &#125;);<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="Promiseå¹¶å‘è°ƒåº¦å™¨"><a href="#Promiseå¹¶å‘è°ƒåº¦å™¨" class="headerlink" title="Promiseå¹¶å‘è°ƒåº¦å™¨"></a>Promiseå¹¶å‘è°ƒåº¦å™¨</h3><p>è¦æ±‚ï¼š<br>å®ç°ä¸€ä¸ªjsé™æµè°ƒåº¦å™¨<br>å®ç°JSé™æµè°ƒåº¦å™¨ï¼Œæ–¹æ³•addæ¥æ”¶ä¸€ä¸ªè¿”å›Promiseçš„å‡½æ•°ï¼ŒåŒæ—¶æ‰§è¡Œçš„ä»»åŠ¡æ•°é‡ä¸èƒ½è¶…è¿‡ä¸¤ä¸ªã€‚<br>å®ç°ï¼š</p><ol><li>åˆ¤æ–­æ˜¯å¦æœ‰ç©ºä½ï¼Œæ— ç©ºä½å°±é˜»å¡ä½</li><li>æœ‰ç©ºä½å°±æ‰§è¡Œä»»åŠ¡ï¼Œæ‰§è¡Œå®Œåé‡Šæ”¾å ä½</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Scheduler</span> &#123;<br>  <span class="hljs-title function_">constructor</span>(<span class="hljs-params">maxNum</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskList</span> = []; <span class="hljs-comment">// å¾…æ‰§è¡Œçš„å¼‚æ­¥ä»»åŠ¡</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡æ•°</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">concurrency</span> = concurrency;<br>  &#125;<br>  <span class="hljs-keyword">async</span> <span class="hljs-title function_">addTask</span>(<span class="hljs-params">task</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span> &gt;= <span class="hljs-variable language_">this</span>.<span class="hljs-property">concurrency</span>) &#123;<br>      <span class="hljs-comment">// é˜»å¡ä»»åŠ¡æ‰§è¡Œï¼Œç­‰ç­‰å¾…é˜Ÿåˆ—æœ‰ç©ºä½</span><br>      <span class="hljs-keyword">await</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskList</span>.<span class="hljs-title function_">push</span>(resolve);<br>      &#125;);<br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++;<br>    <span class="hljs-keyword">const</span> result = <span class="hljs-keyword">await</span> <span class="hljs-title function_">task</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>--;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">taskList</span>.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>) &#123;<br>      <span class="hljs-comment">// ç›¸å½“äºresolve(), é€šçŸ¥ç­‰å¾…é˜Ÿåˆ—çš„ä»»åŠ¡å»æ‰§è¡Œ</span><br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">taskList</span>.<span class="hljs-title function_">shift</span>()?.();<br>    &#125;<br>    <span class="hljs-keyword">return</span> result;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://www.runoob.com/w3cnote/es6-tutorial.html">èœé¸Ÿæ•™ç¨‹ï¼šES6 æ•™ç¨‹</a> ç®€å•å…¨é¢ï¼Œé€‚åˆå¤ä¹ </li><li><a href="https://es6.ruanyifeng.com/#README">ã€ŠECMAScript 6 å…¥é—¨æ•™ç¨‹ã€‹by é˜®ä¸€å³°</a></li><li><a href="https://www.imooc.com/read/70/article/1705">å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ä¸å¼‚æ­¥è§£å†³æ–¹æ¡ˆ</a></li></ol>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>ES6</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆä¸‰ï¼‰ï¼šJavaScript</title>
    <link href="/2022/04/23/front-end-interview-preparation-3/"/>
    <url>/2022/04/23/front-end-interview-preparation-3/</url>
    
    <content type="html"><![CDATA[<p>JavaScript ( JS ) æ˜¯ä¸€ç§å…·æœ‰<code>å¤´ç­‰å‡½æ•°</code>çš„è½»é‡çº§ï¼Œ<code>è§£é‡Šå‹</code>æˆ–<code>å³æ—¶ç¼–è¯‘å‹</code>çš„ç¼–ç¨‹è¯­è¨€ã€‚è™½ç„¶å®ƒæ˜¯ä½œä¸ºå¼€å‘ Web é¡µé¢çš„è„šæœ¬è¯­è¨€è€Œå‡ºåçš„ï¼Œä½†æ˜¯å®ƒä¹Ÿè¢«ç”¨åˆ°äº†å¾ˆå¤šéæµè§ˆå™¨ç¯å¢ƒä¸­ï¼Œä¾‹å¦‚ Node.jsã€ Apache CouchDB å’Œ Adobe Acrobatã€‚JavaScript æ˜¯ä¸€ç§<code>åŸºäºåŸå‹ç¼–ç¨‹</code>ã€<code>å¤šèŒƒå¼</code>ã€å•çº¿ç¨‹çš„<code>åŠ¨æ€è„šæœ¬è¯­è¨€</code>ï¼Œå¹¶ä¸”æ”¯æŒé¢å‘å¯¹è±¡ã€å‘½ä»¤å¼å’Œå£°æ˜å¼ï¼ˆå¦‚å‡½æ•°å¼ç¼–ç¨‹ï¼‰é£æ ¼ã€‚</p><p>å¼€å¤´æ¥è‡ª<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">MDN</a>ï¼Œå¦‚æœæœ‰ç–‘é—®å¯ä»¥å‚è€ƒä¸‹é¢çš„å…³é”®è¯è§£é‡Šï¼š</p><ol><li>å¤´ç­‰å‡½æ•°ï¼ˆFirst-class Functionï¼‰ï¼šå½“ä¸€é—¨ç¼–ç¨‹è¯­è¨€çš„å‡½æ•°å¯ä»¥è¢«å½“ä½œå˜é‡ä¸€æ ·ç”¨æ—¶ï¼Œåˆ™ç§°è¿™é—¨è¯­è¨€æ‹¥æœ‰å¤´ç­‰å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨ JavaScript ä¸­ï¼Œå‡½æ•°å¯ä»¥è¢«å½“ä½œå‚æ•°ä¼ é€’ç»™å…¶ä»–å‡½æ•°ï¼Œå¯ä»¥ä½œä¸ºå¦ä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œè¿˜å¯ä»¥è¢«èµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ã€‚</li><li>è§£é‡Šå‹ï¼ˆinterpretedï¼‰ç¼–ç¨‹è¯­è¨€ï¼šä¼šå°†ä»£ç ä¸€å¥ä¸€å¥ç›´æ¥è¿è¡Œï¼Œä¸éœ€è¦åƒç¼–è¯‘è¯­è¨€ï¼ˆå¦‚ C++ï¼‰ä¸€æ ·ï¼Œç»è¿‡ç¼–è¯‘å™¨å…ˆè¡Œç¼–è¯‘ä¸ºæœºå™¨ä»£ç ï¼Œä¹‹åå†è¿è¡Œã€‚éœ€è¦è¦åˆ©ç”¨è§£é‡Šå™¨åœ¨è¿è¡ŒæœŸï¼ŒåŠ¨æ€å°†ä»£ç é€å¥è§£é‡Šä¸ºæœºå™¨ä»£ç ï¼Œæˆ–æ˜¯å·²ç»é¢„å…ˆç¼–è¯‘ä¸ºæœºå™¨ä»£ç çš„å­ç¨‹åºï¼Œä¹‹åå†è¿è¡Œã€‚</li><li>å³æ—¶ç¼–è¯‘å‹ï¼ˆjust-in-time compiledï¼‰ï¼šå³æ—¶ç¼–è¯‘å™¨ï¼ˆJIT compilerï¼‰å¯ä»¥ç†è§£ä¸ºè§£é‡Šå™¨ï¼ˆInterpreterï¼‰ä¸­çš„ä¸€ä¸ªç»„ä»¶ï¼Œå¯¹ç¼–è¯‘å™¨è¿›è¡Œæ•ˆç‡ä¼˜åŒ–ï¼Œè¿è¡Œå·²ç»é¢„å…ˆç¼–è¯‘ä¸ºæœºå™¨ä»£ç çš„å­ç¨‹åºã€‚</li><li>åŸºäºåŸå‹ç¼–ç¨‹ï¼ˆprototype-basedï¼‰ï¼šåŸå‹ç¼–ç¨‹æ˜¯ä¸€ç§é¢å‘å¯¹è±¡ç¼–ç¨‹çš„é£æ ¼ã€‚é€šè¿‡å‘å…¶å®ƒç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰ä¸­æ·»åŠ å±æ€§å’Œæ–¹æ³•æ¥åˆ›å»ºç±»ï¼Œç”šè‡³å¶å°”ä½¿ç”¨ç©ºå¯¹è±¡åˆ›å»ºç±»ã€‚</li><li>å¤šèŒƒå¼ï¼ˆmulti-paradigmï¼‰ï¼šå¤šç§ç¼–ç¨‹èŒƒå¼ï¼Œå¸¸è§çš„æœ‰å‘½ä»¤å¼ç¼–ç¨‹(Imperative programming)ã€å‡½æ•°å¼ç¼–ç¨‹(Functional programming)ã€é¢å‘å¯¹è±¡ç¼–ç¨‹(Object-oriented programming)ç­‰ã€‚</li><li>åŠ¨æ€è„šæœ¬è¯­è¨€ï¼ˆdynamic languageï¼‰ï¼šåŠ¨æ€è¯­è¨€æ˜¯æŒ‡åœ¨è¿è¡Œæ—¶æ‰ç¡®å®šæ•°æ®ç±»å‹çš„è¯­è¨€ï¼Œå˜é‡ä½¿ç”¨ä¹‹å‰ä¸éœ€è¦ç±»å‹å£°æ˜ã€‚è„šæœ¬è¯­è¨€æ˜¯ä¸€ç§è§£é‡Šæ€§çš„è¯­è¨€ï¼Œè„šæœ¬é€šå¸¸ä»¥æ–‡æœ¬æ¥ä¿å­˜ï¼Œåªè¦åœ¨è¢«è°ƒç”¨æ—¶è¿›è¡Œè§£é‡Šå’Œç¼–è¯‘ã€‚</li></ol><p><strong>æ€»ç»“ä¸€ä¸‹ JavaScript çš„ç‰¹ç‚¹</strong>ï¼š</p><ul><li>è§£é‡Šå‹è¯­è¨€ï¼ŒåŠ¨æ€è„šæœ¬è¯­è¨€</li><li>å¼±ç±»å‹ï¼ˆä¸éœ€è¦ç±»å‹å£°æ˜ï¼‰</li><li>å•çº¿ç¨‹ï¼ˆå¼‚æ­¥äº‹ä»¶é€šè¿‡äº‹ä»¶å¾ªç¯æœºåˆ¶å¤„ç†ï¼‰</li><li>è·¨å¹³å°ï¼ˆæµè§ˆå™¨ã€æœåŠ¡å™¨ç«¯ï¼‰</li></ul><h2 id="å¤§çº²"><a href="#å¤§çº²" class="headerlink" title="å¤§çº²"></a>å¤§çº²</h2><p><img src="/img/front-end-interview-preparation/js-outline.png" alt="JavaScriptæ ¸å¿ƒçŸ¥è¯†ç‚¹å¤§çº²"></p><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p><img src="/img/front-end-interview-preparation/js-data-type.png" alt="æ•°æ®ç±»å‹-å¤§çº²"></p><p>åœ¨ JavaScript è§„èŒƒä¸­ï¼Œå…±å®šä¹‰äº†ä¸ƒç§æ•°æ®ç±»å‹ï¼š</p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹ï¼šNumberã€Stringã€Booleanã€Undefinedã€Nullã€Symbol</li><li>å¤æ‚æ•°æ®ç±»å‹ï¼šObject</li></ul><h4 id="1-String-ç±»å‹"><a href="#1-String-ç±»å‹" class="headerlink" title="1.String ç±»å‹"></a>1.String ç±»å‹</h4><p>String ç±»å‹ç”¨äºè¡¨ç¤ºç”± n ä¸ª 16 ä½ <code>Unicode</code> å­—ç¬¦ç»„æˆçš„å­—ç¬¦åºåˆ—ï¼Œå³å­—ç¬¦ä¸²ã€‚</p><blockquote><p>Unicode ç¬¦å·é›†é‡‡ç”¨ 2 ä¸ªå­—èŠ‚ï¼ˆå³ 16 ä½ bitï¼‰è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå³æœ€å¤šå¯ä»¥è¡¨ç¤º 65535 ä¸ªå­—ç¬¦ï¼Œè¿™æ ·åŸºæœ¬ä¸Šå¯ä»¥è¦†ç›–ä¸–ç•Œä¸Šå¸¸ç”¨çš„æ–‡å­—ã€‚å®ç°äº†æŠŠæ‰€æœ‰çš„è¯­è¨€éƒ½ç»Ÿä¸€åˆ°ä¸€å¥—ç¼–ç ä¸­ã€‚</p></blockquote><h5 id="1-æ‰©å±•ï¼šUTF-8-å’Œ-GBK-çš„å…³ç³»ï¼Ÿ"><a href="#1-æ‰©å±•ï¼šUTF-8-å’Œ-GBK-çš„å…³ç³»ï¼Ÿ" class="headerlink" title="1.æ‰©å±•ï¼šUTF-8 å’Œ GBK çš„å…³ç³»ï¼Ÿ"></a>1.æ‰©å±•ï¼šUTF-8 å’Œ GBK çš„å…³ç³»ï¼Ÿ</h5><blockquote><p>1.UTF-8 æ˜¯ Unicode çš„å®ç°ä¹‹ä¸€ï¼Œå®šä¹‰ Unicode ç¬¦å·é›†å¦‚ä½•å­˜å‚¨ï¼Œæ˜¯ä¸ºäº†æé«˜ 16 ä½ç¼–ç çš„ä½¿ç”¨æ•ˆç‡ã€‚è‹±æ–‡ä½¿ç”¨ä¸€ä¸ªå­—èŠ‚ï¼Œä¸­æ–‡ä½¿ç”¨ä¸‰ä¸ªå­—èŠ‚æ¥å­˜å‚¨ã€‚<br>2.GBK è‹±æ–‡å’Œä¸­æ–‡éƒ½ä½¿ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥å­˜å‚¨ã€‚</p></blockquote><h5 id="2-å¸¸ç”¨æ“ä½œæ–¹æ³•ï¼ˆè¯¦è§èœé¸Ÿæ•™ç¨‹ï¼‰"><a href="#2-å¸¸ç”¨æ“ä½œæ–¹æ³•ï¼ˆè¯¦è§èœé¸Ÿæ•™ç¨‹ï¼‰" class="headerlink" title="2.å¸¸ç”¨æ“ä½œæ–¹æ³•ï¼ˆè¯¦è§èœé¸Ÿæ•™ç¨‹ï¼‰"></a>2.å¸¸ç”¨æ“ä½œæ–¹æ³•ï¼ˆ<a href="https://www.runoob.com/jsref/jsref-obj-string.html">è¯¦è§èœé¸Ÿæ•™ç¨‹</a>ï¼‰</h5><ul><li>å­—ç¬¦æ“ä½œï¼š<code>charAt(index)</code>ï¼ŒcharCodeAtï¼ŒfromCharCode</li><li>å­—ç¬¦ä¸²æå–ï¼š<code>substr(start[,length])</code>ï¼Œsubstring ï¼Œ<code>slice(start[,end])</code></li><li>ä½ç½®ç´¢å¼•ï¼š<code>indexOf(searchvalue[,start])</code> ï¼ŒlastIndexOf</li><li>å¤§å°å†™è½¬æ¢ï¼štoLowerCaseï¼ŒtoUpperCase</li><li>æ¨¡å¼åŒ¹é…ï¼š<code>match(regexp)</code>ï¼Œ<code>search(searchVal)</code>ï¼Œ<code>replace(searchVal,newVal)</code>ï¼Œ<code>split([separator[,limit]])</code></li><li>å…¶ä»–æ“ä½œï¼š<code>concat(string1, string2, ..., stringX)</code>ï¼Œtrimï¼ŒlocaleCompare</li></ul><h5 id="3-åŸºæœ¬åŒ…è£…ç±»å‹ï¼ˆStringã€Numberã€Boolean-éƒ½æ˜¯ï¼‰"><a href="#3-åŸºæœ¬åŒ…è£…ç±»å‹ï¼ˆStringã€Numberã€Boolean-éƒ½æ˜¯ï¼‰" class="headerlink" title="3.åŸºæœ¬åŒ…è£…ç±»å‹ï¼ˆStringã€Numberã€Boolean éƒ½æ˜¯ï¼‰"></a>3.åŸºæœ¬åŒ…è£…ç±»å‹ï¼ˆStringã€Numberã€Boolean éƒ½æ˜¯ï¼‰</h5><p>ä¸ºäº†æ–¹ä¾¿çš„å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ“ä½œï¼ŒECMAScript æä¾›äº†ä¸€ä¸ªåŸºæœ¬åŒ…è£…ç±»å‹ï¼šString å¯¹è±¡ ã€‚å®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å¼•ç”¨ç±»å‹ï¼ŒJS å¼•æ“æ¯å½“è¯»å–ä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œå°±ä¼šåœ¨å†…éƒ¨åˆ›å»ºä¸€ä¸ªå¯¹åº”çš„ String å¯¹è±¡ï¼Œè¯¥å¯¹è±¡æä¾›äº†å¾ˆå¤šæ“ä½œå­—ç¬¦çš„æ–¹æ³•ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆèƒ½å¯¹å­—ç¬¦ä¸²è°ƒç”¨æ–¹æ³•çš„åŸå› ã€‚</p><p>åœ¨è®¿é—®å­—ç¬¦ä¸²æ—¶ï¼ŒJS å¼•æ“å†…éƒ¨ä¼šè‡ªåŠ¨å®Œæˆä¸‹åˆ—å¤„ç†ï¼š</p><ul><li>åˆ›å»º String ç±»å‹çš„ä¸€ä¸ªå®ä¾‹</li><li>åœ¨å®ä¾‹ä¸Šè°ƒç”¨æŒ‡å®šçš„æ–¹æ³•</li><li>é”€æ¯è¿™ä¸ªå®ä¾‹</li></ul><h4 id="2-Number-ç±»å‹"><a href="#2-Number-ç±»å‹" class="headerlink" title="2.Number ç±»å‹"></a>2.Number ç±»å‹</h4><p>åŒç²¾åº¦ IEEE754 64 ä½æµ®ç‚¹æ•°ã€‚JavaScript èƒ½å¤Ÿå‡†ç¡®è¡¨ç¤ºçš„æ•´æ•°èŒƒå›´åœ¨ -2^53 åˆ° 2^53 ä¹‹é—´ï¼ˆä¸å«ä¸¤ä¸ªç«¯ç‚¹ï¼‰ï¼Œè¶…è¿‡è¿™ä¸ªèŒƒå›´ï¼Œæ— æ³•ç²¾ç¡®è¡¨ç¤ºè¿™ä¸ªæ•´æ•°ã€‚</p><h5 id="1-å­˜å‚¨ç»“æ„"><a href="#1-å­˜å‚¨ç»“æ„" class="headerlink" title="1.å­˜å‚¨ç»“æ„"></a>1.å­˜å‚¨ç»“æ„</h5><p><img src="/img/front-end-interview-preparation/number-storage-structure.png" alt="å­˜å‚¨ç»“æ„"></p><h5 id="2-ä¸ºä»€ä¹ˆæµ®ç‚¹æ•°è¿ç®—ä¼šæœ‰è¯¯å·®ï¼Ÿï¼ˆæ¯”å¦‚0-1-0-2-0-3ï¼‰"><a href="#2-ä¸ºä»€ä¹ˆæµ®ç‚¹æ•°è¿ç®—ä¼šæœ‰è¯¯å·®ï¼Ÿï¼ˆæ¯”å¦‚0-1-0-2-0-3ï¼‰" class="headerlink" title="2.ä¸ºä»€ä¹ˆæµ®ç‚¹æ•°è¿ç®—ä¼šæœ‰è¯¯å·®ï¼Ÿï¼ˆæ¯”å¦‚0.1 + 0.2 !== 0.3ï¼‰"></a>2.ä¸ºä»€ä¹ˆæµ®ç‚¹æ•°è¿ç®—ä¼šæœ‰è¯¯å·®ï¼Ÿï¼ˆæ¯”å¦‚<code>0.1 + 0.2 !== 0.3</code>ï¼‰</h5><p>äº‹å®ä¸Šï¼Œè¿™ä¸ªé—®é¢˜å¹¶ä¸åªæ˜¯åœ¨ JavaScript ä¸­æ‰ä¼šå‡ºç°ï¼Œä»»ä½•ä½¿ç”¨äºŒè¿›åˆ¶æµ®ç‚¹æ•°çš„ç¼–ç¨‹è¯­è¨€éƒ½ä¼šæœ‰è¿™ä¸ªé—®é¢˜ã€‚å› ä¸ºåè¿›åˆ¶è½¬æ¢æˆäºŒè¿›åˆ¶å†è¿›è¡Œè¿ç®—ä¼šä¸¢å¤±ç²¾åº¦ï¼Œè®¡ç®—ç»“æœä»äºŒè¿›åˆ¶è½¬æ¢æˆåè¿›åˆ¶ä¹Ÿä¼šä¸¢å¤±ç²¾åº¦ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥æŠŠå°æ•°è½¬åŒ–æˆæ•´æ•°è¿ç®—ä¹‹åå†å˜å›å°æ•°æ¥è§£å†³ã€‚</p><h5 id="3-æ•°å€¼è½¬æ¢"><a href="#3-æ•°å€¼è½¬æ¢" class="headerlink" title="3.æ•°å€¼è½¬æ¢"></a>3.æ•°å€¼è½¬æ¢</h5><p><code>Number(value)</code> å’Œ <code>+ value</code> åªèƒ½å¯¹å­—ç¬¦ä¸²è¿›è¡Œæ•´ä½“è½¬æ¢</p><p><code>parseInt(string[, radix])</code>å’Œ<code>parseFloat(string)</code> å¯ä»¥å¯¹å­—ç¬¦ä¸²è¿›è¡Œéƒ¨åˆ†è½¬æ¢ï¼Œå³åªè½¬æ¢ç¬¬ä¸€ä¸ªæ— æ•ˆå­—ç¬¦ä¹‹å‰çš„å­—ç¬¦</p><h5 id="4-ä½è¿ç®—"><a href="#4-ä½è¿ç®—" class="headerlink" title="4.ä½è¿ç®—"></a>4.ä½è¿ç®—</h5><p>ECMAScript ä¸­çš„æ•°å€¼ä»¥ 64 ä½åŒç²¾åº¦æµ®ç‚¹æ•°å­˜å‚¨ï¼Œä½†ä½è¿ç®—åªèƒ½ä½œç”¨äºæ•´æ•°ï¼Œå› æ­¤è¦å…ˆå°† 64 ä½çš„æµ®ç‚¹æ•°è½¬æ¢æˆ 32 ä½çš„æ•´æ•°ï¼Œç„¶åå†è¿›è¡Œä½è¿ç®—ï¼Œæœ€åå†å°†è®¡ç®—ç»“æœè½¬æ¢æˆ 64 ä½æµ®ç‚¹æ•°å­˜å‚¨ã€‚å¸¸è§çš„ä½è¿ç®—æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p><ul><li><code>&amp;</code> ä¸</li><li><code>|</code> æˆ–</li><li><code>~</code> é</li><li><code>^</code> å¼‚æˆ–</li><li><code>&lt;&lt;</code> å·¦ç§»</li><li><code>&gt;&gt;</code> ç®—æ•°å³ç§»(æœ‰ç¬¦å·å³ç§») ç§»ä½çš„æ—¶å€™é«˜ä½è¡¥çš„æ˜¯å…¶ç¬¦å·ä½ï¼Œæ•´æ•°åˆ™è¡¥ 0ï¼Œè´Ÿæ•°åˆ™è¡¥ 1</li><li><code>&gt;&gt;&gt;</code> é€»è¾‘å³ç§»(æ— ç¬¦å·å³ç§») å³ç§»çš„æ—¶å€™é«˜ä½å§‹ç»ˆè¡¥ 0</li></ul><h5 id="5-å››èˆäº”å…¥"><a href="#5-å››èˆäº”å…¥" class="headerlink" title="5.å››èˆäº”å…¥"></a>5.å››èˆäº”å…¥</h5><ul><li>å‘ä¸Šå–æ•´ï¼š<code>Math.ceil</code></li><li>å‘ä¸‹å–æ•´ï¼š<code>Math.floor</code></li><li>å››èˆäº”å…¥ï¼š<code>Math.round</code></li><li>å›ºå®šç²¾åº¦ï¼ˆå°æ•°ç‚¹å x ä½ï¼‰ï¼š<code>toFixed(x)</code></li><li>å›ºå®šé•¿åº¦ï¼š<code>toPrecision(x)</code></li><li>å–æ•´ï¼š<code>parseInt</code>ã€ä½è¿ç®—</li></ul><h4 id="3-Boolean-ç±»å‹"><a href="#3-Boolean-ç±»å‹" class="headerlink" title="3.Boolean ç±»å‹"></a>3.Boolean ç±»å‹</h4><p>Boolean ç±»å‹åªæœ‰ä¸¤ä¸ªå­—é¢å€¼ï¼štrue å’Œ falseã€‚åœ¨ JavaScript ä¸­ï¼Œæ‰€æœ‰ç±»å‹çš„å€¼éƒ½å¯ä»¥è½¬åŒ–ä¸ºä¸ Boolean ç­‰ä»·çš„å€¼ã€‚</p><p>JavaScript æŒ‰ç…§å¦‚ä¸‹è§„åˆ™å°†å˜é‡è½¬æ¢æˆå¸ƒå°”ç±»å‹ï¼š</p><ul><li>falseã€0ã€ç©ºå­—ç¬¦ä¸²ï¼ˆâ€â€ï¼‰ã€NaNã€null å’Œ undefined è¢«è½¬æ¢ä¸º false</li><li>æ‰€æœ‰å…¶ä»–å€¼è¢«è½¬æ¢ä¸º true</li></ul><p>é™¤äº†ä½¿ç”¨<code>Boolean()</code>å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œä¸‹é¢å››ç§æ“ä½œä¹Ÿè¿”å› Boolean å€¼ã€‚</p><h5 id="1-å…³ç³»æ“ä½œç¬¦ï¼š-gt-ï¼Œ-gt-x3D-ï¼Œ-lt-ï¼Œ-lt-x3D"><a href="#1-å…³ç³»æ“ä½œç¬¦ï¼š-gt-ï¼Œ-gt-x3D-ï¼Œ-lt-ï¼Œ-lt-x3D" class="headerlink" title="1.å…³ç³»æ“ä½œç¬¦ï¼š&gt;ï¼Œ&gt;&#x3D;ï¼Œ&lt;ï¼Œ&lt;&#x3D;"></a>1.å…³ç³»æ“ä½œç¬¦ï¼š&gt;ï¼Œ&gt;&#x3D;ï¼Œ&lt;ï¼Œ&lt;&#x3D;</h5><p>å½“å…³ç³»æ“ä½œç¬¦çš„æ“ä½œæ•°ä½¿ç”¨äº†éæ•°å€¼æ—¶ï¼Œè¦è¿›è¡Œæ•°æ®è½¬æ¢ï¼š</p><ul><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯æ•°å€¼ï¼Œåˆ™æ‰§è¡Œæ•°å€¼æ¯”è¾ƒã€‚</li><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™é€ä¸ªæ¯”è¾ƒä¸¤è€…å¯¹åº”çš„å­—ç¬¦ç¼–ç (charCode)ï¼Œç›´åˆ°åˆ†å‡ºå¤§å°ä¸ºæ­¢ ã€‚</li><li>å¦‚æœæ“ä½œæ•°æ˜¯å…¶ä»–åŸºæœ¬ç±»å‹ï¼Œåˆ™è°ƒç”¨ Number() å°†å…¶è½¬åŒ–ä¸ºæ•°å€¼ï¼Œç„¶åè¿›è¡Œæ¯”è¾ƒã€‚</li><li>NaN ä¸ä»»ä½•å€¼æ¯”è¾ƒï¼Œå‡è¿”å› false ã€‚</li><li>å¦‚æœæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼Œåˆ™è°ƒç”¨å¯¹è±¡çš„ valueOf æ–¹æ³•ï¼ˆå¦‚æœæ²¡æœ‰ valueOf ï¼Œå°±è°ƒç”¨ toString æ–¹æ³•ï¼‰ï¼Œæœ€åç”¨å¾—åˆ°çš„ç»“æœï¼Œæ ¹æ®å‰é¢çš„è§„åˆ™æ‰§è¡Œæ¯”è¾ƒã€‚</li></ul><h5 id="2-ç›¸ç­‰æ“ä½œç¬¦ï¼š-x3D-x3D-ï¼Œ-x3D-ï¼Œ-x3D-x3D-x3D-ï¼Œ-x3D-x3D"><a href="#2-ç›¸ç­‰æ“ä½œç¬¦ï¼š-x3D-x3D-ï¼Œ-x3D-ï¼Œ-x3D-x3D-x3D-ï¼Œ-x3D-x3D" class="headerlink" title="2.ç›¸ç­‰æ“ä½œç¬¦ï¼š &#x3D;&#x3D;ï¼Œ!&#x3D;ï¼Œ&#x3D;&#x3D;&#x3D;ï¼Œ!&#x3D;&#x3D;"></a>2.ç›¸ç­‰æ“ä½œç¬¦ï¼š &#x3D;&#x3D;ï¼Œ!&#x3D;ï¼Œ&#x3D;&#x3D;&#x3D;ï¼Œ!&#x3D;&#x3D;</h5><p>&#x3D;&#x3D;&#x3D; å’Œ !&#x3D;&#x3D; æ“ä½œç¬¦æœ€å¤§çš„ç‰¹ç‚¹æ˜¯ï¼Œåœ¨æ¯”è¾ƒä¹‹å‰ä¸è½¬æ¢æ“ä½œæ•°ã€‚ä¸åŒç±»å‹çš„è¿”å›<code>false</code>ï¼Œç›¸åŒç±»å‹è¿›è¡Œå¦‚ä¸‹æ¯”è¾ƒï¼š</p><ul><li>Stringï¼štrue ä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å…·æœ‰ç›¸åŒé¡ºåºçš„ç›¸åŒå­—ç¬¦æ—¶æ‰è¿”å›ã€‚</li><li>Numberï¼štrue ä»…å½“ä¸¤ä¸ªæ“ä½œæ•°å…·æœ‰ç›¸åŒçš„å€¼æ—¶æ‰è¿”å›ã€‚+0 å¹¶è¢«-0 è§†ä¸ºç›¸åŒçš„å€¼ã€‚å¦‚æœä»»ä¸€æ“ä½œæ•°ä¸º NaNï¼Œåˆ™è¿”å› falseã€‚</li><li>Booleanï¼štrue ä»…å½“æ“ä½œæ•°ä¸ºä¸¤ä¸ª true æˆ–ä¸¤ä¸ª false æ—¶æ‰è¿”å› trueã€‚</li></ul><p>&#x3D;&#x3D; å’Œ !&#x3D; æ“ä½œç¬¦éƒ½ä¼šå…ˆè½¬æ¢æ“ä½œæ•°ï¼Œç„¶åå†æ¯”è¾ƒå®ƒä»¬çš„ç›¸ç­‰æ€§ã€‚åœ¨è½¬æ¢ä¸åŒçš„æ•°æ®ç±»å‹æ—¶ï¼Œéœ€è¦éµå¾ªæŠ½è±¡ç›¸ç­‰æ¯”è¾ƒç®—æ³•ã€‚å¤§è‡´æ¦‚å†µå¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°éƒ½æ˜¯å¯¹è±¡ï¼Œåˆ™ä»…å½“ä¸¤ä¸ªæ“ä½œæ•°éƒ½å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡æ—¶æ‰è¿”å› trueã€‚</li><li>å¦‚æœä¸€ä¸ªæ“ä½œæ•°æ˜¯ nullï¼Œå¦ä¸€ä¸ªæ“ä½œæ•°æ˜¯ undefinedï¼Œåˆ™è¿”å› trueã€‚</li><li>å¦‚æœä¸¤ä¸ªæ“ä½œæ•°æ˜¯ä¸åŒç±»å‹çš„ï¼Œå°±ä¼šå°è¯•åœ¨æ¯”è¾ƒä¹‹å‰å°†å®ƒä»¬è½¬æ¢ä¸ºç›¸åŒç±»å‹ï¼š<ul><li>å½“æ•°å­—ä¸å­—ç¬¦ä¸²è¿›è¡Œæ¯”è¾ƒæ—¶ï¼Œä¼šå°è¯•å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—å€¼ã€‚</li><li>å¦‚æœæ“ä½œæ•°ä¹‹ä¸€æ˜¯ Booleanï¼Œåˆ™å°†å¸ƒå°”æ“ä½œæ•°è½¬æ¢ä¸º 1 æˆ– 0ã€‚</li><li>å¦‚æœæ“ä½œæ•°ä¹‹ä¸€æ˜¯å¯¹è±¡ï¼Œå¦ä¸€ä¸ªæ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²ï¼Œä¼šå°è¯•ä½¿ç”¨å¯¹è±¡çš„ valueOf()å’Œ toString()æ–¹æ³•å°†å¯¹è±¡è½¬æ¢ä¸ºåŸå§‹å€¼ã€‚</li></ul></li><li>å¦‚æœæ“ä½œæ•°å…·æœ‰ç›¸åŒçš„ç±»å‹ï¼Œåˆ™å°†å®ƒä»¬æŒ‰ä¸Šé¢&#x3D;&#x3D;&#x3D;ä¸€æ ·çš„è§„åˆ™è¿›è¡Œæ¯”è¾ƒã€‚</li></ul><h5 id="3-å¸ƒå°”æ“ä½œç¬¦ï¼š"><a href="#3-å¸ƒå°”æ“ä½œç¬¦ï¼š" class="headerlink" title="3.å¸ƒå°”æ“ä½œç¬¦ï¼š!"></a>3.å¸ƒå°”æ“ä½œç¬¦ï¼š!</h5><p>åŒ <code>Boolean()</code> çš„è§„åˆ™<br>PSï¼šåˆ©ç”¨ ! çš„å–åçš„ç‰¹ç‚¹ï¼Œä½¿ç”¨ !! å¯ä»¥å¾ˆæ–¹ä¾¿çš„å°†ä¸€ä¸ªä»»æ„ç±»å‹å€¼è½¬æ¢ä¸ºå¸ƒå°”å€¼ã€‚</p><h5 id="4-æ¡ä»¶è¯­å¥ï¼šifï¼Œwhileï¼Œ"><a href="#4-æ¡ä»¶è¯­å¥ï¼šifï¼Œwhileï¼Œ" class="headerlink" title="4.æ¡ä»¶è¯­å¥ï¼šifï¼Œwhileï¼Œ?"></a>4.æ¡ä»¶è¯­å¥ï¼šifï¼Œwhileï¼Œ?</h5><p>åŒ <code>Boolean()</code> çš„è§„åˆ™</p><h4 id="4-Undefined-ç±»å‹"><a href="#4-Undefined-ç±»å‹" class="headerlink" title="4.Undefined ç±»å‹"></a>4.Undefined ç±»å‹</h4><p>Undefined æ˜¯ Javascript ä¸­ç‰¹æ®Šçš„åŸå§‹æ•°æ®ç±»å‹ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ undefinedï¼Œå­—é¢æ„æ€æ˜¯ï¼šæœªå®šä¹‰çš„å€¼ã€‚å®ƒçš„è¯­ä¹‰æ˜¯ï¼Œå¸Œæœ›è¡¨ç¤ºä¸€ä¸ªå˜é‡æœ€åŸå§‹çš„çŠ¶æ€ï¼Œè€Œéäººä¸ºæ“ä½œçš„ç»“æœã€‚è¿™ç§åŸå§‹çŠ¶æ€ä¼šåœ¨ä»¥ä¸‹ 4 ç§åœºæ™¯ä¸­å‡ºç°ï¼š</p><ul><li>å£°æ˜äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ²¡æœ‰èµ‹å€¼</li><li>è®¿é—®å¯¹è±¡ä¸Šä¸å­˜åœ¨çš„å±æ€§</li><li>å‡½æ•°å®šä¹‰äº†å½¢å‚ï¼Œä½†æ²¡æœ‰ä¼ é€’å®å‚</li><li>ä½¿ç”¨ void å¯¹è¡¨è¾¾å¼æ±‚å€¼ï¼šECMAScript æ˜ç¡®è§„å®š void æ“ä½œç¬¦ å¯¹ä»»ä½•è¡¨è¾¾å¼æ±‚å€¼éƒ½è¿”å› undefined</li></ul><h4 id="5-Null-ç±»å‹"><a href="#5-Null-ç±»å‹" class="headerlink" title="5.Null ç±»å‹"></a>5.Null ç±»å‹</h4><p>Null æ˜¯ Javascript ä¸­ç‰¹æ®Šçš„åŸå§‹æ•°æ®ç±»å‹ï¼Œå®ƒåªæœ‰ä¸€ä¸ªå€¼ï¼Œå³ nullï¼Œå­—é¢æ„æ€æ˜¯ï¼šâ€œç©ºå€¼â€ã€‚å®ƒçš„è¯­ä¹‰æ˜¯ï¼Œå¸Œæœ›è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡è¢«äººä¸ºçš„é‡ç½®ä¸ºç©ºå¯¹è±¡ï¼Œè€Œéä¸€ä¸ªå˜é‡æœ€åŸå§‹çš„çŠ¶æ€ã€‚</p><h4 id="6-Symbol-ç±»å‹"><a href="#6-Symbol-ç±»å‹" class="headerlink" title="6.Symbol ç±»å‹"></a>6.Symbol ç±»å‹</h4><p>Symbol æ˜¯ ES6 æ–°å¢çš„ä¸€ç§åŸå§‹æ•°æ®ç±»å‹ï¼Œå®ƒçš„å­—é¢æ„æ€æ˜¯ï¼šç¬¦å·ã€æ ‡è®°ï¼Œä»£è¡¨ç‹¬ä¸€æ— äºŒçš„å€¼ã€‚</p><p>Symbol ä½œä¸ºåŸºæœ¬ç±»å‹ï¼Œæ²¡æœ‰å¯¹åº”çš„åŒ…è£…ç±»å‹ï¼Œä¹Ÿå°±æ˜¯è¯´ Symbol æœ¬èº«ä¸æ˜¯å¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ä¸ªå‡½æ•°ã€‚å› æ­¤ï¼Œåœ¨ç”Ÿæˆ Symbol ç±»å‹å€¼çš„æ—¶å€™ï¼Œä¸èƒ½ä½¿ç”¨ new æ“ä½œç¬¦ ã€‚</p><h4 id="7-Object-ç±»å‹"><a href="#7-Object-ç±»å‹" class="headerlink" title="7.Object ç±»å‹"></a>7.Object ç±»å‹</h4><h5 id="1-å­˜å‚¨æ–¹å¼ï¼šå †å­˜å‚¨"><a href="#1-å­˜å‚¨æ–¹å¼ï¼šå †å­˜å‚¨" class="headerlink" title="1.å­˜å‚¨æ–¹å¼ï¼šå †å­˜å‚¨"></a>1.å­˜å‚¨æ–¹å¼ï¼šå †å­˜å‚¨</h5><h5 id="2-å†…éƒ¨ç‰¹æ€§"><a href="#2-å†…éƒ¨ç‰¹æ€§" class="headerlink" title="2.å†…éƒ¨ç‰¹æ€§"></a>2.å†…éƒ¨ç‰¹æ€§</h5><p>ECMA-262 ç¬¬ 5 ç‰ˆå®šä¹‰äº†ä¸€äº›å†…éƒ¨ç‰¹æ€§ï¼ˆattributeï¼‰ï¼Œç”¨ä»¥æè¿°å¯¹è±¡å±æ€§ï¼ˆpropertyï¼‰çš„å„ç§ç‰¹å¾ã€‚ECMA-262 å®šä¹‰è¿™äº›ç‰¹æ€§æ˜¯ä¸ºäº†å®ç° JavaScript å¼•æ“ç”¨çš„ï¼Œå› æ­¤åœ¨ JavaScript ä¸­ä¸èƒ½ç›´æ¥è®¿é—®å®ƒä»¬ã€‚ä¸ºäº†è¡¨ç¤ºç‰¹æ€§æ˜¯å†…éƒ¨å€¼ï¼Œè¯¥è§„èŒƒæŠŠå®ƒä»¬æ”¾åœ¨äº†ä¸¤å¯¹å„¿æ–¹æ‹¬å·ä¸­ï¼Œä¾‹å¦‚<code>[[Enumerable]]</code>ã€‚ è¿™äº›å†…éƒ¨ç‰¹æ€§å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼šæ•°æ®å±æ€§å’Œè®¿é—®å™¨å±æ€§ã€‚</p><ul><li>æ•°æ®å±æ€§<ul><li><code>[[Configurable]]</code>ï¼šèƒ½å¦é€šè¿‡ delete åˆ é™¤å±æ€§ä»è€Œé‡æ–°å®šä¹‰å±æ€§ï¼Œæˆ–è€…èƒ½å¦æŠŠå±æ€§ä¿®æ”¹ä¸ºè®¿é—®å™¨å±æ€§ã€‚è¯¥é»˜è®¤å€¼ä¸º trueã€‚</li><li><code>[[Enumerable]]</code>ï¼šè¡¨ç¤ºèƒ½å¦é€šè¿‡ for-in å¾ªç¯è¿”å›å±æ€§ã€‚é»˜è®¤å€¼ä¸º trueã€‚</li><li><code>[[Writable]]</code>ï¼šèƒ½å¦ä¿®æ”¹å±æ€§çš„å€¼ã€‚é»˜è®¤å€¼ä¸º trueã€‚</li><li><code>[[Value]]</code>ï¼šåŒ…å«è¿™ä¸ªå±æ€§çš„æ•°æ®å€¼ã€‚è¯»å–å±æ€§å€¼çš„æ—¶å€™ï¼Œä»è¿™ä¸ªä½ç½®è¯»ï¼›å†™å…¥å±æ€§å€¼çš„æ—¶å€™ï¼ŒæŠŠæ–°å€¼ä¿å­˜åœ¨è¿™ä¸ªä½ç½®ã€‚é»˜è®¤å€¼ä¸º undefined ã€‚</li></ul></li><li>è®¿é—®å™¨å±æ€§<ul><li><code>[[Get]]</code>ï¼šåœ¨è¯»å–å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤å€¼ä¸º undefined</li><li><code>[[Set]]</code>ï¼šåœ¨å†™å…¥å±æ€§æ—¶è°ƒç”¨çš„å‡½æ•°ã€‚é»˜è®¤å€¼ä¸º undefined</li></ul></li></ul><p>è¦ä¿®æ”¹å±æ€§é»˜è®¤çš„ç‰¹æ€§ï¼Œå¿…é¡»ä½¿ç”¨ ECMAScript 5 çš„ Object.defineProperty() æ–¹æ³•</p><h5 id="3-å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼š"><a href="#3-å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼š" class="headerlink" title="3.å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼š"></a>3.å¯¹è±¡åˆ›å»ºæ–¹å¼ï¼š</h5><ul><li>å¯¹è±¡è‡ªå˜é‡ã€new Object()</li><li>å·¥å‚æ¨¡å¼ã€æ„é€ å‡½æ•°ã€åŸå‹æ¨¡å¼</li><li>ç»„åˆä½¿ç”¨æ„é€ å‡½æ•°æ¨¡å¼å’ŒåŸå‹æ¨¡å¼ï¼šä½¿ç”¨è¿™ç§æ¨¡å¼åˆ›å»ºå¯¹è±¡ï¼Œæ¯ä¸ªå®ä¾‹éƒ½ä¼šæœ‰è‡ªå·±çš„ä¸€ä»½å®ä¾‹å±æ€§çš„å‰¯æœ¬ï¼Œä½†åŒæ—¶åˆå…±äº«ç€å¯¹æ–¹æ³•çš„å¼•ç”¨ï¼Œæœ€å¤§é™åº¦åœ°èŠ‚çœäº†å†…å­˜</li></ul><p>1.å·¥å‚æ¨¡å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></div></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">cteateDog</span>(<span class="hljs-params"></span>)&#123;<br><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>();<br><span class="hljs-comment">// ...</span><br><span class="hljs-keyword">return</span> obj;<br>&#125;<br></code></pre></td></tr></table></figure><p>2.æ„é€ å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Dog</span>(<span class="hljs-params"></span>) &#123;&#125;<br><span class="hljs-keyword">const</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();<br></code></pre></td></tr></table></figure><p>3.åŸå‹æ¨¡å¼</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">myDog</span>(<span class="hljs-params"></span>)&#123;&#125;<br>myDog.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;doggy&#x27;</span>;<br>myDog.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">attack</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-comment">//...</span><br>&#125;;<br><span class="hljs-keyword">var</span> dog = <span class="hljs-keyword">new</span> <span class="hljs-title function_">myDog</span>();<br></code></pre></td></tr></table></figure><h5 id="4-æ·±æ‹·è´-x2F-æµ…æ‹·è´"><a href="#4-æ·±æ‹·è´-x2F-æµ…æ‹·è´" class="headerlink" title="4.æ·±æ‹·è´&#x2F;æµ…æ‹·è´"></a>4.æ·±æ‹·è´&#x2F;æµ…æ‹·è´</h5><p>æ·±æ‹·è´ï¼šå¯¹ç›®æ ‡çš„å®Œå…¨æ‹·è´ï¼Œä¸åƒæµ…æ‹·è´é‚£æ ·åªæ˜¯å¤åˆ¶äº†ä¸€å±‚å¼•ç”¨ï¼Œå°±è¿å€¼ä¹Ÿéƒ½å¤åˆ¶äº†ã€‚</p><ol><li><p>ä½¿ç”¨ JSON.stringify å’Œ JSON.parseï¼ˆä½†ä¸å¯ä»¥æ‹·è´å‡½æ•°ã€æ­£åˆ™ç­‰ç‰¹æ®Šå±æ€§ï¼‰</p><p>æ³¨ï¼šå¦‚æœå¯¹è±¡ä¸­å«æœ‰ä¸€ä¸ªå‡½æ•°æ—¶ï¼ˆå¾ˆå¸¸è§ï¼‰ï¼Œå°±ä¸èƒ½ç”¨è¿™ä¸ªæ–¹æ³•è¿›è¡Œæ·±æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> obj1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;cat&quot;</span>,<br>  <span class="hljs-attr">show</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  &#125;,<br>&#125;;<br><span class="hljs-keyword">var</span> obj2 = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj1));<br><br>obj2.<span class="hljs-property">name</span> = <span class="hljs-string">&quot;pig&quot;</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj1.<span class="hljs-property">name</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj2.<span class="hljs-property">name</span>);<br><br>obj1.<span class="hljs-title function_">show</span>();<br>obj2.<span class="hljs-title function_">show</span>(); <span class="hljs-comment">//å‡½æ•°è¢«ä¸¢å¤±</span><br></code></pre></td></tr></table></figure></li><li><p>å†™ä¸€ä¸ªé€’å½’å‡½æ•°å»æ‹·è´</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//å¯¹è±¡</span><br><span class="hljs-keyword">var</span> obj1 = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;cat&quot;</span>,<br>  <span class="hljs-attr">show</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-comment">//è¿™ç§æ·±æ‹·è´å‡½æ•°ä¸ä¼šä¸¢å¤±</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">deepClone</span>(<span class="hljs-params">obj</span>) &#123;<br>  <span class="hljs-keyword">let</span> result = obj;<br>  <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> obj == <span class="hljs-string">&quot;object&quot;</span>) &#123;<br>    result = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(obj) ? [] : &#123;&#125;;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> obj) &#123;<br>      result[key] =<br>        <span class="hljs-keyword">typeof</span> obj[key] == <span class="hljs-string">&quot;object&quot;</span> ? <span class="hljs-title function_">deepClone</span>(obj[key]) : obj[key];<br>    &#125;<br>  &#125;<br><br>  <span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-keyword">var</span> obj3 = <span class="hljs-title function_">deepClone</span>(obj1);<br><span class="hljs-comment">//è¾“å‡ºcat</span><br>obj3.<span class="hljs-title function_">show</span>();<br></code></pre></td></tr></table></figure></li></ol><p>æµ…æ‹·è´ï¼šæµ…æ‹·è´å°±åªæ˜¯å¤åˆ¶å¯¹è±¡çš„å¼•ç”¨ã€‚</p><ol><li><code>Object.assign()</code></li><li><code>arr.slice()</code>ï¼Œ<code>arr.concat()</code></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> obj = &#123;<span class="hljs-attr">base</span>:&#123;<span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;Jack&#x27;</span>&#125;&#125;;<br><span class="hljs-keyword">var</span> obj2 = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(&#123;&#125;,obj);<br>obj2.<span class="hljs-property">base</span>.<span class="hljs-property">name</span> =<span class="hljs-string">&#x27;Tom&#x27;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj.<span class="hljs-property">base</span>.<span class="hljs-property">name</span>,obj2.<span class="hljs-property">base</span>.<span class="hljs-property">name</span>);<span class="hljs-comment">//Tom Tom</span><br></code></pre></td></tr></table></figure><h4 id="æ•°æ®ç±»å‹çš„æ¯”è¾ƒ"><a href="#æ•°æ®ç±»å‹çš„æ¯”è¾ƒ" class="headerlink" title="æ•°æ®ç±»å‹çš„æ¯”è¾ƒ"></a>æ•°æ®ç±»å‹çš„æ¯”è¾ƒ</h4><ul><li><code>==</code> å¦‚æœæ•°å€¼ä¸ç›¸ç­‰ï¼Œä¼šè¿›è¡Œç±»å‹è½¬æ¢</li><li><code>===</code> ä¸è¿›è¡Œç±»å‹è½¬æ¢</li><li><code>Object.is</code> å’Œ<code>===</code>ç±»ä¼¼ï¼Œä½†æ˜¯å¯¹äº NaN,+0,-0 ä¼šæœ‰ç‰¹æ®Šå¤„ç†<ul><li><code>Object.is(NaN, NaN)</code> true</li><li><code>Object.is(+0, -0)</code> false</li></ul></li><li><code>fun1.toString() === fun2.toString()</code> åˆ¤æ–­ä¸¤ä¸ªå‡½æ•°ç›¸ç­‰</li></ul><h4 id="åˆ¤æ–­ç±»å‹çš„æ–¹æ³•"><a href="#åˆ¤æ–­ç±»å‹çš„æ–¹æ³•" class="headerlink" title="åˆ¤æ–­ç±»å‹çš„æ–¹æ³•"></a>åˆ¤æ–­ç±»å‹çš„æ–¹æ³•</h4><ol><li>typeof èƒ½åˆ¤æ–­å‡ºåŸºæœ¬æ•°æ®ç±»å‹(åŒ…æ‹¬ es6 ä¸­çš„ symbolï¼Œé™¤äº† null)å’Œ objectã€function<ul><li>null è¢«æ£€æµ‹ä¸º objectï¼šJS åœ¨åº•å±‚å­˜å‚¨å˜é‡çš„æ—¶å€™ï¼Œä¼šåœ¨å˜é‡çš„æœºå™¨ç çš„ä½ä½ 1-3 ä½å­˜å‚¨å…¶ç±»å‹ä¿¡æ¯ã€‚å‰ä¸‰ä½éƒ½ä¸º 0 çš„è¯ä¼šè¢«åˆ¤æ–­ä¸º object ç±»å‹ï¼Œnull çš„äºŒè¿›åˆ¶è¡¨ç¤ºå…¨æ˜¯ 0ï¼Œè‡ªç„¶å‰ä¸‰ä½ä¹Ÿæ˜¯ 0ï¼Œæ‰€ä»¥æ‰§è¡Œ typeof æ—¶è¿”å›â€objectâ€ï¼Œè¿™æ˜¯ JS çš„å†å²é—ç•™ bugã€‚</li></ul></li><li>instanceof æ£€æµ‹æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šæ˜¯å¦èƒ½æ‰¾åˆ°æ„é€ å‡½æ•°çš„ prototype å±æ€§ï¼š<code>[object] instanceof [constructor]</code><ul><li>ä¾‹å¦‚<code>f instanceof Foo</code>çš„é€»è¾‘æ˜¯ï¼šf çš„<code>__proto__</code>ä¸€å±‚ä¸€å±‚å¾€ä¸Šï¼Œèƒ½å¦å¯¹åº”åˆ° <code>Foo.prototype</code> çš„</li><li>å¯¹äºnumber,string,booleanè¿™ä¸‰ç§ç±»å‹,åªæœ‰é€šè¿‡æ„é€ å‡½æ•°å®šä¹‰æ‰èƒ½æ£€æµ‹å‡ºï¼Œè¯¦è§ä¸‹é¢ä»£ç ã€‚</li></ul></li><li>constructorï¼š<code>[object].constructor === [constructor]</code><ul><li>å¼Šç«¯å°±æ˜¯ constructor æ‰€æŒ‡å‘çš„çš„æ„é€ å‡½æ•°æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„</li></ul></li><li><code>Object.prototype.toString.call()</code></li><li>ä½¿ç”¨ APIï¼šå¦‚<code>Array.isArray()</code></li></ol><p>æ³¨æ„ä¸€ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">let</span> n = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">typeof</span> n; <span class="hljs-comment">// number</span><br>n <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>; <span class="hljs-comment">// false</span><br><span class="hljs-comment">// ---------------------</span><br><span class="hljs-keyword">let</span> n2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Number</span>(<span class="hljs-number">1</span>);<br><span class="hljs-keyword">typeof</span> n2; <span class="hljs-comment">// object</span><br>n <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Number</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><p><img src="/img/front-end-interview-preparation/js-prototype.png" alt="åŸå‹-å¤§çº²"></p><h4 id="åŸå‹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#åŸå‹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="åŸå‹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>åŸå‹æ˜¯ä»€ä¹ˆï¼Ÿ</h4><p>JavaScript å¸¸è¢«æè¿°ä¸ºä¸€ç§åŸºäºåŸå‹çš„è¯­è¨€â€”â€”æ¯ä¸ªå¯¹è±¡æ‹¥æœ‰ä¸€ä¸ªåŸå‹å¯¹è±¡ã€‚</p><p><img src="/img/front-end-interview-preparation/js-prototype-outline.png" alt="åŸå‹-å¤§çº²"></p><p>ä¸‹é¢ä¸¾ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Foo</span>(<span class="hljs-params"></span>) &#123;&#125;<br><span class="hljs-keyword">const</span> f1 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Foo</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(f1.<span class="hljs-property">__proto__</span>); <span class="hljs-comment">// æŒ‡å‘æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>); <span class="hljs-comment">// ä½œä¸ºå‡½æ•°ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡</span><br></code></pre></td></tr></table></figure><p>æ§åˆ¶å°è¾“å‡ºï¼š</p><p><code>f1.__proto__</code>å’Œ<code>Foo.prototype</code>æŒ‡å‘çš„æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œå³ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javaScript">&#123;<br>    <span class="hljs-attr">constructor</span>: Æ’ <span class="hljs-title class_">Foo</span>(), <span class="hljs-comment">// constructoræŒ‡å‘æ„é€ å‡½æ•°</span><br>    [[prototype]]: <span class="hljs-title class_">Object</span> <span class="hljs-comment">// åŸå‹é“¾ä¸­ä¼šä»‹ç»</span><br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/img/front-end-interview-preparation/prototype.png" alt="prototype"></p><p>æ€»ç»“ï¼š</p><ul><li>å¯¹è±¡<ul><li><code>__proto__</code>å±æ€§ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡</li><li><code>constructor</code>å±æ€§ï¼ŒæŒ‡å‘æ„é€ å‡½æ•°</li></ul></li><li>å‡½æ•°<ul><li>ä¹Ÿæ˜¯å¯¹è±¡ï¼Œä¹Ÿæœ‰<code>__proto__</code>å’Œ<code>constructor</code>å±æ€§<ul><li>å‡½æ•°çš„<code>__proto__</code>æŒ‡å‘<code>Function.prototype</code></li><li>å‡½æ•°çš„<code>constructor</code>æŒ‡å‘<code>Function</code></li></ul></li><li>è¿˜æœ‰<code>prototype</code>å±æ€§ï¼ŒæŒ‡å‘åŸå‹å¯¹è±¡ï¼ˆè€Œè¿™ä¸ªåŸå‹å¯¹è±¡çš„constructorå±æ€§åˆæŒ‡å‘è¯¥å‡½æ•°ï¼‰</li></ul></li></ul><h4 id="åŸå‹é“¾"><a href="#åŸå‹é“¾" class="headerlink" title="åŸå‹é“¾"></a>åŸå‹é“¾</h4><p>å½“è®¿é—®ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªå±æ€§æ—¶ï¼Œä¼šå…ˆåœ¨è¿™ä¸ªå¯¹è±¡æœ¬èº«å±æ€§ä¸ŠæŸ¥æ‰¾ï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™ä¼šå»å®ƒçš„åŸå‹å¯¹è±¡ä¸ŠæŸ¥æ‰¾ï¼Œè¿™æ ·çš„é“¾å¼ç»“æ„å«åšåŸå‹é“¾ã€‚</p><p><img src="/img/front-end-interview-preparation/prototype2.png" alt="åŸå‹é“¾"></p><p>æ¯ä¸ªå¯¹è±¡çš„__proto__éƒ½æ˜¯æŒ‡å‘å®ƒçš„æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡çš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javaScript">f1.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br></code></pre></td></tr></table></figure><p>æ„é€ å‡½æ•°æ˜¯ä¸€ä¸ªå‡½æ•°å¯¹è±¡ï¼Œæ˜¯é€šè¿‡ Function æ„é€ å™¨äº§ç”Ÿçš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-title class_">Foo</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br></code></pre></td></tr></table></figure><p>åŸå‹å¯¹è±¡æœ¬èº«æ˜¯ä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œè€Œæ™®é€šå¯¹è±¡çš„æ„é€ å‡½æ•°éƒ½æ˜¯Objectï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-title class_">Foo</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br></code></pre></td></tr></table></figure><p>æ‰€æœ‰çš„æ„é€ å‡½æ•°éƒ½æ˜¯å‡½æ•°å¯¹è±¡ï¼ˆåŒ…æ‹¬Objectï¼‰ï¼Œå‡½æ•°å¯¹è±¡éƒ½æ˜¯ Function æ„é€ äº§ç”Ÿçš„ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-title class_">Object</span>.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Function</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span><br></code></pre></td></tr></table></figure><p>Objectçš„åŸå‹å¯¹è±¡ä¹Ÿæœ‰__proto__å±æ€§æŒ‡å‘nullï¼Œnullæ˜¯åŸå‹é“¾çš„é¡¶ç«¯ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">__proto__</span> === <span class="hljs-literal">null</span><br></code></pre></td></tr></table></figure><p>æ€»è€Œè¨€ä¹‹ï¼ŒåŸå‹é“¾çš„å°½å¤´: </p><ol><li>å¯¹è±¡ç»§æ‰¿è‡ªæ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡</li><li>æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡æœ¬èº«æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œç»§æ‰¿çš„æ˜¯Object.prototype</li><li>Object.prototypeçš„__proto__æœ€ç»ˆæŒ‡å‘nullï¼Œnullæ˜¯åŸå‹é“¾çš„é¡¶ç«¯ã€‚</li></ol><h4 id="å½“æˆ‘ä»¬newä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œnewåšäº†ä»€ä¹ˆï¼Ÿ"><a href="#å½“æˆ‘ä»¬newä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œnewåšäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="å½“æˆ‘ä»¬newä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œnewåšäº†ä»€ä¹ˆï¼Ÿ"></a>å½“æˆ‘ä»¬newä¸€ä¸ªå®ä¾‹çš„æ—¶å€™ï¼Œnewåšäº†ä»€ä¹ˆï¼Ÿ</h4><ol><li>ä¸ºå®ä¾‹å¼€è¾Ÿå†…å­˜ç©ºé—´</li><li>æŠŠæ„é€ å‡½æ•°ä½“å†…çš„<code>this</code>æŒ‡å‘1ä¸­å¼€è¾Ÿçš„å†…å­˜ç©ºé—´</li><li>å°†æ–°å®ä¾‹çš„<code>__proto__</code>è¿™ä¸ªå±æ€§æŒ‡å‘å¯¹åº”æ„é€ å‡½æ•°çš„<code>prototype</code>å±æ€§</li><li>æ„é€ å‡½æ•°ä¼šå¸®ä½ æŠŠä½ åˆ›å»ºçš„å®ä¾‹returnå‡ºæ¥</li></ol><h3 id="ä½œç”¨åŸŸ"><a href="#ä½œç”¨åŸŸ" class="headerlink" title="ä½œç”¨åŸŸ"></a>ä½œç”¨åŸŸ</h3><p><img src="/img/front-end-interview-preparation/js-scope.png" alt="ä½œç”¨åŸŸ-å¤§çº²"></p><p>ä½œç”¨åŸŸï¼šæœ¬è´¨ä¸Šå°±æ˜¯ç¨‹åºå­˜å‚¨å’Œè®¿é—®å˜é‡çš„è§„åˆ™ã€‚ä½œç”¨åŸŸå°±æ˜¯åœ¨è¿™ä¸ªè§„åˆ™çº¦æŸä¸‹çš„ä¸€ä¸ªå˜é‡ã€å‡½æ•°ã€æ ‡è¯†ç¬¦å¯ä»¥è¢«è®¿é—®çš„åŒºåŸŸã€‚</p><h4 id="ä¸‰ç§ä½œç”¨åŸŸ"><a href="#ä¸‰ç§ä½œç”¨åŸŸ" class="headerlink" title="ä¸‰ç§ä½œç”¨åŸŸ"></a>ä¸‰ç§ä½œç”¨åŸŸ</h4><ul><li>å…¨å±€ä½œç”¨åŸŸ</li><li>å—çº§ä½œç”¨åŸŸ<ul><li>å‡½æ•°ä¸æ˜¯å—ï¼Œåœ¨è¯­æ³•ä¸­çš„blockæ˜¯æŒ‡if&#x2F;else&#x2F;for&#x2F;whileè¯­å¥é‡Œ2ä¸ªå¤§æ‹¬å·ä¹‹é—´çš„éƒ¨åˆ†ã€‚</li><li>letå’Œconstæ˜¯å—çº§ä½œç”¨åŸŸ</li></ul></li><li>å‡½æ•°ä½œç”¨åŸŸ<ul><li>varæ˜¯å…¨å±€æˆ–æŸä¸ªå‡½æ•°ä½œç”¨åŸŸ</li></ul></li></ul><h4 id="varã€letå’Œconstçš„åŒºåˆ«"><a href="#varã€letå’Œconstçš„åŒºåˆ«" class="headerlink" title="varã€letå’Œconstçš„åŒºåˆ«"></a>varã€letå’Œconstçš„åŒºåˆ«</h4><ul><li>ä½¿ç”¨varå£°æ˜çš„å˜é‡ï¼Œå‡½æ•°å†…éƒ¨ä½œç”¨åŸŸï¼Œèƒ½é‡å¤å£°æ˜è¦†ç›–ï¼Œä¸”å­˜åœ¨å˜é‡æå‡ç°è±¡ï¼›</li><li>ä½¿ç”¨letå£°æ˜çš„å˜é‡ï¼Œå—çº§ä½œç”¨åŸŸï¼Œä¸èƒ½é‡å¤å£°æ˜è¦†ç›–ï¼Œä¸å­˜åœ¨å˜é‡æå‡ï¼›</li><li>ä½¿ç”¨constå£°æ˜çš„æ˜¯å¸¸é‡ï¼Œå—çº§ä½œç”¨åŸŸï¼Œåœ¨åé¢å‡ºç°çš„ä»£ç ä¸­ä¸èƒ½å†ä¿®æ”¹è¯¥å¸¸é‡çš„å€¼ï¼›</li></ul><p>ä½¿ç”¨æ€»ç»“ï¼š</p><ul><li>å‡½æ•°å†…éƒ¨ç”¨varå’Œletéƒ½å¯ä»¥ï¼Œå—çº§ä½œç”¨åŸŸæœ€å¥½ç”¨letã€‚</li><li>åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œletæ˜¯å¯ä»¥ä»£æ›¿varçš„ï¼Œä½†æ˜¯å¦‚æœéœ€è¦ç”¨åˆ°ä¸€äº›ç‰¹æ®ŠåŠŸèƒ½ï¼Œæ¯”å¦‚éœ€è¦å˜é‡æå‡ï¼Œéœ€è¦åœ¨å¤–éƒ¨èƒ½å¼•ç”¨å†…éƒ¨å®šä¹‰çš„å˜é‡( æ¯”å¦‚ try{ â€¦ }catch{ â€¦ } è¯­å¥å—)ï¼Œéœ€è¦æŠŠå˜é‡å®šä¹‰ä¸ºå…¨å±€çš„å±æ€§çš„æ—¶å€™ï¼Œå°±éœ€è¦ä½¿ç”¨varã€‚æ‰€ä»¥letä¸èƒ½å®Œå…¨æ›¿æ¢varã€‚</li></ul><h4 id="ä½œç”¨åŸŸé“¾å’Œä¸¤ç§å·¥ä½œæ¨¡å¼"><a href="#ä½œç”¨åŸŸé“¾å’Œä¸¤ç§å·¥ä½œæ¨¡å¼" class="headerlink" title="ä½œç”¨åŸŸé“¾å’Œä¸¤ç§å·¥ä½œæ¨¡å¼"></a>ä½œç”¨åŸŸé“¾å’Œä¸¤ç§å·¥ä½œæ¨¡å¼</h4><p>ä½œç”¨åŸŸé“¾ï¼š<br>å¦‚æœå½“å‰ä½œç”¨åŸŸä¸­æ‰¾ä¸åˆ°å˜é‡ï¼Œä¼šæ¢å‡ºå¤´åˆ°å¤–é¢çš„ä½œç”¨åŸŸä¸­æ‰¾ã€‚åœ¨è¿™ä¸ªæŸ¥æ‰¾è¿‡ç¨‹ä¸­ï¼Œå±‚å±‚é€’è¿›çš„ä½œç”¨åŸŸï¼Œå°±å½¢æˆäº†ä¸€æ¡ä½œç”¨åŸŸé“¾ã€‚</p><p>ä¸¤ç§å·¥ä½œæ¨¡å‹ï¼š</p><ul><li>è¯æ³•ä½œç”¨åŸŸï¼šåœ¨ä»£ç ä¹¦å†™çš„æ—¶å€™å®Œæˆåˆ’åˆ†ï¼Œä½œç”¨åŸŸé“¾æ²¿ç€å®ƒå®šä¹‰çš„ä½ç½®å¾€å¤–å»¶ä¼¸ï¼ˆJSç­‰ï¼‰</li><li>åŠ¨æ€ä½œç”¨åŸŸï¼šåœ¨ä»£ç è¿è¡Œæ—¶å®Œæˆåˆ’åˆ†ï¼Œä½œç”¨åŸŸé“¾æ²¿ç€å®ƒçš„è°ƒç”¨æ ˆå¾€å¤–å»¶ä¼¸ï¼ˆBashã€Perlï¼‰</li></ul><p>JSä¸­è¯æ³•ä½œç”¨åŸŸçš„ä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;xiuyan&#x27;</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name);<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">changeName</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;BigBear&#x27;</span>;<br>    <span class="hljs-title function_">showName</span>();<br>&#125;<br><br><span class="hljs-title function_">changeName</span>();     <span class="hljs-comment">// xiuyan</span><br></code></pre></td></tr></table></figure><h4 id="ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸ"><a href="#ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸ"></a>ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸ</h4><p>evalèƒ½ä¿®æ”¹è¯æ³•ä½œç”¨åŸŸï¼š</p><p>eval å‡½æ•°çš„å…¥å‚æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚å½“ eval æ‹¿åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å…¥å‚åï¼Œå®ƒä¼šæŠŠè¿™æ®µå­—ç¬¦ä¸²çš„å†…å®¹å½“åšä¸€æ®µ js ä»£ç ï¼ˆä¸ç®¡å®ƒæ˜¯ä¸æ˜¯ä¸€æ®µ js ä»£ç ï¼‰ï¼Œæ’å…¥è‡ªå·±è¢«è°ƒç”¨çš„é‚£ä¸ªä½ç½®ã€‚çœ‹ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">showName</span>(<span class="hljs-params">str</span>) &#123;<br>  <span class="hljs-built_in">eval</span>(str)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name)<br>&#125;<br><br><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;aa&#x27;</span><br><span class="hljs-keyword">var</span> str = <span class="hljs-string">&#x27;var name = &quot;bb&quot;&#x27;</span><br><br><span class="hljs-title function_">showName</span>(str) <span class="hljs-comment">// è¾“å‡º bb</span><br></code></pre></td></tr></table></figure><p>eval (str) è¿™è¡Œä»£ç è¢«æ‰§è¡Œåä½œç”¨åŸŸå†… name çš„å€¼å°±ä» â€˜aaâ€™ å˜æˆäº† â€˜bbâ€™ï¼Œå®ƒæˆåŠŸåœ° â€œä¿®æ”¹â€ äº†è¯æ³•ä½œç”¨åŸŸè§„åˆ™çº¦æŸä¸‹åœ¨ä¹¦å†™é˜¶æ®µå°±åˆ’åˆ†å¥½çš„ä½œç”¨åŸŸã€‚</p><h3 id="é—­åŒ…"><a href="#é—­åŒ…" class="headerlink" title="é—­åŒ…"></a>é—­åŒ…</h3><p><img src="/img/front-end-interview-preparation/js-closure.png" alt="é—­åŒ…-å¤§çº²"></p><p>é—­åŒ…æ˜¯ä¸ºäº†ï¼šä¿è¯å±€éƒ¨å˜é‡å¸¸é©»åœ¨å†…å­˜ä¸­ï¼Œåªèƒ½é€šè¿‡å›ºå®šçš„æ–¹å¼è®¿é—®ï¼Œä¸å¯ä»¥è¢«æ‰€æœ‰äººè®¿é—®ã€‚</p><h4 id="é—­åŒ…çš„åº”ç”¨"><a href="#é—­åŒ…çš„åº”ç”¨" class="headerlink" title="é—­åŒ…çš„åº”ç”¨"></a>é—­åŒ…çš„åº”ç”¨</h4><ol><li>æ¨¡æ‹Ÿç§æœ‰å˜é‡çš„å®ç°</li><li>æŸ¯é‡ŒåŒ–å’Œåå‡½æ•°</li><li>é˜²æŠ–èŠ‚æµ</li></ol><h4 id="åº”ç”¨1ï¼šæ¨¡æ‹Ÿç§æœ‰å˜é‡çš„å®ç°"><a href="#åº”ç”¨1ï¼šæ¨¡æ‹Ÿç§æœ‰å˜é‡çš„å®ç°" class="headerlink" title="åº”ç”¨1ï¼šæ¨¡æ‹Ÿç§æœ‰å˜é‡çš„å®ç°"></a>åº”ç”¨1ï¼šæ¨¡æ‹Ÿç§æœ‰å˜é‡çš„å®ç°</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> myObject = (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">var</span> value = <span class="hljs-number">0</span>; <span class="hljs-comment">//é—­åŒ…ï¼šå¯ä»¥ä¿æŠ¤å†…éƒ¨å€¼valueä¸è¢«éæ³•æ›´æ”¹</span><br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-attr">increment</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">inc</span>) &#123;<br>      value += <span class="hljs-keyword">typeof</span> inc === <span class="hljs-string">&#x27;number&#x27;</span> ? inc : <span class="hljs-number">1</span>;<br>    &#125;,<br>    <span class="hljs-attr">getValue</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-keyword">return</span> value;<br>    &#125;<br>  &#125;<br>&#125;());<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myObject.<span class="hljs-title function_">getValue</span>()); <span class="hljs-comment">// 0</span><br>myObject.<span class="hljs-title function_">increment</span>(<span class="hljs-number">5</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(myObject.<span class="hljs-title function_">getValue</span>()); <span class="hljs-comment">// 5</span><br></code></pre></td></tr></table></figure><h4 id="åº”ç”¨2ï¼šæŸ¯é‡ŒåŒ–å’Œåå‡½æ•°"><a href="#åº”ç”¨2ï¼šæŸ¯é‡ŒåŒ–å’Œåå‡½æ•°" class="headerlink" title="åº”ç”¨2ï¼šæŸ¯é‡ŒåŒ–å’Œåå‡½æ•°"></a>åº”ç”¨2ï¼šæŸ¯é‡ŒåŒ–å’Œåå‡½æ•°</h4><p>æŸ¯é‡ŒåŒ–ï¼šå°†ä¸€ä¸ª n ä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢æˆ n ä¸ªå•å‚æ•°å‡½æ•°ï¼Œä¾‹å¦‚æŠŠ<code>fn(a,b,c)</code>å˜æˆ<code>fn(a)(b)(c)</code>ã€‚</p><p>åå‡½æ•°ï¼šå›ºå®šä½ å‡½æ•°çš„æŸä¸€ä¸ªæˆ–å‡ ä¸ªå‚æ•°ï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°çš„å‡½æ•°ï¼ˆè¿™ä¸ªå‡½æ•°ç”¨äºæ¥æ”¶å‰©ä¸‹çš„å‚æ•°ï¼‰ã€‚åå‡½æ•°åº”ç”¨æ˜¯ä¸å¼ºè°ƒ â€œå•å‚æ•°â€ è¿™ä¸ªæ¦‚å¿µçš„ï¼Œå®ƒçš„ç›®æ ‡ä»…ä»…æ˜¯æŠŠå‡½æ•°çš„å…¥å‚æ‹†è§£ä¸ºä¸¤éƒ¨åˆ†ã€‚</p><p>åŸæœ‰çš„å‡½æ•°å½¢å¼ä¸è°ƒç”¨æ–¹æ³•:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateName</span>(<span class="hljs-params">prefix, type, itemName</span>) &#123;<br>    <span class="hljs-keyword">return</span> prefix + type + itemName<br>&#125;<br><br><span class="hljs-comment">// è°ƒç”¨æ—¶ä¸€å£æ°”ä¼ å…¥3ä¸ªå…¥å‚</span><br><span class="hljs-keyword">var</span> itemFullName = <span class="hljs-title function_">generateName</span>(<span class="hljs-string">&#x27;å¤§å–ç½‘&#x27;</span>, <span class="hljs-string">&#x27;æ¯å©´&#x27;</span>, <span class="hljs-string">&#x27;å¥¶ç“¶&#x27;</span>)<br></code></pre></td></tr></table></figure><p>åå‡½æ•°åº”ç”¨æ”¹é€ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateName</span>(<span class="hljs-params">prefix</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">type, itemName</span>) &#123;<br>        <span class="hljs-keyword">return</span> prefix + type + itemName<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">// æŠŠ3ä¸ªå‚æ•°åˆ†ä¸¤éƒ¨åˆ†ä¼ å…¥</span><br><span class="hljs-keyword">var</span> itemFullName = <span class="hljs-title function_">generateName</span>(<span class="hljs-string">&#x27;å¤§å–ç½‘&#x27;</span>)(<span class="hljs-string">&#x27;æ¯å©´&#x27;</span>, <span class="hljs-string">&#x27;å¥¶ç“¶&#x27;</span>)<br></code></pre></td></tr></table></figure><p>æŸ¯é‡ŒåŒ–åº”ç”¨æ”¹é€ ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">generateName</span>(<span class="hljs-params">prefix</span>) &#123;  <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">type</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">itemName</span>) &#123;<br>            <span class="hljs-keyword">return</span> prefix + type + itemName<br>        &#125;    <br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> itemFullName = <span class="hljs-title function_">generateName</span>(<span class="hljs-string">&#x27;æ´—èœç½‘&#x27;</span>)(<span class="hljs-string">&#x27;ç”Ÿé²œ&#x27;</span>)(<span class="hljs-string">&#x27;è èœ&#x27;</span>)<br></code></pre></td></tr></table></figure><h4 id="åº”ç”¨3ï¼šé˜²æŠ–èŠ‚æµ"><a href="#åº”ç”¨3ï¼šé˜²æŠ–èŠ‚æµ" class="headerlink" title="åº”ç”¨3ï¼šé˜²æŠ–èŠ‚æµ"></a>åº”ç”¨3ï¼šé˜²æŠ–èŠ‚æµ</h4><p>é˜²æŠ–ï¼šå¦‚æœçŸ­æ—¶é—´å†…å¤§é‡è§¦å‘åŒä¸€äº‹ä»¶ï¼Œåªä¼šæ‰§è¡Œæœ€åä¸€æ¬¡å‡½æ•°</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs JavaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-built_in">clearTimeout</span>(timer);<br>    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>    &#125;, delay);<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure><p>èŠ‚æµï¼šå¦‚æœçŸ­æ—¶é—´å†…å¤§é‡è§¦å‘åŒä¸€äº‹ä»¶ï¼Œé‚£ä¹ˆåœ¨å‡½æ•°æ‰§è¡Œä¸€æ¬¡ä¹‹åï¼Œè¯¥å‡½æ•°åœ¨æŒ‡å®šçš„æ—¶é—´æœŸé™å†…ä¸å†å·¥ä½œï¼Œç›´è‡³è¿‡äº†è¿™æ®µæ—¶é—´æ‰é‡æ–°ç”Ÿæ•ˆã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-keyword">function</span> <span class="hljs-title function_">throttle</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>  <span class="hljs-keyword">let</span> timer = <span class="hljs-literal">null</span>;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>)&#123;<br>    <span class="hljs-keyword">if</span>(!timer)&#123;<br>      timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        timer = <span class="hljs-literal">null</span>;<br>        fn.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args);<br>      &#125;, delay)<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="é—­åŒ…çš„é—®é¢˜"><a href="#é—­åŒ…çš„é—®é¢˜" class="headerlink" title="é—­åŒ…çš„é—®é¢˜"></a>é—­åŒ…çš„é—®é¢˜</h4><p>ç”±äºé—­åŒ…ä¼šä½¿å¾—å‡½æ•°ä¸­çš„å˜é‡éƒ½è¢«ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œå†…å­˜æ¶ˆè€—å¾ˆå¤§ï¼Œæ‰€ä»¥ä¸èƒ½æ»¥ç”¨é—­åŒ…ï¼Œå¦åˆ™ä¼šé€ æˆç½‘é¡µçš„æ€§èƒ½é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´<strong>å†…å­˜æ³„éœ²</strong>ã€‚è§£å†³æ–¹æ³•æ˜¯ï¼Œåœ¨é€€å‡ºå‡½æ•°ä¹‹å‰ï¼Œå°†ä¸ä½¿ç”¨çš„å±€éƒ¨å˜é‡å…¨éƒ¨åˆ é™¤ã€‚</p><h3 id="this"><a href="#this" class="headerlink" title="this"></a>this</h3><p><img src="/img/front-end-interview-preparation/js-this.png" alt="this-å¤§çº²"></p><p>thisæ˜¯å½“å‰æ‰§è¡Œä¸Šä¸‹æ–‡çš„ä¸€ä¸ªå±æ€§ã€‚æ‰§è¡Œä¸Šä¸‹æ–‡æœ‰ï¼šå…¨å±€ä¸Šä¸‹æ–‡ã€å‡½æ•°ä¸Šä¸‹æ–‡ã€Evalä¸Šä¸‹æ–‡ã€‚</p><h4 id="thisçš„æŒ‡å‘"><a href="#thisçš„æŒ‡å‘" class="headerlink" title="thisçš„æŒ‡å‘"></a>thisçš„æŒ‡å‘</h4><ol><li>æŒ‡å‘è°ƒç”¨å®ƒæ‰€åœ¨æ–¹æ³•çš„é‚£ä¸ªå¯¹è±¡ï¼ˆåœ¨è°ƒç”¨æ—¶å†³å®šçš„ï¼‰ã€‚<blockquote><p>å½“è°ƒç”¨æ–¹æ³•æ²¡æœ‰æ˜ç¡®å¯¹è±¡æ—¶ï¼Œthis å°±æŒ‡å‘å…¨å±€å¯¹è±¡ã€‚åœ¨æµè§ˆå™¨ä¸­ï¼ŒæŒ‡å‘ windowï¼›åœ¨ Node ä¸­ï¼ŒæŒ‡å‘ Globalã€‚ï¼ˆä¸¥æ ¼æ¨¡å¼ä¸‹ï¼ŒæŒ‡å‘ undefinedï¼‰</p></blockquote></li><li>ç®­å¤´å‡½æ•°thisç”±ä¹¦å†™ä½ç½®å†³å®šï¼ˆç»§æ‰¿æ‰§è¡Œä¸Šä¸‹æ–‡çš„thisï¼‰ã€‚</li><li>åœ¨ç«‹å³æŒ‡å‘å‡½æ•°ï¼ŒsetTimeout&#x2F;setIntervalï¼ŒthisæŒ‡å‘windowã€‚<blockquote><p>ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œç«‹å³æ‰§è¡Œå‡½æ•°ä¸­this&#x3D;undefinedï¼ŒsetTimeoutå’ŒsetIntervalä¸­this&#x3D;windowã€‚</p></blockquote></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// å£°æ˜ä½ç½®</span><br><span class="hljs-keyword">var</span> me = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;aa&#x27;</span>,<br>  <span class="hljs-attr">hello</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;bb&#x27;</span><br><span class="hljs-keyword">var</span> hello = me.<span class="hljs-property">hello</span> <br><br><span class="hljs-comment">// è°ƒç”¨ä½ç½®</span><br>me.<span class="hljs-title function_">hello</span>() <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯aa</span><br><span class="hljs-title function_">hello</span>() <span class="hljs-comment">// ä½ å¥½ï¼Œ æˆ‘æ˜¯bb</span><br></code></pre></td></tr></table></figure><p>ç¨å¾®æ”¹åŠ¨ä¸€ä¸‹ï¼š</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs javaScript"><span class="hljs-comment">// å£°æ˜ä½ç½®</span><br><span class="hljs-keyword">var</span> me = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;me&#x27;</span>,<br>  <span class="hljs-attr">hello</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`ä½ å¥½ï¼Œæˆ‘æ˜¯<span class="hljs-subst">$&#123;<span class="hljs-variable language_">this</span>.name&#125;</span>`</span>)<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> you = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;you&#x27;</span>,<br>  <span class="hljs-attr">hello</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> targetFunc = me.<span class="hljs-property">hello</span><br>    <span class="hljs-title function_">targetFunc</span>()<br>  &#125;<br>&#125;<br><br><span class="hljs-keyword">var</span> name = <span class="hljs-string">&#x27;bb&#x27;</span><br><br><span class="hljs-comment">// è°ƒç”¨ä½ç½®</span><br>you.<span class="hljs-title function_">hello</span>() <span class="hljs-comment">// ä½ å¥½ï¼Œæˆ‘æ˜¯bb</span><br></code></pre></td></tr></table></figure><p>ä¹ä¸€çœ‹ï¼Œä¼šè¾“å‡ºyouï¼Œè€Œä¸æ˜¯bbã€‚ä½†ä¸ºä»€ä¹ˆä¼šè¾“å‡ºbbå‘¢ï¼Ÿ</p><p>çœ‹æˆ‘ä»¬ä¾‹é¢˜ä¸­çš„ targetFunc è¿™ä¸ªæ–¹æ³•ï¼Œå¤§å®¶ä¹‹æ‰€ä»¥ç¬¬ä¸€ç›´è§‰ä¼šè®¤ä¸ºå®ƒçš„ this åº”è¯¥æŒ‡å‘ you è¿™ä¸ªå¯¹è±¡ï¼Œå…¶å®è¿˜æ˜¯å› ä¸ºæŠŠ â€œå£°æ˜ä½ç½®â€ å’Œ â€œè°ƒç”¨ä½ç½®â€ æ··æ·†äº†ã€‚æˆ‘ä»¬çœ‹åˆ°è™½ç„¶ targetFunc æ˜¯åœ¨ you å¯¹è±¡çš„ hello æ–¹æ³•é‡Œå£°æ˜çš„ï¼Œä½†æ˜¯åœ¨è°ƒç”¨å®ƒçš„æ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯ä¸æ˜¯æ²¡æœ‰ç»™ targetFunc æŒ‡æ˜ä»»ä½•ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå®ƒå‰ç¼€ï¼Ÿ æ‰€ä»¥ you å¯¹è±¡çš„ this å¹¶ä¸ä¼šç¥å¥‡åœ°è‡ªåŠ¨ä¼ å…¥ targetFunc é‡Œï¼Œjs å¼•æ“ä»ç„¶ä¼šè®¤ä¸º targetFunc æ˜¯ä¸€ä¸ªæŒ‚è½½åœ¨ window ä¸Šçš„æ–¹æ³•ï¼Œè¿›è€ŒæŠŠ this æŒ‡å‘ window å¯¹è±¡ã€‚</p><p>å…¶å®åŸç†å¾ˆç®€å•ï¼Œæ— è®ºè°ƒç”¨å‡½æ•°åŒ…äº†å¤šå°‘å±‚ï¼Œthisæ˜¯çœ‹æœ€åä¸€å±‚è°ƒç”¨å‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°è¢«å“ªä¸ªå¯¹è±¡è°ƒç”¨ã€‚</p><h4 id="æ”¹å˜thisçš„æŒ‡å‘"><a href="#æ”¹å˜thisçš„æŒ‡å‘" class="headerlink" title="æ”¹å˜thisçš„æŒ‡å‘"></a>æ”¹å˜thisçš„æŒ‡å‘</h4><p>thisç»‘å®šçš„ä¼˜å…ˆçº§ï¼š</p><ol><li>æ„é€ å‡½æ•° new å®ä¾‹æ—¶ç»‘å®š</li><li>æ˜¾å¼ç»‘å®š</li></ol><ul><li>ä»…æ”¹å˜ï¼š<code>bind</code></li><li>æ”¹å˜åç›´æ¥è°ƒç”¨ï¼š<code>call</code>ã€<code>apply</code><ul><li><code>fn.call(target,arg1,arg2, ...)</code></li><li><code>fn.apply(target, [arg1, ...])</code></li></ul></li></ul><h3 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h3><p><img src="/img/front-end-interview-preparation/memory-management.png" alt="å†…å­˜ç®¡ç†-å¤§çº²"></p><h4 id="å†…å­˜çš„æ•°æ®ç»“æ„"><a href="#å†…å­˜çš„æ•°æ®ç»“æ„" class="headerlink" title="å†…å­˜çš„æ•°æ®ç»“æ„"></a>å†…å­˜çš„æ•°æ®ç»“æ„</h4><ul><li>æ ˆï¼ˆStackï¼‰ï¼šå‡½æ•°è°ƒç”¨ä¼šåœ¨å†…å­˜å½¢æˆä¸€ä¸ªâ€è°ƒç”¨è®°å½•â€ï¼Œåˆç§°â€è°ƒç”¨å¸§â€ï¼ˆcall frameï¼‰ã€‚æ‰€æœ‰çš„è°ƒç”¨è®°å½•ï¼Œå°±å½¢æˆä¸€ä¸ªâ€è°ƒç”¨æ ˆâ€ï¼ˆcall stackï¼‰ã€‚å…ˆè¿›åå‡ºã€‚</li><li>å †ï¼ˆHeapï¼‰ï¼šå¯¹è±¡è¢«åˆ†é…åœ¨å †ä¸­ï¼Œå †æ˜¯ä¸€ä¸ªç”¨æ¥è¡¨ç¤ºä¸€å¤§å—ï¼ˆé€šå¸¸æ˜¯éç»“æ„åŒ–çš„ï¼‰å†…å­˜åŒºåŸŸçš„è®¡ç®—æœºæœ¯è¯­ã€‚</li><li>é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼šä¸€ä¸ª JavaScript è¿è¡Œæ—¶åŒ…å«äº†ä¸€ä¸ªå¾…å¤„ç†æ¶ˆæ¯çš„æ¶ˆæ¯é˜Ÿåˆ—ã€‚å…ˆè¿›å…ˆå‡ºã€‚</li></ul><h4 id="å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ"></a>å†…å­˜çš„ç”Ÿå‘½å‘¨æœŸ</h4><p>ä¸ç®¡ä»€ä¹ˆç¨‹åºè¯­è¨€ï¼Œå†…å­˜ç”Ÿå‘½å‘¨æœŸåŸºæœ¬æ˜¯ä¸€è‡´çš„ï¼š   </p><ol><li>åˆ†é…ä½ æ‰€éœ€è¦çš„å†…å­˜</li><li>ä½¿ç”¨åˆ†é…åˆ°çš„å†…å­˜ï¼ˆè¯»ã€å†™ï¼‰</li><li>ä¸éœ€è¦æ—¶å°†å…¶é‡Šæ”¾\å½’è¿˜</li></ol><p>æ‰€æœ‰è¯­è¨€ç¬¬äºŒéƒ¨åˆ†éƒ½æ˜¯æ˜ç¡®çš„ã€‚ç¬¬ä¸€å’Œç¬¬ä¸‰éƒ¨åˆ†åœ¨åº•å±‚è¯­è¨€ä¸­æ˜¯æ˜ç¡®çš„ï¼Œä½†åœ¨åƒJavaScriptè¿™äº›é«˜çº§è¯­è¨€ä¸­ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯éšå«çš„ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">var</span> a = <span class="hljs-number">20</span>;  <span class="hljs-comment">// åœ¨å†…å­˜ä¸­ç»™æ•°å€¼å˜é‡åˆ†é…ç©ºé—´</span><br><span class="hljs-title function_">alert</span>(a + <span class="hljs-number">100</span>);  <span class="hljs-comment">// ä½¿ç”¨å†…å­˜</span><br>a = <span class="hljs-literal">null</span>; <span class="hljs-comment">// ä½¿ç”¨å®Œæ¯•ä¹‹åï¼Œé‡Šæ”¾å†…å­˜ç©ºé—´</span><br></code></pre></td></tr></table></figure><p>JSåœ¨åˆå§‹åŒ–å˜é‡æ—¶å°±ä¼šè‡ªåŠ¨åˆ†é…å†…å­˜ç©ºé—´ï¼ˆ1ã€2ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä¸»è¦è¦æ¢ç©¶çš„å°±æ˜¯å¦‚ä½•åƒåœ¾å›æ”¶ï¼ˆ3ï¼‰ã€‚</p><h4 id="åƒåœ¾å›æ”¶æœºåˆ¶"><a href="#åƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="åƒåœ¾å›æ”¶æœºåˆ¶"></a>åƒåœ¾å›æ”¶æœºåˆ¶</h4><p>åƒåœ¾å›æ”¶ç®—æ³•çš„ä¸­å¿ƒæ€æƒ³æ˜¯åˆ¤æ–­å†…å­˜æ˜¯å¦<strong>ä¸å†éœ€è¦</strong>ã€‚</p><ol><li><p><strong>å¼•ç”¨è®¡æ•°åƒåœ¾æ”¶é›†</strong></p><p>è¿™æ˜¯æœ€åˆçº§çš„åƒåœ¾æ”¶é›†ç®—æ³•ã€‚å¦‚æœæ²¡æœ‰å¼•ç”¨æŒ‡å‘è¯¥å¯¹è±¡ï¼ˆé›¶å¼•ç”¨ï¼‰ï¼Œå¯¹è±¡å°†è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶ã€‚</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">//ä½†æ˜¯ï¼Œå¯¹è±¡è¢«å¾ªç¯å¼•ç”¨æ—¶å†…å­˜å‘ç”Ÿæ³„æ¼</span><br><span class="hljs-comment">//ä¸‹é¢è¿™ä¸ªä¾‹å­ï¼šå³ä½¿è¿™ä¸ªDOMå…ƒç´ ä»DOMæ ‘ä¸­åˆ é™¤äº†ï¼Œæ‰€å ç”¨çš„å†…å­˜ç©ºé—´ä¹Ÿæ°¸è¿œæ— æ³•é‡Šæ”¾</span><br><span class="hljs-keyword">var</span> div;<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">onload</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>  <span class="hljs-comment">//å¾ªç¯å¼•ç”¨</span><br>  div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;myDivElement&quot;</span>);<br>  div.<span class="hljs-property">circularReference</span> = div;<br>  <span class="hljs-comment">//å æ®å¤§é‡å†…å­˜ç©ºé—´</span><br>  div.<span class="hljs-property">lotsOfData</span> = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Array</span>(<span class="hljs-number">10000</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;*&quot;</span>); <br>&#125;;<br></code></pre></td></tr></table></figure></li><li><p><strong>æ ‡è®°-æ¸…é™¤ç®—æ³•</strong></p><p>è¿™ä¸ªç®—æ³•æŠŠâ€œå¯¹è±¡æ˜¯å¦ä¸å†éœ€è¦â€ç®€åŒ–å®šä¹‰ä¸ºâ€œå¯¹è±¡æ˜¯å¦å¯ä»¥è·å¾—â€ã€‚</p><ul><li>æ ‡è®°é˜¶æ®µï¼šåœ¨æ­¤é˜¶æ®µ,åƒåœ¾å›æ”¶å™¨ä¼šä»æ ¹å¯¹è±¡å¼€å§‹éå†ï¼Œæ ‡è¯†å¯åˆ°è¾¾å¯¹è±¡</li><li>æ¸…å¤„é˜¶æ®µï¼šä¼šå¯¹å †å†…å­˜ä»å¤´åˆ°å°¾è¿›è¡Œçº¿æ€§éå†ï¼Œæ¸…å¤„æ²¡è¢«æ ‡è¯†ä¸ºå¯åˆ°è¾¾å¯¹è±¡çš„å¯¹è±¡</li></ul><p>å¾ªç¯å¼•ç”¨å°†ä¸å†æ˜¯é—®é¢˜ï¼Œå› ä¸ºä¸¤ä¸ªå¯¹è±¡éƒ½æ— æ³•è·å–çš„æƒ…å†µä¸‹ï¼Œå°†ä¼šè¢«åƒåœ¾å›æ”¶å™¨å›æ”¶ã€‚ä»2012å¹´èµ·ï¼Œæ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½ä½¿ç”¨äº†æ ‡è®°-æ¸…é™¤åƒåœ¾å›æ”¶ç®—æ³•ã€‚</p></li></ol><h4 id="JSä¸­çš„å †å†…å­˜å’Œæ ˆå†…å­˜"><a href="#JSä¸­çš„å †å†…å­˜å’Œæ ˆå†…å­˜" class="headerlink" title="JSä¸­çš„å †å†…å­˜å’Œæ ˆå†…å­˜"></a>JSä¸­çš„å †å†…å­˜å’Œæ ˆå†…å­˜</h4><p>åœ¨jså¼•æ“ä¸­å¯¹å˜é‡çš„å­˜å‚¨ä¸»è¦æœ‰ä¸¤ç§ä½ç½®ï¼Œ<strong>å †å†…å­˜å’Œæ ˆå†…å­˜</strong>ã€‚</p><p><strong>æ ˆå†…å­˜</strong>ä¸»è¦ç”¨äºå­˜å‚¨å„ç§<strong>åŸºæœ¬ç±»å‹çš„</strong>å˜é‡ï¼ŒåŒ…æ‹¬Booleanã€Numberã€Stringã€Undefinedã€Nullä»¥åŠå¯¹è±¡å˜é‡çš„æŒ‡é’ˆï¼Œè¿™æ—¶å€™æ ˆå†…å­˜ç»™äººçš„æ„Ÿè§‰å°±åƒä¸€ä¸ªçº¿æ€§æ’åˆ—çš„ç©ºé—´ï¼Œæ¯ä¸ªå°å•å…ƒå¤§å°åŸºæœ¬ç›¸ç­‰ã€‚</p><p>è€Œå †å†…å­˜ä¸»è¦è´Ÿè´£åƒå¯¹è±¡Objectè¿™ç§å˜é‡ç±»å‹çš„å­˜å‚¨ï¼Œå¦‚ä¸‹å›¾ï¼š</p><p><img src="/img/front-end-interview-preparation/stack-and-heap.png" alt="æ ˆå†…å­˜å’Œå †å†…å­˜"></p><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><h3 id="æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„"><a href="#æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„" class="headerlink" title="æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„"></a>æœ‰å‡ ç§æ–¹æ³•å¯ä»¥åˆ¤æ–­æ˜¯å¦æ˜¯æ•°ç»„</h3><ol><li><p>é¦–å…ˆ typeof è‚¯å®šä¸è¡Œï¼Œåˆ¤è¯»ä¸€äº›å¼•ç”¨ç±»å‹æ—¶ï¼Œä¸èƒ½å…·ä½“åˆ°å…·ä½“å“ªä¸€ç§ç±»å‹ã€‚</p></li><li><p>ä½¿ç”¨<code>instanceof</code>æˆ–<code>constructor</code></p></li></ol>  <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> a = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br>a <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>; <span class="hljs-comment">// true</span><br>a.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Array</span>; <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure><ol start="3"><li>ä½¿ç”¨ Array.isArray</li><li>ä½¿ç”¨ Object.prototype.toString.call()</li></ol><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript">MDNï¼šJavaScript</a></li><li><a href="https://pediaa.com/what-is-the-difference-between-interpreter-and-jit-compiler/#:~:text=The%20basic%20difference%20between%20Interpreter,machine%20codes%20at%20run%20time.">What is the Difference Between Interpreter and JIT Compiler</a></li><li><a href="https://www.cnblogs.com/onepixel/p/5140944.html">ç»†è¯´ JavaScript ä¸ƒç§æ•°æ®ç±»å‹</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Equality">MDNï¼šç›¸ç­‰ï¼ˆ&#x3D;&#x3D;ï¼‰</a></li><li><a href="https://blog.csdn.net/cc18868876837/article/details/81211729">å¸®ä½ å½»åº•ææ‡‚JSä¸­çš„prototypeã€__proto__ä¸constructorï¼ˆå›¾è§£ï¼‰</a></li><li><a href="https://www.imooc.com/read/70">æ…•è¯¾ç½‘ä¸“æ ï¼šè§£é”å‰ç«¯é¢è¯•ä½“ç³»æ ¸å¿ƒæ”»ç•¥</a></li><li><a href="https://www.cnblogs.com/heioray/p/9487093.html">æµ…æJSä¸­çš„å †å†…å­˜ä¸æ ˆå†…å­˜</a></li><li><a href="https://yangbo5207.github.io/wutongluo/ji-chu-jin-jie-xi-lie/yi-3001-nei-cun-kong-jian-xiang-jie.html">yangbo5207çš„æ–‡ç« :å†…å­˜ç©ºé—´</a></li><li><a href="https://www.jianshu.com/p/e81fcb8e7a43">ç”±JavaScriptå †æ ˆæº¢å‡ºå¼•å‡ºçš„å‡½æ•°å¼ç¼–ç¨‹æ€æƒ³</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Memory_Management">MDNï¼šå†…å­˜ç®¡ç†</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/EventLoop">MDNï¼šå¹¶å‘æ¨¡å‹ä¸æ—¶é—´å¾ªç¯</a></li><li>MDN <a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/let">let</a>&#x2F;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/var">var</a>&#x2F;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/const">const</a></li><li><a href="https://blog.csdn.net/u012545017/article/details/89634012">æ¯”è¾ƒvarå’Œletçš„åŒºåˆ«ï¼Œç†è§£å‡½æ•°ä½œç”¨åŸŸä¸å—çº§ä½œç”¨åŸŸ</a></li><li><a href="https://www.zhihu.com/question/19554716/answer/12276503">JavaScript é‡Œçš„é—­åŒ…æ˜¯ä»€ä¹ˆï¼Ÿåº”ç”¨åœºæ™¯æœ‰å“ªäº›ï¼Ÿ - tianlu</a> ç®€å•ç›´ç™½çš„ä¾‹å­</li></ol>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>JavaScript</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆäºŒï¼‰ï¼šCSS</title>
    <link href="/2022/04/18/front-end-interview-preparation-2/"/>
    <url>/2022/04/18/front-end-interview-preparation-2/</url>
    
    <content type="html"><![CDATA[<p>å±‚å æ ·å¼è¡¨ (Cascading Style Sheetsï¼Œç¼©å†™ä¸º CSSï¼‰ï¼Œæ˜¯ä¸€ç§æ ·å¼è¡¨è¯­è¨€ï¼Œç”¨æ¥æè¿° HTML æˆ– XML æ–‡æ¡£çš„å‘ˆç°ã€‚CSS æè¿°äº†åœ¨å±å¹•ã€çº¸è´¨ã€éŸ³é¢‘ç­‰å…¶å®ƒåª’ä½“ä¸Šçš„å…ƒç´ åº”è¯¥å¦‚ä½•è¢«æ¸²æŸ“çš„é—®é¢˜ã€‚</p><h2 id="å¤§çº²"><a href="#å¤§çº²" class="headerlink" title="å¤§çº²"></a>å¤§çº²</h2><p><img src="/img/front-end-interview-preparation/css-outline.png" alt="CSSçŸ¥è¯†ç‚¹å¤§çº²"></p><h3 id="CSS-ç‰¹æ€§ï¼šå€¼å’Œå•ä½"><a href="#CSS-ç‰¹æ€§ï¼šå€¼å’Œå•ä½" class="headerlink" title="CSS ç‰¹æ€§ï¼šå€¼å’Œå•ä½"></a>CSS ç‰¹æ€§ï¼šå€¼å’Œå•ä½</h3><p><strong>é•¿åº¦</strong></p><p>px è¡¨ç¤ºçš„æ˜¯ CSS ä¸­çš„åƒç´ ï¼Œæ˜¯ CSS ä¸­é•¿åº¦çš„ç»å¯¹å•ä½ï¼Œæ˜¯è®¾å¤‡çš„ç›¸å¯¹å•ä½ã€‚<br>è®¾å¤‡åƒç´ æ¯”ï¼ˆDPR) &#x3D; è®¾å¤‡åƒç´ ï¼ˆDevice pixelsï¼‰æ•° &#x2F; CSS åƒç´ æ•°ï¼›</p><p>emã€rem éƒ½æ˜¯ CSS ä¸­çš„ç›¸å¯¹é•¿åº¦å•ä½ã€‚rem ç›¸å¯¹çš„æ˜¯ HTML çš„æ ¹å…ƒç´  html çš„ font-sizeã€‚em ç›¸å¯¹çš„æ˜¯å½“å‰å…ƒç´ çš„ font-sizeã€‚å› ä¸ºå½“å‰å…ƒç´ çš„ font-size ä¼šç»§æ‰¿çˆ¶å…ƒç´ çš„ï¼Œå¦‚æœå½“å‰å…ƒç´ æœªæŒ‡å®š font-sizeï¼Œåˆ™ç›¸å¯¹çš„æ˜¯çˆ¶å…ƒç´ çš„ font-sizeã€‚</p><p>vw å’Œ vh åˆ†åˆ«æ˜¯ç›¸å¯¹äºå±å¹•è§†å£å®½åº¦å’Œé«˜åº¦è€Œè¨€çš„é•¿åº¦å•ä½ã€‚1vw &#x3D; è§†å£å®½åº¦å‡åˆ†æˆ 100 ä»½ä¸­ 1 ä»½çš„é•¿åº¦ã€‚</p><h3 id="CSS-ç‰¹æ€§ï¼šCSSåŠ¨ç”»"><a href="#CSS-ç‰¹æ€§ï¼šCSSåŠ¨ç”»" class="headerlink" title="CSS ç‰¹æ€§ï¼šCSSåŠ¨ç”»"></a>CSS ç‰¹æ€§ï¼šCSSåŠ¨ç”»</h3><h4 id="animation"><a href="#animation" class="headerlink" title="animation"></a>animation</h4><figure class="highlight css"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br></pre></div></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">animation</span>: name duration timing-function delay iteration-count direction;<br></code></pre></td></tr></table></figure><p>animation-name | è§„å®šéœ€è¦ç»‘å®šåˆ°é€‰æ‹©å™¨çš„ keyframe åç§°ã€‚</p><h4 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transition</span>: property duration timing-function delay;<br></code></pre></td></tr></table></figure><p>transition-property | è§„å®šè®¾ç½®è¿‡æ¸¡æ•ˆæœçš„ CSS å±æ€§çš„åç§°ã€‚</p><h4 id="requestAnimationFrame"><a href="#requestAnimationFrame" class="headerlink" title="requestAnimationFrame"></a>requestAnimationFrame</h4><p>ä½ å¸Œæœ›æ‰§è¡Œä¸€ä¸ªåŠ¨ç”»ï¼Œå¹¶ä¸”è¦æ±‚æµè§ˆå™¨åœ¨ä¸‹æ¬¡é‡ç»˜ä¹‹å‰è°ƒç”¨æŒ‡å®šçš„å›è°ƒå‡½æ•°æ›´æ–°åŠ¨ç”»ã€‚è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ä½œä¸ºå‚æ•°ï¼Œè¯¥å›è°ƒå‡½æ•°ä¼šåœ¨æµè§ˆå™¨ä¸‹ä¸€æ¬¡é‡ç»˜ä¹‹å‰æ‰§è¡Œ</p><h4 id="åŠ¨ç”»ä¼˜åŒ–"><a href="#åŠ¨ç”»ä¼˜åŒ–" class="headerlink" title="åŠ¨ç”»ä¼˜åŒ–"></a>åŠ¨ç”»ä¼˜åŒ–</h4><ol><li><p>ä½¿ç”¨requestAnimationFrameæ›¿æ¢setTimeout&#x2F;setInterval</p><p>requestAnimationFrameæ˜¯åœ¨å±å¹•åˆ·æ–°åæ‰§è¡Œï¼Œé¿å…æ‰å¸§ã€‚</p></li><li><p>CSSç¡¬ä»¶åŠ é€Ÿ</p><p>åŠ¨ç”»å¡é¡¿æ˜¯åœ¨ç§»åŠ¨webå¼€å‘æ—¶ç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œè§£å†³è¿™ä¸ªé—®é¢˜ä¸€èˆ¬ä¼šç”¨åˆ°css3ç¡¬ä»¶åŠ é€Ÿã€‚ç®€å•æ¥è¯´ï¼šé€šè¿‡GPUè¿›è¡Œæ¸²æŸ“ï¼Œè§£æ”¾CPUã€‚</p><p><code>transform</code>ã€<code>opacity</code>ã€<code>filter</code>å¯ä»¥è§¦å‘</p></li><li><p>é’ˆå¯¹æ€§ä¼˜åŒ–ï¼šç‰¹å®šå¹³å°ç¦ç”¨åŠ¨ç”»</p><p><code>this.userClient = /Android/i.test(navigator.userAgent);</code></p></li><li><p>ä½¿ç”¨<code>will-change</code>é€šçŸ¥æµè§ˆå™¨ä½ æ‰“ç®—æ›´æ”¹å…ƒç´ çš„å±æ€§ï¼Œæµè§ˆå™¨ä¼šåœ¨ä½ è¿›è¡Œæ›´æ”¹ä¹‹å‰åšæœ€åˆé€‚çš„ä¼˜åŒ–ã€‚</p></li><li><p>å°½å¯èƒ½åœ°ä½¿ç”¨åŸºäºcssçš„åŠ¨ç”»ï¼Œä¸ä»…ä»…æ›´å¿«ï¼Œä¹Ÿä¸ä¼šè¢«å¤§é‡çš„jsè®¡ç®—æ‰€é˜»å¡ã€‚</p></li></ol><h3 id="å¸ƒå±€ï¼šæ–‡æ¡£æµ"><a href="#å¸ƒå±€ï¼šæ–‡æ¡£æµ" class="headerlink" title="å¸ƒå±€ï¼šæ–‡æ¡£æµ"></a>å¸ƒå±€ï¼šæ–‡æ¡£æµ</h3><p>æ–‡æ¡£æµï¼šä¼šæŠŠå†…å®¹æŒ‰ç…§ä»å·¦åˆ°å³ã€ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºè¿›è¡Œæ’åˆ—æ˜¾ç¤ºã€‚</p><p>æ–‡æ¡£ä¸€æ—¦è„±æµï¼Œè®¡ç®—å…¶çˆ¶èŠ‚ç‚¹é«˜åº¦æ—¶ä¸ä¼šå°†å…¶é«˜åº¦çº³å…¥ï¼Œè„±æµèŠ‚ç‚¹ä¸å æ®ç©ºé—´ã€‚å¦‚ä½•è„±ç¦»æ–‡æ¡£æµï¼Ÿ</p><ul><li>æµ®åŠ¨å…ƒç´ </li><li>ç»å¯¹å®šä½</li></ul><h3 id="å¸ƒå±€ï¼šå—çº§ä¸Šä¸‹æ–‡"><a href="#å¸ƒå±€ï¼šå—çº§ä¸Šä¸‹æ–‡" class="headerlink" title="å¸ƒå±€ï¼šå—çº§ä¸Šä¸‹æ–‡"></a>å¸ƒå±€ï¼šå—çº§ä¸Šä¸‹æ–‡</h3><p>å—æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼ˆBlock Formatting Contextï¼ŒBFCï¼‰æ˜¯ä¸€ä¸ªä½œç”¨èŒƒå›´ï¼Œç‹¬ç«‹çš„å®¹å™¨ã€‚</p><ul><li>å®¹å™¨é‡Œé¢çš„å…ƒç´ ä¸ä¼šåœ¨å¸ƒå±€ä¸Šå½±å“åˆ°å¤–é¢çš„å…ƒç´ ã€‚</li><li>BFC çš„åŒºåŸŸä¸ä¼šä¸ float ç›’å­é‡å ã€‚</li><li>å†…éƒ¨çš„ç›’å­ä¼šåœ¨å‚ç›´æ–¹å‘ï¼Œä¸€ä¸ªæ¥ä¸€ä¸ªåœ°æ”¾ç½®</li><li>è®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—</li><li>å±äºåŒä¸€ä¸ª BFC çš„ä¸¤ä¸ªç›¸é‚»ç›’å­çš„ margin ä¼šå‘ç”Ÿé‡å </li></ul><h4 id="å¦‚ä½•åˆ›å»º-BFC"><a href="#å¦‚ä½•åˆ›å»º-BFC" class="headerlink" title="å¦‚ä½•åˆ›å»º BFC?"></a>å¦‚ä½•åˆ›å»º BFC?</h4><p>å¸¸è§çš„æœ‰ï¼š</p><ul><li>æ ¹å…ƒç´ ï¼šhtml</li><li>æµ®åŠ¨å…ƒç´ ï¼šfloat å±æ€§ä¸ä¸º none</li><li>ç»å¯¹å®šä½å…ƒç´ ï¼šposition ä¸º absolute æˆ– fixed</li><li>overflow ä¸ä¸º visible çš„å…ƒç´ </li><li>display å€¼ä¸º flow-root çš„å…ƒç´ </li><li>å®šä¹‰æˆå—çº§çš„éå—çº§å…ƒç´ ï¼šdisplay: inline-block&#x2F;table-cell&#x2F;table-caption&#x2F;flex&#x2F;inline-flex&#x2F;grid&#x2F;inline-grid</li></ul><h4 id="åº”ç”¨"><a href="#åº”ç”¨" class="headerlink" title="åº”ç”¨"></a>åº”ç”¨</h4><ol><li>è‡ªé€‚åº”ä¸¤æ å¸ƒå±€ï¼šBFC çš„åŒºåŸŸä¸ä¼šå’Œæµ®åŠ¨åŒºåŸŸé‡å ï¼Œæ‰€ä»¥å°±å¯ä»¥æŠŠä¾§è¾¹æ å›ºå®šå®½åº¦ä¸”å·¦æµ®åŠ¨ï¼Œè€Œå¯¹å³ä¾§å†…å®¹è§¦å‘ BFCï¼Œä½¿å¾—å®ƒçš„å®½åº¦è‡ªé€‚åº”è¯¥è¡Œå‰©ä½™å®½åº¦ã€‚</li><li>æ¸…é™¤å†…éƒ¨æµ®åŠ¨ï¼šæµ®åŠ¨é€ æˆçš„é—®é¢˜å°±æ˜¯çˆ¶å…ƒç´ é«˜åº¦åå¡Œï¼Œæ‰€ä»¥æ¸…é™¤æµ®åŠ¨éœ€è¦è§£å†³çš„é—®é¢˜å°±æ˜¯è®©çˆ¶å…ƒç´ çš„é«˜åº¦æ¢å¤æ­£å¸¸ã€‚è€Œç”¨ BFC æ¸…é™¤æµ®åŠ¨çš„åŸç†å°±æ˜¯ï¼šè®¡ç®— BFC çš„é«˜åº¦æ—¶ï¼Œæµ®åŠ¨å…ƒç´ ä¹Ÿå‚ä¸è®¡ç®—ã€‚åªè¦è§¦å‘çˆ¶å…ƒç´ çš„ BFC å³å¯ã€‚</li><li>é˜²æ­¢å‚ç›´ margin åˆå¹¶ï¼šBFC æ¸²æŸ“åŸç†ä¹‹ä¸€ï¼šåŒä¸€ä¸ª BFC ä¸‹çš„å‚ç›´ margin ä¼šå‘ç”Ÿåˆå¹¶ã€‚æ‰€ä»¥å¦‚æœè®© 2 ä¸ªå…ƒç´ ä¸åœ¨åŒä¸€ä¸ª BFC ä¸­å³å¯é˜»æ­¢å‚ç›´ margin åˆå¹¶ã€‚</li></ol><h4 id="æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„åˆ†ç±»"><a href="#æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„åˆ†ç±»" class="headerlink" title="æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„åˆ†ç±»"></a>æ ¼å¼åŒ–ä¸Šä¸‹æ–‡çš„åˆ†ç±»</h4><ul><li>BFC (Block Formatting Context) å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼›</li><li>IFC (Inline Formatting Context) è¡Œå†…æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼›</li><li>FFC (Flex Formatting Context) å¼¹æ€§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼›</li><li>GFC (Grid Formatting Context) æ ¼æ …æ ¼å¼åŒ–ä¸Šä¸‹æ–‡ï¼›</li></ul><h3 id="å¸ƒå±€ï¼šå±‚å ä¸Šä¸‹æ–‡"><a href="#å¸ƒå±€ï¼šå±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="å¸ƒå±€ï¼šå±‚å ä¸Šä¸‹æ–‡"></a>å¸ƒå±€ï¼šå±‚å ä¸Šä¸‹æ–‡</h3><p>å‚è€ƒï¼š<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/CSS_Positioning/Understanding_z_index/The_stacking_context">MDN-å±‚å ä¸Šä¸‹æ–‡</a></p><p>æˆ‘ä»¬å‡å®šç”¨æˆ·æ­£é¢å‘ï¼ˆæµè§ˆå™¨ï¼‰è§†çª—æˆ–ç½‘é¡µï¼Œè€Œ HTML å…ƒç´ æ²¿ç€å…¶ç›¸å¯¹äºç”¨æˆ·çš„ä¸€æ¡è™šæ„çš„ z è½´æ’å¼€ï¼Œå±‚å ä¸Šä¸‹æ–‡å°±æ˜¯å¯¹è¿™äº› HTML å…ƒç´ çš„ä¸€ä¸ªä¸‰ç»´æ„æƒ³ã€‚ä¼— HTML å…ƒç´ åŸºäºå…¶å…ƒç´ å±æ€§æŒ‰ç…§ä¼˜å…ˆçº§é¡ºåºå æ®è¿™ä¸ªç©ºé—´ã€‚</p><h4 id="å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å±‚å ç­‰çº§ï¼Ÿ"><a href="#å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å±‚å ç­‰çº§ï¼Ÿ" class="headerlink" title="å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å±‚å ç­‰çº§ï¼Ÿ"></a>å¦‚ä½•æ¯”è¾ƒä¸¤ä¸ªå…ƒç´ çš„å±‚å ç­‰çº§ï¼Ÿ</h4><ol><li>å…ˆæ¯”è¾ƒä¸¤ä¸ªå…ƒç´ åˆ†åˆ«æ‰€å¤„çš„å±‚å ä¸Šä¸‹æ–‡çš„ç­‰çº§</li><li>å¦‚æœåœ¨åŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡ä¸­ï¼Œå†æ¯”è¾ƒå±‚å é¡ºåºï¼ˆè§ä¸‹å›¾ï¼‰</li><li>å¦‚æœä¸¤ä¸ªå…ƒç´ éƒ½åœ¨åŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡ï¼Œä¸”å±‚å é¡ºåºç›¸åŒï¼Œåˆ™åœ¨ HTML ä¸­å®šä¹‰è¶Šåé¢çš„å±‚å ç­‰çº§è¶Šé«˜ã€‚</li></ol><p><img src="/img/front-end-interview-preparation/the-stacking-context-1.png" alt="åŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡ä¸­çš„å±‚å é¡ºåº"></p><h3 id="å¸ƒå±€ï¼šposition-å±æ€§"><a href="#å¸ƒå±€ï¼šposition-å±æ€§" class="headerlink" title="å¸ƒå±€ï¼šposition å±æ€§"></a>å¸ƒå±€ï¼šposition å±æ€§</h3><p>CSS<code>position</code>å±æ€§ç”¨äºæŒ‡å®šä¸€ä¸ªå…ƒç´ åœ¨æ–‡æ¡£ä¸­çš„å®šä½æ–¹å¼ã€‚topï¼Œrightï¼Œbottom å’Œ left å±æ€§åˆ™å†³å®šäº†è¯¥å…ƒç´ çš„æœ€ç»ˆä½ç½®ã€‚</p><ul><li><code>static</code>ï¼šé»˜è®¤å€¼ã€‚å…ƒç´ åœ¨æ–‡æ¡£å¸¸è§„æµä¸­å½“å‰çš„å¸ƒå±€ä½ç½®ã€‚</li><li><code>relative</code>ï¼šâ½£æˆç›¸å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºå…¶æ­£å¸¸ä½ç½®è¿›â¾å®šä½ã€‚</li><li><code>absolute</code>ï¼šâ½£æˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äº<strong>static å®šä½ä»¥å¤–çš„ç¬¬ä¸€ä¸ªçˆ¶å…ƒç´ </strong>è¿›è¡Œå®šä½ã€‚</li><li><code>fixed</code>ï¼šâ½£æˆç»å¯¹å®šä½çš„å…ƒç´ ï¼Œç›¸å¯¹äºæµè§ˆå™¨çª—â¼è¿›â¾å®šä½ã€‚</li><li><code>sticky</code>ï¼šç²˜æ€§å®šä½ï¼ŒåŸºäºæµè§ˆå™¨çš„æ»šåŠ¨ä½ç½®å˜åŒ–ï¼Œæ˜¯ç›¸å¯¹å®šä½å’Œå›ºå®šå®šä½çš„æ··åˆã€‚å…ƒç´ åœ¨è·¨è¶Šç‰¹å®šé˜ˆå€¼å‰ä¸ºç›¸å¯¹å®šä½ï¼Œä¹‹åä¸ºå›ºå®šå®šä½ã€‚é¡»æŒ‡å®š top, right, bottom æˆ– left å››ä¸ªé˜ˆå€¼å…¶ä¸­ä¹‹ä¸€ï¼Œæ‰å¯ä½¿ç²˜æ€§å®šä½ç”Ÿæ•ˆã€‚å¦åˆ™å…¶è¡Œä¸ºä¸ç›¸å¯¹å®šä½ç›¸åŒã€‚</li></ul><h3 id="å¸¸è§éœ€æ±‚ï¼š1px-è¾¹æ¡†é—®é¢˜"><a href="#å¸¸è§éœ€æ±‚ï¼š1px-è¾¹æ¡†é—®é¢˜" class="headerlink" title="å¸¸è§éœ€æ±‚ï¼š1px è¾¹æ¡†é—®é¢˜"></a>å¸¸è§éœ€æ±‚ï¼š1px è¾¹æ¡†é—®é¢˜</h3><p>1px é—®é¢˜æŒ‡çš„æ˜¯ï¼šåœ¨ä¸€äº› Retina å±å¹•çš„æœºå‹ä¸Šï¼Œç§»åŠ¨ç«¯é¡µé¢çš„ 1px ä¼šå˜å¾—å¾ˆç²—ï¼Œå‘ˆç°å‡ºä¸æ­¢ 1px çš„æ•ˆæœã€‚æ˜¯å› ä¸ºï¼š<code>è®¾å¤‡çš„ç‰©ç†åƒç´  = window.devicePixelRatio * CSSåƒç´ </code>ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼ˆä»¥<code>devicePixelRatio = 2</code>ä¸ºä¾‹ï¼‰ï¼š</p><ul><li>ä¼ªå…ƒç´  + transform å®ç°ï¼šåˆ©ç”¨ä¼ªå…ƒç´  :after é‡åš border ï¼Œå¹¶ç”¨ transform çš„ scale ç¼©å°ä¸€åŠ</li><li>viewport ç¼©æ”¾ï¼šä¿®æ”¹<code>initial-scale</code>ç­‰å±æ€§<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span></span><br><span class="hljs-tag">  <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span></span><br><span class="hljs-tag">  <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;initial-scale=0.5, maximum-scale=0.5, minimum-scale=0.5, user-scalable=no&quot;</span></span><br><span class="hljs-tag">/&gt;</span><br></code></pre></td></tr></table></figure></li></ul><h3 id="å¸¸è§éœ€æ±‚ï¼šæ¸…é™¤æµ®åŠ¨"><a href="#å¸¸è§éœ€æ±‚ï¼šæ¸…é™¤æµ®åŠ¨" class="headerlink" title="å¸¸è§éœ€æ±‚ï¼šæ¸…é™¤æµ®åŠ¨"></a>å¸¸è§éœ€æ±‚ï¼šæ¸…é™¤æµ®åŠ¨</h3><p>ä¸ºä»€ä¹ˆè¦æ¸…é™¤æµ®åŠ¨ï¼Ÿ</p><p>å› ä¸ºæµ®åŠ¨å…ƒç´ ä¼šè„±ç¦»æ­£å¸¸çš„æ–‡æ¡£æµï¼Œå¹¶ä¸ä¼šå æ®æ–‡æ¡£æµçš„ä½ç½®ï¼Œæ˜“é€ æˆ<strong>çˆ¶å…ƒç´ é«˜åº¦åå¡Œ</strong>çš„é—®é¢˜ã€‚</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><ol><li>çˆ¶çº§ div å®šä¹‰ height</li><li>BFC æ¸…é™¤æµ®åŠ¨ï¼šå› ä¸ºè®¡ç®— BFC é«˜åº¦çš„æ—¶å€™æµ®åŠ¨å­å…ƒç´ çš„é«˜åº¦ä¹Ÿå°†è®¡ç®—åœ¨å†…ï¼Œæ‰€ä»¥åˆ›å»º BFC å³å¯ï¼ˆå¦‚çˆ¶çº§ div å®šä¹‰<code>overflow: hidden</code>ï¼‰</li><li>çˆ¶çº§ div å®šä¹‰ä¼ªå…ƒç´ :after å’Œ zoom<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*</span><br><span class="hljs-comment"> * For IE 6/7 only</span><br><span class="hljs-comment"> * Include this rule to trigger hasLayout and contain floats.</span><br><span class="hljs-comment"> */</span><br><span class="hljs-selector-class">.clearfix</span> &#123;<br>  *zoom: <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">display</span>: block;<br>  <span class="hljs-attribute">clear</span>: both;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h3 id="å¸¸è§éœ€æ±‚ï¼šå¸ƒå±€æ–¹æ¡ˆ"><a href="#å¸¸è§éœ€æ±‚ï¼šå¸ƒå±€æ–¹æ¡ˆ" class="headerlink" title="å¸¸è§éœ€æ±‚ï¼šå¸ƒå±€æ–¹æ¡ˆ"></a>å¸¸è§éœ€æ±‚ï¼šå¸ƒå±€æ–¹æ¡ˆ</h3><p>å‚è€ƒï¼š<a href="https://juejin.cn/post/6941206439624966152#heading-43">1.5 ä¸‡å­— CSS åŸºç¡€æ‹¾é—ï¼ˆæ ¸å¿ƒçŸ¥è¯†ã€å¸¸è§éœ€æ±‚ï¼‰</a></p><h4 id="æ°´å¹³å‚ç›´å±…ä¸­"><a href="#æ°´å¹³å‚ç›´å±…ä¸­" class="headerlink" title="æ°´å¹³å‚ç›´å±…ä¸­"></a>æ°´å¹³å‚ç›´å±…ä¸­</h4><p>è®©å…ƒç´ åœ¨çˆ¶å…ƒç´ ä¸­å‘ˆç°å‡ºæ°´å¹³å‚ç›´å±…ä¸­çš„å½¢æ€ï¼Œæ— éå°± 3 ç§æƒ…å†µï¼š</p><ol><li>å•è¡Œçš„æ–‡æœ¬ã€inline æˆ–è€… inline-block å…ƒç´ ï¼›<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.single-line</span> &#123;<br>  <span class="hljs-attribute">text-align</span>: center;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">line-height</span>: <span class="hljs-number">100px</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>å›ºå®šå®½é«˜çš„å—çº§ç›’å­<ul><li>ç»å¯¹å®šä½ï¼ˆabsolute + calcï¼‰<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">50%</span> - <span class="hljs-number">50px</span>);<br>  <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">50%</span> - <span class="hljs-number">50px</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li><li>ä¸å›ºå®šå®½é«˜çš„å—çº§ç›’å­<ul><li>ç»å¯¹å®šä½ï¼ˆabsolute + transformï¼‰<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">position</span>: absolute;<br>  <span class="hljs-attribute">top</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">left</span>: <span class="hljs-number">50%</span>;<br>  <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);<br>&#125;<br></code></pre></td></tr></table></figure></li><li>flex å¸ƒå±€<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>  <span class="hljs-attribute">align-items</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure></li><li>table-cell å¸ƒå±€<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.parent</span> &#123;<br>  <span class="hljs-attribute">display</span>: table-cell;<br>  <span class="hljs-attribute">vertical-align</span>: middle;<br>  <span class="hljs-attribute">text-align</span>: center;<br>&#125;<br><span class="hljs-selector-class">.child</span> &#123;<br>  <span class="hljs-attribute">display</span>: inline-block;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul></li></ol><p>å®ç°å‚ç›´å±…ä¸­ï¼š</p><ul><li>è§†å£çš„å‚ç›´å±…ä¸­å¯ä»¥ä½¿ç”¨ margin:50vh auto</li><li>ä½¿ç”¨ç»å¯¹å®šä½ top:50% åŠ è½½è´Ÿ margin</li><li>ç»å¯¹å®šä½ top åŠ ä¸Š calc</li><li>ç»å¯¹å®šä½ åŠ ä¸Š transform</li><li>ä½¿ç”¨ flex å¸ƒå±€</li></ul><p>å®ç°æ°´å¹³å±…ä¸­ï¼š</p><ul><li>çˆ¶å…ƒç´ ä½¿ç”¨ text-align:centerï¼Œå­å…ƒç´ ä¸º inline&#x2F;inline-block</li><li>ä½¿ç”¨ margin:0 autoï¼ˆå¯¹äºå—çº§å…ƒç´ ï¼Œè¦å®šä¹‰å®½åº¦ï¼‰</li><li>ä½¿ç”¨ç»å¯¹å®šä½</li></ul><h4 id="ä¸¤æ å¸ƒå±€ï¼šä¸€è¾¹ç»™å®šå®½åº¦ï¼Œä¸€è¾¹è‡ªé€‚åº”"><a href="#ä¸¤æ å¸ƒå±€ï¼šä¸€è¾¹ç»™å®šå®½åº¦ï¼Œä¸€è¾¹è‡ªé€‚åº”" class="headerlink" title="ä¸¤æ å¸ƒå±€ï¼šä¸€è¾¹ç»™å®šå®½åº¦ï¼Œä¸€è¾¹è‡ªé€‚åº”"></a>ä¸¤æ å¸ƒå±€ï¼šä¸€è¾¹ç»™å®šå®½åº¦ï¼Œä¸€è¾¹è‡ªé€‚åº”</h4><ol><li>ä½¿ç”¨ floatï¼Œå·¦æ  float:right å³æ  overflow: hidden;ï¼ˆBFCï¼‰</li><li>ä½¿ç”¨å®šä½å¸ƒå±€ï¼Œå·¦æ  position:absoluteï¼Œå³æ  margin-left:200px</li><li>ä½¿ç”¨ flex å¸ƒå±€ï¼Œå®¹å™¨ display:flexï¼Œå·¦æ å®šå®½ï¼Œå³æ  flex:1</li><li>ä½¿ç”¨ grid å¸ƒå±€ï¼Œå®¹å™¨ display:gridï¼Œgrid-template-columns: 200px auto;</li></ol><h4 id="ä¸‰æ å¸ƒå±€ï¼šä¸¤è¾¹é¡¶å®½ï¼Œä¸­é—´è‡ªé€‚åº”"><a href="#ä¸‰æ å¸ƒå±€ï¼šä¸¤è¾¹é¡¶å®½ï¼Œä¸­é—´è‡ªé€‚åº”" class="headerlink" title="ä¸‰æ å¸ƒå±€ï¼šä¸¤è¾¹é¡¶å®½ï¼Œä¸­é—´è‡ªé€‚åº”"></a>ä¸‰æ å¸ƒå±€ï¼šä¸¤è¾¹é¡¶å®½ï¼Œä¸­é—´è‡ªé€‚åº”</h4><ol><li>åœ£æ¯å¸ƒå±€<br>  ä¸ºäº†ä¸­é—´divå†…å®¹ä¸è¢«é®æŒ¡ï¼Œå°†çˆ¶å…ƒç´ è®¾ç½®äº†å·¦å³padding-leftå’Œpadding-rightåï¼Œå°†å·¦å³ä¸¤ä¸ªdivç”¨ç›¸å¯¹å¸ƒå±€position: relativeå¹¶åˆ†åˆ«é…åˆrightå’Œleftå±æ€§ï¼Œä»¥ä¾¿å·¦å³ä¸¤æ divç§»åŠ¨åä¸é®æŒ¡ä¸­é—´divã€‚å¯å‚è€ƒï¼š<a href="https://codepen.io/canyzhou/pen/zYpbjXE?editors=1100">demo</a><br>  <img src="/img/front-end-interview-preparation/3-cols-layout-1.png" alt="åœ£æ¯å¸ƒå±€"></li><li>åŒé£ç¿¼å¸ƒå±€<br>  ä¸ºäº†ä¸­é—´divå†…å®¹ä¸è¢«é®æŒ¡ï¼Œç›´æ¥åœ¨ä¸­é—´divå†…éƒ¨åˆ›å»ºå­divç”¨äºæ”¾ç½®å†…å®¹ï¼Œåœ¨ä¸­é—´divé‡Œç”¨margin-leftå’Œmargin-rightä¸ºå·¦å³ä¸¤æ divç•™å‡ºä½ç½®ã€‚å¯å‚è€ƒï¼š<a href="https://codepen.io/canyzhou/pen/mdpoKdY">demo</a><br>  <img src="/img/front-end-interview-preparation/3-cols-layout-2.png" alt="åŒé£ç¿¼å¸ƒå±€"></li><li>floatå¸ƒå±€ï¼ˆBFCï¼‰</li><li>flexå¸ƒå±€</li><li>gridå¸ƒå±€  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.layout</span>&#123;<br>   <span class="hljs-attribute">display</span>: grid;<br>   <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">200px</span> auto <span class="hljs-number">200px</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><h4 id="flexå¸ƒå±€"><a href="#flexå¸ƒå±€" class="headerlink" title="flexå¸ƒå±€"></a>flexå¸ƒå±€</h4><p>å¯¹äºçˆ¶å…ƒç´ ï¼š</p><ul><li><code>flex-direction</code> ä¸»è½´æ–¹å‘</li><li><code>flex-wrap</code> æ’ä¸ä¸‹æ˜¯å¦æ¢è¡Œ</li><li><code>flex-flow</code> flex-direction å’Œ flex-wrap çš„ç®€å†™å½¢å¼</li><li><code>justify-content</code> é¡¹ç›®åœ¨ä¸»è½´ä¸Šçš„å¯¹é½æ–¹å¼<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">justify-content</span>: flex-start | flex-end | center | space-between |space-around; <br></code></pre></td></tr></table></figure></li><li><code>align-items</code> é¡¹ç›®åœ¨äº¤å‰è½´ä¸Šå¦‚ä½•å¯¹é½<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">align-items</span>: flex-start | flex-end | center | baseline | stretch;<br></code></pre></td></tr></table></figure></li><li><code>align-content</code> å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼</li></ul><p>å¯¹äºå­å…ƒç´ ï¼š</p><ul><li><code>flex-grow</code> å®šä¹‰é¡¹ç›®çš„æ”¾å¤§æ¯”ä¾‹ï¼Œé»˜è®¤å€¼ä¸º0ï¼Œä¸æ”¾å¤§</li><li><code>flex-shrink</code> å®šä¹‰äº†é¡¹ç›®çš„ç¼©å°æ¯”ä¾‹ï¼Œé»˜è®¤ä¸º1ï¼Œç©ºé—´ä¸è¶³å°†ç¼©å°</li><li><code>flex-basis</code> åˆ†é…å¤šä½™ç©ºé—´ä¹‹å‰ï¼Œé¡¹ç›®å æ®çš„ä¸»è½´ç©ºé—´ï¼Œé»˜è®¤ä¸ºautoï¼Œå³é¡¹ç›®çš„æœ¬æ¥å¤§å°</li><li><code>flex</code> flex-growï¼Œflex-shrinkå’Œflex-basisçš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º0 1 autoã€‚åé¢ä¸¤ä¸ªå±æ€§å¯é€‰</li><li><code>align-self</code> å…è®¸å•ä¸ªé¡¹ç›®æœ‰ä¸å…¶ä»–é¡¹ç›®ä¸ä¸€æ ·çš„å¯¹é½æ–¹å¼</li><li><code>order</code> é¡¹ç›®çš„æ’åˆ—é¡ºåºã€‚æ•°å€¼è¶Šå°ï¼Œæ’åˆ—è¶Šé å‰</li></ul><h4 id="å“åº”å¼å¸ƒå±€"><a href="#å“åº”å¼å¸ƒå±€" class="headerlink" title="å“åº”å¼å¸ƒå±€"></a>å“åº”å¼å¸ƒå±€</h4><p>Responsive designï¼Œæ„åœ¨å®ç°ä¸åŒå±å¹•åˆ†è¾¨ç‡çš„ç»ˆç«¯ä¸Šæµè§ˆç½‘é¡µçš„ä¸åŒå±•ç¤ºæ–¹å¼ã€‚é€šè¿‡å“åº”å¼è®¾è®¡èƒ½ä½¿ç½‘ç«™åœ¨æ‰‹æœºå’Œå¹³æ¿ç”µè„‘ä¸Šæœ‰æ›´å¥½çš„æµè§ˆé˜…è¯»ä½“éªŒã€‚</p><p>æ–¹æ¡ˆï¼š</p><ol><li>åª’ä½“æŸ¥è¯¢ + rem ï¼ˆåŠ¨æ€æ§åˆ¶æ ¹å…ƒç´ font-sizeçš„å¤§å°ï¼‰</li><li>flexå¼¹æ€§å¸ƒå±€</li><li>ç™¾åˆ†æ¯”å¸ƒå±€ï¼Œå¦‚vw&#x2F;vh</li></ol><h2 id="å¸¸è§é¢è¯•é¢˜"><a href="#å¸¸è§é¢è¯•é¢˜" class="headerlink" title="å¸¸è§é¢è¯•é¢˜"></a>å¸¸è§é¢è¯•é¢˜</h2><h3 id="margin-0-auto-ä¸­autoçš„å–å€¼"><a href="#margin-0-auto-ä¸­autoçš„å–å€¼" class="headerlink" title="margin: 0 auto;ä¸­autoçš„å–å€¼"></a><code>margin: 0 auto;</code>ä¸­autoçš„å–å€¼</h3><p>æƒ³è¦æ°´å¹³å±…ä¸­æŸä¸ªå…ƒç´ æ—¶,å¯ä»¥è®¾ç½®<code>margin: 0 auto;</code></p><p>auto çš„å–å€¼ ï¼š</p><ul><li>å½“çˆ¶å…ƒç´ çš„å¸ƒå±€æ–¹å¼ä¸º static&#x2F;relative ä¸”<strong>å®½é«˜å·²çŸ¥</strong>æ—¶ï¼šçˆ¶å…ƒç´ å‰©ä½™ç©ºé—´çš„å®½åº¦</li><li>å½“çˆ¶å…ƒç´ çš„å¸ƒå±€æ–¹å¼ä¸º absolute&#x2F;fixed æˆ–è€… float&#x2F;inline æˆ–è€…å®½é«˜æœªçŸ¥æ—¶ï¼š0</li></ul><h3 id="CSSä¸­çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹ä»€ä¹ˆï¼Ÿ"><a href="#CSSä¸­çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹ä»€ä¹ˆï¼Ÿ" class="headerlink" title="CSSä¸­çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹ä»€ä¹ˆï¼Ÿ"></a>CSSä¸­çš„ç™¾åˆ†æ¯”æ˜¯ç›¸å¯¹ä»€ä¹ˆï¼Ÿ</h3><p>å…ƒç´ ç™¾åˆ†æ¯”çš„è®¡ç®—å€¼æ˜¯é€šè¿‡å…ƒç´ çš„åŒ…å«å—ï¼ˆcontaining blockï¼‰è®¡ç®—å¾—åˆ°çš„ã€‚</p><blockquote><p>å…ƒç´ çš„å°ºå¯¸åŠä½ç½®ï¼Œå¸¸å¸¸ä¼šå—å®ƒçš„åŒ…å«å—æ‰€å½±å“ã€‚å¯¹äºä¸€äº›å±æ€§ï¼Œä¾‹å¦‚ width, height, padding, marginï¼Œç»å¯¹å®šä½å…ƒç´ çš„åç§»å€¼ ï¼ˆæ¯”å¦‚ position è¢«è®¾ç½®ä¸º absolute æˆ– fixedï¼‰ï¼Œå½“æˆ‘ä»¬å¯¹å…¶èµ‹äºˆç™¾åˆ†æ¯”å€¼æ—¶ï¼Œè¿™äº›å€¼çš„è®¡ç®—å€¼ï¼Œå°±æ˜¯é€šè¿‡å…ƒç´ çš„åŒ…å«å—è®¡ç®—å¾—æ¥ã€‚<br><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block">MDN: containing block</a></p></blockquote><ul><li>è¦è®¡ç®—<code>height</code>, <code>top</code> åŠ <code>bottom</code> ä¸­çš„ç™¾åˆ†å€¼ï¼Œæ˜¯é€šè¿‡åŒ…å«å—çš„<code>height</code>çš„å€¼ã€‚å¦‚æœåŒ…å«å—çš„ height å€¼ä¼šæ ¹æ®å®ƒçš„å†…å®¹å˜åŒ–ï¼Œè€Œä¸”åŒ…å«å—çš„ position å±æ€§çš„å€¼è¢«èµ‹äºˆ relative æˆ– static ï¼Œé‚£ä¹ˆï¼Œè¿™äº›å€¼çš„è®¡ç®—å€¼ä¸º<code>auto</code>ã€‚</li><li>è¦è®¡ç®—<code>width</code>, <code>left</code>, <code>right</code>, <code>padding</code>, <code>margin</code> è¿™äº›å±æ€§ç”±åŒ…å«å—çš„<code>width</code>å±æ€§çš„å€¼æ¥è®¡ç®—å®ƒçš„ç™¾åˆ†å€¼ã€‚</li></ul><h2 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h2><ol><li><a href="https://juejin.cn/post/6941206439624966152#heading-0">1.5 ä¸‡å­— CSS åŸºç¡€æ‹¾é—ï¼ˆæ ¸å¿ƒçŸ¥è¯†ã€å¸¸è§éœ€æ±‚ï¼‰</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Learn/CSS/First_steps">MDN - å­¦ä¹  CSS ç¬¬ä¸€æ­¥</a></li></ol><p>TODO:</p><ul><li><input checked="" disabled="" type="checkbox"> åœ£æ¯å’ŒåŒé£ç¿¼å¸ƒå±€å†™ä¸ªdemo</li><li><input disabled="" type="checkbox"> CSSåŠ¨ç”»çš„demo</li></ul>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>CSS</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“ï¼ˆä¸€ï¼‰ï¼šå¤§çº² &amp; HTML</title>
    <link href="/2022/04/14/front-end-interview-preparation-1/"/>
    <url>/2022/04/14/front-end-interview-preparation-1/</url>
    
    <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æˆ‘åœ¨å»å¹´æ˜¥å¤©ä¸ºäº†æš‘æœŸå®ä¹ åšäº†å¾ˆå¤šå‡†å¤‡ï¼Œä¹Ÿå‚åŠ äº†è¿‘30åœºæŠ€æœ¯é¢è¯•ï¼Œæœ€ç»ˆæ‹¿åˆ°äº†å¤§å‚çš„offerã€‚ä¹‹å‰å‡†å¤‡çš„é¢ç»çŸ¥è¯†æ€»ç»“æœ‰äº›é›¶ç¢ï¼Œæ‰€ä»¥æƒ³é‡æ–°æ•´ç†ä¸€ä¸‹ï¼Œä¸€æ–¹é¢è‡ªå·±åœ¨æ•´ç†è¿‡ç¨‹ä¸­å¯ä»¥é‡æ¸©çŸ¥è¯†ç‚¹ï¼Œå¦ä¸€æ–¹é¢å¦‚æœæœªæ¥è¢«â€œæ¯•ä¸šâ€äº†ä¹Ÿå¯ä»¥æå‡ºæ¥å¤ä¹ ã€‚</p><h2 id="å‰ç«¯çŸ¥è¯†å¤§çº²"><a href="#å‰ç«¯çŸ¥è¯†å¤§çº²" class="headerlink" title="å‰ç«¯çŸ¥è¯†å¤§çº²"></a>å‰ç«¯çŸ¥è¯†å¤§çº²</h2><p>ä¸‹å›¾æ˜¯æˆ‘æ€»ç»“çš„é¢è¯•å¸¸è€ƒçŸ¥è¯†ç‚¹çš„å¤§çº²ï¼š</p><p><img src="/img/front-end-interview-preparation/fe-outline.png"></p><p>æˆ‘æŠŠå‰ç«¯é¢è¯•ä¸­å¸¸è€ƒæ ¸çš„å†…å®¹åˆ†æˆä¸ƒä¸ªæ¨¡å—ï¼šåŸºç¡€ã€æ¡†æ¶ã€å‰ç«¯å·¥ç¨‹åŒ–ã€æµè§ˆå™¨åŸç†ã€è®¡ç®—æœºç½‘ç»œã€ç®—æ³•ä¸æ•°æ®ç»“æ„ã€æœåŠ¡å™¨åŸºç¡€ã€‚å…¶ä¸­åŸºç¡€å›ºç„¶æ˜¯æœ€é‡è¦çš„ï¼ŒHTMLã€CSSã€JavaScriptã€Domæ˜¯æ¯ä¸€ä¸ªå‰ç«¯erå¿…é¡»æŒæ¡å¥½çš„å†…å®¹ã€‚CSSå¸¸è€ƒæ ¸çš„çŸ¥è¯†ç‚¹éƒ½åœ¨ä¸Šé¢çš„æ€ç»´å¯¼å›¾ä¸Šæ¥ï¼ŒHTMLè€ƒæ ¸çš„é¢‘æ¬¡è¾ƒå°‘ã€‚JavaScriptä¼šè€ƒæ ¸çš„è¾ƒä¸ºç»†è‡´ï¼Œé™¤äº†ä¼šé—®ä¸€äº›åŸºç¡€æ¦‚å¿µï¼Œä¹Ÿä¼šå‡ºæ‰‹å†™é¢˜æˆ–è€…è®©ä½ çœ‹ä»£ç è¯´è¾“å‡ºç»“æœã€‚åŒæ—¶ES6ï¼ˆå³ES2015ï¼‰ä»2015å¹´åæ¯å¹´éƒ½ä¼šå‡ºæ–°ç‰ˆæœ¬ï¼ŒåƒPromiseã€Classç±»åœ¨å®é™…ç”Ÿäº§ä¸­éå¸¸å¸¸ç”¨ï¼Œä¹Ÿç»å¸¸åœ¨é¢è¯•ä¸­è€ƒæ ¸ã€‚</p><p>æ ¹æ®ä½ ç®€å†ä¸Šçš„æŠ€æœ¯æ ˆï¼ŒVueå’ŒReactæ¡†æ¶ä¸€èˆ¬æ‹©å…¶ä¸€è€ƒå¯Ÿã€‚åŸºæœ¬é¢è¯•å®˜éƒ½ä¼šé—®ä½ æ›´ç†Ÿæ‚‰å“ªä¸ªæŠ€æœ¯æ ˆå†è€ƒå¯Ÿè¯¥æ¡†æ¶çš„çŸ¥è¯†ç‚¹ï¼Œæ‰€ä»¥å°¤å…¶è¦æ·±å…¥å‡†å¤‡ä¸€ä¸ªæ¡†æ¶ï¼Œé™¤äº†åƒé€APIã€ç”Ÿå‘½å‘¨æœŸçš„åŸºæœ¬æ¦‚å¿µï¼Œè¿˜è¦å»äº†è§£åº•å±‚åŸç†ï¼Œå¦‚æœèƒ½äº†è§£è¯¥æ¡†æ¶æœ€æ–°çš„å‘å±•è¶‹åŠ¿å°±æ›´å¥½äº†ã€‚åŒæ—¶è¿˜éœ€è¦äº†è§£æ¡†æ¶é€šè¯†ï¼Œæ¯”å¦‚MVVMå’ŒMVCçš„åŒºåˆ«ï¼ŒVirtual Domæ˜¯ä»€ä¹ˆï¼ŒVueå’ŒReactçš„åŒºåˆ«å’Œå„è‡ªä¼˜åŠ¿ç­‰ã€‚</p><p>è®¡ç®—æœºç½‘ç»œã€æ•°æ®ç»“æ„å’Œç®—æ³•è¿™ä¿©ç®—æ˜¯è®¡ç®—æœºç§‘ç­äººéƒ½ä¼šçš„åŸºç¡€çŸ¥è¯†ã€‚å½“ç„¶å‰ç«¯ä¹Ÿä¼šè€ƒæ ¸ï¼Œä½†ä¸ä¼šé‚£ä¹ˆéš¾ã€‚è€ƒæ ¸çš„è¶‹åŠ¿æ˜¯ä¸€å¹´æ¯”ä¸€å¹´éš¾ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦åšå¥½å¿ƒç†å‡†å¤‡ã€‚ç®—æ³•é¢˜ä¸ŠLeetCodeåˆ·ä¸Š100~200é“é¢˜ç»å¯¹å¤Ÿç”¨äº†ï¼ŒåŒæ—¶è¿˜éœ€è¦æŒæ¡æ‰‹å†™JSé¢˜ï¼ˆæ‰‹å†™Promiseç­‰ï¼‰ã€‚è‡³äºè®¾è®¡æ¨¡å¼å’Œç¼–ç¨‹èŒƒå¼ä¸ä¸€å®šä¼šè€ƒæ ¸ï¼Œä½†æœ€å¥½ä¹Ÿæœ‰æ‰€äº†è§£ã€‚åœ¨è®¡ç®—æœºç½‘ç»œé¢†åŸŸï¼Œå‰ç«¯é¢è¯•å°±å–œæ¬¢é—®è·¨åŸŸé—®é¢˜ï¼Œä¸€å®šè¦æ·±å…¥ã€å†æ·±å…¥çš„å‡†å¤‡ã€‚Webå®‰å…¨ã€HTTPSã€TCPIPä¹‹ç±»çš„éƒ½æ˜¯è€ç”Ÿå¸¸è°ˆäº†ã€‚</p><p>æµè§ˆå™¨åŸç†ä¸»è¦è€ƒæ ¸æµè§ˆå™¨æ¸²æŸ“æ–¹é¢ã€‚ç»å…¸é¢è¯•é¢˜â€œè¾“å…¥ä¸€ä¸ªurlåˆ°åœ°å€æ ï¼Œæµè§ˆå™¨ç»å†äº†å“ªäº›å˜åŒ–â€å‡ºç°é¢‘ç‡ä¹‹é«˜ä»¤äººå’‚èˆŒï¼Œé»˜é»˜åæ§½ä¸€ä¸‹æ„Ÿè§‰æ¯ä¸ªå…¬å¸é¢è¯•éƒ½ä¼šé—®åˆ°ï¼åœ¨å‰ç«¯å·¥ç¨‹åŒ–é¢†åŸŸï¼Œé¢è¯•å®˜ç»å¸¸ä¼šè€ƒæ ¸webpackå’Œæ€§èƒ½ä¼˜åŒ–ï¼Œä¹Ÿä¼šé—®ä½ å¯¹å‰ç«¯å·¥ç¨‹åŒ–çš„ç†è§£ï¼Œä¼šå¯¹å‰ç«¯å‘å±•è¶‹åŠ¿çš„çœ‹æ³•ã€‚æœåŠ¡å™¨åŸºç¡€çš„çŸ¥è¯†å±äºåŠ åˆ†é¡¹ï¼Œä¼šæœ€å¥½ï¼Œä¸ä¼šé—®é¢˜ä¹Ÿä¸å¤§ã€‚ä¸»è¦NodeJså¤ªå¸¸ç”¨äº†ï¼Œä¸äº†è§£è¯´ä¸è¿‡å»ã€‚</p><p>é™¤äº†ä¸Šè¿°çŸ¥è¯†ç‚¹ï¼Œé¡¹ç›®ç»å†çš„è€ƒæ ¸ä¹Ÿå æ®äº†é¢è¯•çš„åŠå£æ±Ÿå±±ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœä½ çš„é¡¹ç›®ç»å†è¶Šå‡ºä¼—ï¼Œé¢è¯•å®˜è¶Šä¼šå¯¹ä½ çš„é¡¹ç›®æ›´æ„Ÿå…´è¶£ï¼Œä»è€Œæé—®æ›´é•¿çš„æ—¶é—´ã€‚è¿™æ—¶å€™ä½ è¦åšçš„å°±æ˜¯å¥½å¥½å¤ç›˜æ•´ä¸ªé¡¹ç›®ï¼Œå¹¶å‡†å¤‡å¥½ä¸è¯¥é¡¹ç›®æŠ€æœ¯æ ˆç›¸å…³çš„å‘æ•£æ€§çš„å„æ–¹é¢çŸ¥è¯†ç‚¹ã€‚æ­£æ‰€è°“ï¼Œä¸éœ€è¦é¢é¢ä¿±åˆ°ï¼Œä½†è¦æ·±å…¥ä¸€äºŒã€‚</p><h1 id="åŸºç¡€ï¼šHTML"><a href="#åŸºç¡€ï¼šHTML" class="headerlink" title="åŸºç¡€ï¼šHTML"></a>åŸºç¡€ï¼šHTML</h1><h2 id="å¤§çº²"><a href="#å¤§çº²" class="headerlink" title="å¤§çº²"></a>å¤§çº²</h2><p><img src="/img/front-end-interview-preparation/HTML-outline.png"></p><h3 id="HTMLæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#HTMLæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="HTMLæ˜¯ä»€ä¹ˆï¼Ÿ"></a>HTMLæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ (è‹±è¯­ï¼šHypertext Markup Languageï¼Œç®€ç§°ï¼šHTML ) æ˜¯ä¸€ç§ç”¨æ¥ç»“æ„åŒ– Web ç½‘é¡µåŠå…¶å†…å®¹çš„æ ‡è®°è¯­è¨€ã€‚</p><h3 id="HTMLç‰ˆæœ¬"><a href="#HTMLç‰ˆæœ¬" class="headerlink" title="HTMLç‰ˆæœ¬"></a>HTMLç‰ˆæœ¬</h3><ul><li>HTML4ï¼šæ ‡ç­¾å¯ä»¥ä¸ç»“æŸ</li><li>HTML5ï¼šæ–°å¢å†…å®¹</li><li>XHTML<ul><li>ç›®çš„æ˜¯ä¼ è¾“å’Œå­˜å‚¨æ•°æ®ï¼Œè€Œä¸æ˜¯æè¿°æ•°æ®</li><li>æ¯”HTMLæ›´ä¸¥æ ¼ï¼šæ ‡ç­¾å¿…é¡»ç»“æŸï¼Œå±æ€§å¿…é¡»å¸¦å¼•å·ï¼Œå±æ€§å¿…é¡»æœ‰å€¼ï¼Œæ ‡ç­¾å±æ€§å¿…é¡»æœ‰å€¼</li></ul></li></ul><h3 id="HTMLå…ƒç´ åˆ†ç±»"><a href="#HTMLå…ƒç´ åˆ†ç±»" class="headerlink" title="HTMLå…ƒç´ åˆ†ç±»"></a>HTMLå…ƒç´ åˆ†ç±»</h3><ul><li>å—çº§å…ƒç´ blockï¼ˆæ–¹å—å½¢çŠ¶ï¼Œå æ®ä¸€æ•´è¡Œï¼‰ï¼šdiv ul ol li dl dt dd h1~h5 p</li><li>è¡Œå†…å…ƒç´ inline(ä¸€è¡Œä¸­çš„æŸä¸ªä½ç½®)ï¼ša b span img input select strong</li><li>inline-block(è¡Œå†…ï¼Œæœ‰å®½é«˜å±æ€§)ï¼šselection</li><li>ç©ºå…ƒç´ : brã€metaã€hrã€linkã€inputã€img</li></ul><p>åµŒå¥—å…³ç³»ï¼š</p><ul><li>å—çº§å…ƒç´ å¯ä»¥åŒ…å«è¡Œå†…å…ƒç´ </li><li>å—çº§å…ƒç´ ä¸ä¸€å®šèƒ½åŒ…å«å—çº§å…ƒç´ (pæ ‡ç­¾ä¸èƒ½åŒ…å«divæ ‡ç­¾)</li><li>è¡Œå†…å…ƒç´ â€œä¸€èˆ¬â€ä¸èƒ½åŒ…å«å—çº§å…ƒç´ ï¼ˆaåŒ…å«divæ˜¯å¯ä»¥çš„ï¼‰</li></ul><h3 id="HTML5æ–°å¢å†…å®¹"><a href="#HTML5æ–°å¢å†…å®¹" class="headerlink" title="HTML5æ–°å¢å†…å®¹"></a>HTML5æ–°å¢å†…å®¹</h3><ol><li>æ›´å¥½çš„è¯­ä¹‰åŒ–æ ‡ç­¾<blockquote><p><code>&lt;section&gt;</code>ç”¨äºå¯¹ç½‘ç«™å’Œé¡µé¢å†…å®¹åˆ†å—ï¼Œåˆ’åˆ†å•ç‹¬çš„æ¨¡å—åŒºåŸŸ<br><code>&lt;article&gt;</code>ç‹¬ç«‹çš„æ–‡ç« å±•ç¤º<br><code>&lt;aside&gt;</code>é¡µé¢ä¸­çš„é™„å±ä¾§è¾¹ä¿¡æ¯<br><code>&lt;header&gt;</code>å®šä¹‰é¡µé¢æˆ–å†…å®¹çš„å¤´éƒ¨åŒºåŸŸ<br><code>&lt;footer&gt;</code>å®šä¹‰é¡µé¢æˆ–å†…å®¹çš„åº•éƒ¨åŒºåŸŸ<br><code>&lt;nav&gt;</code>å®šä¹‰é¡µé¢å¯¼èˆª<br><code>&lt;figure&gt;</code>è¡¨ç¤ºä¸€ä¸ªç‹¬ç«‹çš„å†…å®¹</p></blockquote></li></ol><ul><li>ä½œç”¨ï¼š1.åˆ©äºSEO 2.å¢å¼ºä»£ç å¯è¯»æ€§</li></ul><ol start="2"><li>Web Workersï¼šè¿è¡Œåœ¨åå°çš„ JavaScriptï¼Œå®ç°å¤šçº¿ç¨‹</li><li>åº”ç”¨ç¼“å­˜ï¼šé€šè¿‡åˆ›å»ºmanifest æ–‡ä»¶ï¼Œå¯ä»¥è½»æ¾åœ°åˆ›å»º web åº”ç”¨çš„ç¦»çº¿ç‰ˆæœ¬</li><li>requestAnimationFrameï¼šä¿è¯å›è°ƒå‡½æ•°åœ¨å±å¹•æ¯ä¸€æ¬¡çš„åˆ·æ–°å»ºä¸ªä¸­åªæ‰§è¡Œä¸€æ¬¡ï¼ŒåŠ¨ç”»ä¸æ‰å¸§</li><li>å¢åŠ äº†canvasï¼Œæ‹–æ”¾apiï¼Œåœ°ç†å®šä½Geolocatioâ€¦</li></ol><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><h3 id="Doctypeä½œâ½¤-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰"><a href="#Doctypeä½œâ½¤-ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰" class="headerlink" title="Doctypeä½œâ½¤? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?"></a>Doctypeä½œâ½¤? ä¸¥æ ¼æ¨¡å¼ä¸æ··æ‚æ¨¡å¼å¦‚ä½•åŒºåˆ†ï¼Ÿå®ƒä»¬æœ‰ä½•æ„ä¹‰?</h3><p><code>&lt;!DOCTYPE&gt;</code>å£°æ˜ä½äºä½äºHTMLæ–‡æ¡£ä¸­çš„ç¬¬ä¸€è¡Œï¼Œå¤„äº<code>&lt;html&gt;</code>æ ‡ç­¾ä¹‹å‰ã€‚å‘ŠçŸ¥æµè§ˆå™¨çš„è§£æå™¨ç”¨ä»€ä¹ˆæ–‡æ¡£æ ‡å‡†è§£æè¿™ä¸ªæ–‡æ¡£ã€‚DOCTYPEä¸å­˜åœ¨æˆ–æ ¼å¼ä¸æ­£ç¡®ä¼šå¯¼è‡´æ–‡æ¡£ä»¥æ··æ‚æ¨¡å¼å‘ˆç°ã€‚</p><ul><li><p>ä¸¥æ ¼æ¨¡å¼ï¼šæ’ç‰ˆå’ŒJSè¿ä½œæ¨¡å¼éƒ½æ˜¯ä»¥è¯¥æµè§ˆå™¨æ”¯æŒçš„æœ€é«˜æ ‡å‡†è¿è¡Œã€‚</p></li><li><p>æ··æ‚æ¨¡å¼(å…¼å®¹æ¨¡å¼)ï¼šé¡µé¢ä»¥å®½æ¾çš„å‘åå…¼å®¹çš„æ–¹å¼æ˜¾ç¤º, æ¨¡æ‹Ÿè€å¼æµè§ˆå™¨çš„è¡Œä¸ºä»¥é˜²æ­¢ç«™ç‚¹æ— æ³•å·¥ä½œã€‚</p></li></ul><h3 id="HTMLå…¨å±€å±æ€§-global-attribute-æœ‰å“ªäº›ï¼Ÿ"><a href="#HTMLå…¨å±€å±æ€§-global-attribute-æœ‰å“ªäº›ï¼Ÿ" class="headerlink" title="HTMLå…¨å±€å±æ€§(global attribute)æœ‰å“ªäº›ï¼Ÿ"></a>HTMLå…¨å±€å±æ€§(global attribute)æœ‰å“ªäº›ï¼Ÿ</h3><p>å…¨å±€å±æ€§å¯ç”¨äºä»»ä½• HTML å…ƒç´ :</p><ul><li><code>class</code>ï¼šä¸ºå…ƒç´ è®¾ç½®ç±»æ ‡è¯†</li><li><code>id</code> idæ ‡è¯†ç¬¦</li><li><code>draggable</code>: æ˜¯å¦å¯æ‹–æ‹½</li><li><code>data-*</code>ï¼š ä¸ºå…ƒç´ å¢åŠ â¾ƒå®šä¹‰å±æ€§</li><li><code>style</code> è¡Œå†…å…ƒç´ </li></ul><h3 id="ä¸ºä»€ä¹ˆscriptæ ‡ç­¾åœ¨bodyåº•éƒ¨ï¼Œstyleæ ‡ç­¾åœ¨headä¸Šï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆscriptæ ‡ç­¾åœ¨bodyåº•éƒ¨ï¼Œstyleæ ‡ç­¾åœ¨headä¸Šï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆscriptæ ‡ç­¾åœ¨bodyåº•éƒ¨ï¼Œstyleæ ‡ç­¾åœ¨headä¸Šï¼Ÿ"></a>ä¸ºä»€ä¹ˆscriptæ ‡ç­¾åœ¨bodyåº•éƒ¨ï¼Œstyleæ ‡ç­¾åœ¨headä¸Šï¼Ÿ</h3><p>æµè§ˆå™¨è§£æHTMLæ–‡æ¡£æ˜¯è‡ªä¸Šè€Œä¸‹çš„ï¼Œé‡åˆ°é»˜è®¤çš„<code>&lt;script&gt;</code>æ ‡ç­¾ï¼Œä¼šå¯¼è‡´æµè§ˆå™¨å¿…é¡»å…ˆåŠ è½½å¹¶æ‰§è¡Œè„šæœ¬ï¼Œä¹‹åæ‰èƒ½ç»§ç»­è§£æã€‚å¯¹äºé‚£äº›éœ€è¦å¾ˆå¤šJavaScriptä»£ç çš„é¡µé¢æ¥è¯´ï¼Œè¿™æ— ç–‘ä¼šå¯¼è‡´æµè§ˆå™¨åœ¨å‘ˆç°é¡µé¢æ—¶å‡ºç°æ˜æ˜¾çš„å»¶è¿Ÿï¼Œè€Œå»¶è¿ŸæœŸé—´çš„æµè§ˆå™¨çª—å£ä¸­å°†æ˜¯ä¸€ç‰‡ç©ºç™½ã€‚</p><p>åŒç†æµè§ˆå™¨è§£æHTMLæ–‡æ¡£æ˜¯è‡ªä¸Šè€Œä¸‹çš„ï¼Œè¿™æ ·<code>&lt;style&gt;</code>æ ‡ç­¾é‡Œçš„æ ·å¼å°±ä¼šä½œç”¨åˆ°bodyé‡Œçš„å…ƒç´ ä¸Šã€‚å¦‚æœ<code>&lt;style&gt;</code>æ ‡ç­¾å†™åœ¨<code>&lt;body&gt;</code>æ ‡ç­¾ä¸‹é¢ï¼Œåœ¨è¿™ä¹‹å‰çš„å…ƒç´ çš„æ ·å¼å°±ä¸ä¼šç”Ÿæ•ˆï¼Œä¼šå¯¼è‡´é¡µé¢ç»“æ„å‡ºæ¥äº†ï¼Œè€ŒCSSè¿˜æ²¡å¼€å§‹æ¸²æŸ“ã€‚</p><p><code>&lt;style&gt;</code>æ ‡ç­¾è¿˜æœ‰ä¸¤ä¸ªå±æ€§ï¼š</p><p><code>async</code>å±æ€§:</p><ol><li>å¯¹äºæ™®é€šè„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ async å±æ€§ï¼Œé‚£ä¹ˆæ™®é€šè„šæœ¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œ<strong>å¹¶å°½å¿«è§£æå’Œæ‰§è¡Œ</strong>ã€‚</li><li>å¯¹äºæ¨¡å—è„šæœ¬ï¼Œå¦‚æœå­˜åœ¨ async å±æ€§ï¼Œé‚£ä¹ˆè„šæœ¬åŠå…¶æ‰€æœ‰ä¾èµ–éƒ½ä¼šåœ¨å»¶ç¼“é˜Ÿåˆ—ä¸­æ‰§è¡Œï¼Œå› æ­¤å®ƒä»¬ä¼šè¢«å¹¶è¡Œè¯·æ±‚ï¼Œå¹¶å°½å¿«è§£æå’Œæ‰§è¡Œã€‚</li></ol><p><code>defer</code>å±æ€§:</p><ol><li>å¹¶è¡Œè¯·æ±‚ï¼Œå°†åœ¨æ–‡æ¡£å®Œæˆè§£æåï¼Œ<strong>è§¦å‘ DOMContentLoaded äº‹ä»¶å‰æ‰§è¡Œ</strong>ã€‚</li><li>å¯¹æ¨¡å—è„šæœ¬æ²¡æœ‰ä½œç”¨ â€”â€” ä»–ä»¬é»˜è®¤ defer</li></ol><p><em>TBC.</em></p>]]></content>
    
    
    <categories>
      
      <category>å‰ç«¯é¢è¯•åŸºç¡€çŸ¥è¯†æ€»ç»“</category>
      
    </categories>
    
    
    <tags>
      
      <tag>front-end</tag>
      
      <tag>interview</tag>
      
      <tag>HTML</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
